(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function U2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rh={exports:{}},Dr={};var d_;function z2(){if(d_)return Dr;d_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Dr.Fragment=t,Dr.jsx=i,Dr.jsxs=i,Dr}var h_;function H2(){return h_||(h_=1,rh.exports=z2()),rh.exports}var f=H2(),lh={exports:{}},ie={};var f_;function B2(){if(f_)return ie;f_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,I={};function V(C,H,G){this.props=C,this.context=H,this.refs=I,this.updater=G||A}V.prototype.isReactComponent={},V.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function B(){}B.prototype=V.prototype;function Y(C,H,G){this.props=C,this.context=H,this.refs=I,this.updater=G||A}var ge=Y.prototype=new B;ge.constructor=Y,L(ge,V.prototype),ge.isPureReactComponent=!0;var F=Array.isArray;function ne(){}var Z={H:null,A:null,T:null,S:null},Le=Object.prototype.hasOwnProperty;function Fe(C,H,G){var Q=G.ref;return{$$typeof:s,type:C,key:H,ref:Q!==void 0?Q:null,props:G}}function qt(C,H){return Fe(C.type,H,C.props)}function gn(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function St(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return H[G]})}var Qi=/\/+/g;function Nn(C,H){return typeof C=="object"&&C!==null&&C.key!=null?St(""+C.key):H.toString(36)}function sn(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,H,G,Q,se){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var Se=!1;if(C===null)Se=!0;else switch(ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(C.$$typeof){case s:case t:Se=!0;break;case x:return Se=C._init,k(Se(C._payload),H,G,Q,se)}}if(Se)return se=se(C),Se=Q===""?"."+Nn(C,0):Q,F(se)?(G="",Se!=null&&(G=Se.replace(Qi,"$&/")+"/"),k(se,H,G,"",function(za){return za})):se!=null&&(gn(se)&&(se=qt(se,G+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(Qi,"$&/")+"/")+Se)),H.push(se)),1;Se=0;var vt=Q===""?".":Q+":";if(F(C))for(var Ke=0;Ke<C.length;Ke++)Q=C[Ke],ce=vt+Nn(Q,Ke),Se+=k(Q,H,G,ce,se);else if(Ke=E(C),typeof Ke=="function")for(C=Ke.call(C),Ke=0;!(Q=C.next()).done;)Q=Q.value,ce=vt+Nn(Q,Ke++),Se+=k(Q,H,G,ce,se);else if(ce==="object"){if(typeof C.then=="function")return k(sn(C),H,G,Q,se);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Se}function q(C,H,G){if(C==null)return C;var Q=[],se=0;return k(C,Q,"","",function(ce){return H.call(G,ce,se++)}),Q}function te(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Te=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Me={map:q,forEach:function(C,H,G){q(C,function(){H.apply(this,arguments)},G)},count:function(C){var H=0;return q(C,function(){H++}),H},toArray:function(C){return q(C,function(H){return H})||[]},only:function(C){if(!gn(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ie.Activity=b,ie.Children=Me,ie.Component=V,ie.Fragment=i,ie.Profiler=o,ie.PureComponent=Y,ie.StrictMode=r,ie.Suspense=p,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Z.H.useMemoCache(C)}},ie.cache=function(C){return function(){return C.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(C,H,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Q=L({},C.props),se=C.key;if(H!=null)for(ce in H.key!==void 0&&(se=""+H.key),H)!Le.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(Q[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)Q.children=G;else if(1<ce){for(var Se=Array(ce),vt=0;vt<ce;vt++)Se[vt]=arguments[vt+2];Q.children=Se}return Fe(C.type,se,Q)},ie.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},ie.createElement=function(C,H,G){var Q,se={},ce=null;if(H!=null)for(Q in H.key!==void 0&&(ce=""+H.key),H)Le.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=H[Q]);var Se=arguments.length-2;if(Se===1)se.children=G;else if(1<Se){for(var vt=Array(Se),Ke=0;Ke<Se;Ke++)vt[Ke]=arguments[Ke+2];se.children=vt}if(C&&C.defaultProps)for(Q in Se=C.defaultProps,Se)se[Q]===void 0&&(se[Q]=Se[Q]);return Fe(C,ce,se)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:m,render:C}},ie.isValidElement=gn,ie.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:te}},ie.memo=function(C,H){return{$$typeof:g,type:C,compare:H===void 0?null:H}},ie.startTransition=function(C){var H=Z.T,G={};Z.T=G;try{var Q=C(),se=Z.S;se!==null&&se(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ne,Te)}catch(ce){Te(ce)}finally{H!==null&&G.types!==null&&(H.types=G.types),Z.T=H}},ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ie.use=function(C){return Z.H.use(C)},ie.useActionState=function(C,H,G){return Z.H.useActionState(C,H,G)},ie.useCallback=function(C,H){return Z.H.useCallback(C,H)},ie.useContext=function(C){return Z.H.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C,H){return Z.H.useDeferredValue(C,H)},ie.useEffect=function(C,H){return Z.H.useEffect(C,H)},ie.useEffectEvent=function(C){return Z.H.useEffectEvent(C)},ie.useId=function(){return Z.H.useId()},ie.useImperativeHandle=function(C,H,G){return Z.H.useImperativeHandle(C,H,G)},ie.useInsertionEffect=function(C,H){return Z.H.useInsertionEffect(C,H)},ie.useLayoutEffect=function(C,H){return Z.H.useLayoutEffect(C,H)},ie.useMemo=function(C,H){return Z.H.useMemo(C,H)},ie.useOptimistic=function(C,H){return Z.H.useOptimistic(C,H)},ie.useReducer=function(C,H,G){return Z.H.useReducer(C,H,G)},ie.useRef=function(C){return Z.H.useRef(C)},ie.useState=function(C){return Z.H.useState(C)},ie.useSyncExternalStore=function(C,H,G){return Z.H.useSyncExternalStore(C,H,G)},ie.useTransition=function(){return Z.H.useTransition()},ie.version="19.2.4",ie}var m_;function nf(){return m_||(m_=1,lh.exports=B2()),lh.exports}var T=nf();const P2=U2(T);var oh={exports:{}},Mr={},ch={exports:{}},uh={};var p_;function V2(){return p_||(p_=1,(function(s){function t(k,q){var te=k.length;k.push(q);e:for(;0<te;){var Te=te-1>>>1,Me=k[Te];if(0<o(Me,q))k[Te]=q,k[te]=Me,te=Te;else break e}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var q=k[0],te=k.pop();if(te!==q){k[0]=te;e:for(var Te=0,Me=k.length,C=Me>>>1;Te<C;){var H=2*(Te+1)-1,G=k[H],Q=H+1,se=k[Q];if(0>o(G,te))Q<Me&&0>o(se,G)?(k[Te]=se,k[Q]=te,Te=Q):(k[Te]=G,k[H]=te,Te=H);else if(Q<Me&&0>o(se,te))k[Te]=se,k[Q]=te,Te=Q;else break e}}return q}function o(k,q){var te=k.sortIndex-q.sortIndex;return te!==0?te:k.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,b=null,v=3,E=!1,A=!1,L=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ge(k){for(var q=i(g);q!==null;){if(q.callback===null)r(g);else if(q.startTime<=k)r(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=i(g)}}function F(k){if(L=!1,ge(k),!A)if(i(p)!==null)A=!0,ne||(ne=!0,St());else{var q=i(g);q!==null&&sn(F,q.startTime-k)}}var ne=!1,Z=-1,Le=5,Fe=-1;function qt(){return I?!0:!(s.unstable_now()-Fe<Le)}function gn(){if(I=!1,ne){var k=s.unstable_now();Fe=k;var q=!0;try{e:{A=!1,L&&(L=!1,B(Z),Z=-1),E=!0;var te=v;try{t:{for(ge(k),b=i(p);b!==null&&!(b.expirationTime>k&&qt());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,v=b.priorityLevel;var Me=Te(b.expirationTime<=k);if(k=s.unstable_now(),typeof Me=="function"){b.callback=Me,ge(k),q=!0;break t}b===i(p)&&r(p),ge(k)}else r(p);b=i(p)}if(b!==null)q=!0;else{var C=i(g);C!==null&&sn(F,C.startTime-k),q=!1}}break e}finally{b=null,v=te,E=!1}q=void 0}}finally{q?St():ne=!1}}}var St;if(typeof Y=="function")St=function(){Y(gn)};else if(typeof MessageChannel<"u"){var Qi=new MessageChannel,Nn=Qi.port2;Qi.port1.onmessage=gn,St=function(){Nn.postMessage(null)}}else St=function(){V(gn,0)};function sn(k,q){Z=V(function(){k(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(k){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var te=v;v=q;try{return k()}finally{v=te}},s.unstable_requestPaint=function(){I=!0},s.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var te=v;v=k;try{return q()}finally{v=te}},s.unstable_scheduleCallback=function(k,q,te){var Te=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Te+te:Te):te=Te,k){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=te+Me,k={id:x++,callback:q,priorityLevel:k,startTime:te,expirationTime:Me,sortIndex:-1},te>Te?(k.sortIndex=te,t(g,k),i(p)===null&&k===i(g)&&(L?(B(Z),Z=-1):L=!0,sn(F,te-Te))):(k.sortIndex=Me,t(p,k),A||E||(A=!0,ne||(ne=!0,St()))),k},s.unstable_shouldYield=qt,s.unstable_wrapCallback=function(k){var q=v;return function(){var te=v;v=q;try{return k.apply(this,arguments)}finally{v=te}}}})(uh)),uh}var g_;function q2(){return g_||(g_=1,ch.exports=V2()),ch.exports}var dh={exports:{}},gt={};var __;function G2(){if(__)return gt;__=1;var s=nf();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,x)},gt.flushSync=function(p){var g=d.T,x=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=g,r.p=x,r.d.f()}},gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},gt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,b=m(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:E}):x==="script"&&r.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=m(x,g.crossOrigin);r.d.L(p,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},gt.requestFormReset=function(p){r.d.r(p)},gt.unstable_batchedUpdates=function(p,g){return p(g)},gt.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var v_;function Y2(){if(v_)return dh.exports;v_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),dh.exports=G2(),dh.exports}var y_;function F2(){if(y_)return Mr;y_=1;var s=q2(),t=nf(),i=Y2();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return p(u),e;if(h===l)return p(u),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=h;else{for(var _=!1,y=u.child;y;){if(y===a){_=!0,a=u,l=h;break}if(y===l){_=!0,l=u,a=h;break}y=y.sibling}if(!_){for(y=h.child;y;){if(y===a){_=!0,a=h,l=u;break}if(y===l){_=!0,l=h,a=u;break}y=y.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Fe=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),gn=Symbol.iterator;function St(e){return e===null||typeof e!="object"?null:(e=gn&&e[gn]||e["@@iterator"],typeof e=="function"?e:null)}var Qi=Symbol.for("react.client.reference");function Nn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qi?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case ne:return"SuspenseList";case Fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case Y:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Nn(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return Nn(e(n))}catch{}}return null}var sn=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Te=[],Me=-1;function C(e){return{current:e}}function H(e){0>Me||(e.current=Te[Me],Te[Me]=null,Me--)}function G(e,n){Me++,Te[Me]=e.current,e.current=n}var Q=C(null),se=C(null),ce=C(null),Se=C(null);function vt(e,n){switch(G(ce,n),G(se,e),G(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?j0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=j0(n),e=k0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Q),G(Q,e)}function Ke(){H(Q),H(se),H(ce)}function za(e){e.memoizedState!==null&&G(Se,e);var n=Q.current,a=k0(n,e.type);n!==a&&(G(se,e),G(Q,a))}function xl(e){se.current===e&&(H(Q),H(se)),Se.current===e&&(H(Se),Nr._currentValue=te)}var Vc,um;function Wi(e){if(Vc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Vc=n&&n[1]||"",um=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+e+um}var qc=!1;function Gc(e,n){if(!e||qc)return"";qc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(M){var D=M}Reflect.construct(e,[],z)}else{try{z.call()}catch(M){D=M}e.call(z.prototype)}}else{try{throw Error()}catch(M){D=M}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],y=h[1];if(_&&y){var S=_.split(`
`),O=y.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===O.length)for(l=S.length-1,u=O.length-1;1<=l&&0<=u&&S[l]!==O[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==O[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==O[u]){var j=`
`+S[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=u);break}}}finally{qc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wi(a):""}function m1(e,n){switch(e.tag){case 26:case 27:case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return e.child!==n&&n!==null?Wi("Suspense Fallback"):Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return Gc(e.type,!1);case 11:return Gc(e.type.render,!1);case 1:return Gc(e.type,!0);case 31:return Wi("Activity");default:return""}}function dm(e){try{var n="",a=null;do n+=m1(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Yc=Object.prototype.hasOwnProperty,Fc=s.unstable_scheduleCallback,Kc=s.unstable_cancelCallback,p1=s.unstable_shouldYield,g1=s.unstable_requestPaint,Mt=s.unstable_now,_1=s.unstable_getCurrentPriorityLevel,hm=s.unstable_ImmediatePriority,fm=s.unstable_UserBlockingPriority,El=s.unstable_NormalPriority,v1=s.unstable_LowPriority,mm=s.unstable_IdlePriority,y1=s.log,b1=s.unstable_setDisableYieldValue,Ha=null,It=null;function si(e){if(typeof y1=="function"&&b1(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ha,e)}catch{}}var jt=Math.clz32?Math.clz32:S1,x1=Math.log,E1=Math.LN2;function S1(e){return e>>>=0,e===0?32:31-(x1(e)/E1|0)|0}var Sl=256,wl=262144,Cl=4194304;function Xi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tl(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?u=Xi(l):(_&=y,_!==0?u=Xi(_):a||(a=y&~e,a!==0&&(u=Xi(a))))):(y=l&~h,y!==0?u=Xi(y):_!==0?u=Xi(_):a||(a=l&~e,a!==0&&(u=Xi(a)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:u}function Ba(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function w1(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(){var e=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),e}function Qc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Pa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C1(e,n,a,l,u,h){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,O=e.hiddenUpdates;for(a=_&~a;0<a;){var j=31-jt(a),z=1<<j;y[j]=0,S[j]=-1;var D=O[j];if(D!==null)for(O[j]=null,j=0;j<D.length;j++){var M=D[j];M!==null&&(M.lane&=-536870913)}a&=~z}l!==0&&gm(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function gm(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-jt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function _m(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-jt(a),u=1<<l;u&n|e[l]&n&&(e[l]|=n),a&=~u}}function vm(e,n){var a=n&-n;return a=(a&42)!==0?1:Wc(a),(a&(e.suspendedLanes|n))!==0?0:a}function Wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ym(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function bm(e,n){var a=q.p;try{return q.p=e,n()}finally{q.p=a}}var ai=Math.random().toString(36).slice(2),ct="__reactFiber$"+ai,wt="__reactProps$"+ai,Ns="__reactContainer$"+ai,Zc="__reactEvents$"+ai,T1="__reactListeners$"+ai,N1="__reactHandles$"+ai,xm="__reactResources$"+ai,Va="__reactMarker$"+ai;function $c(e){delete e[ct],delete e[wt],delete e[Zc],delete e[T1],delete e[N1]}function As(e){var n=e[ct];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ns]||a[ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=V0(e);e!==null;){if(a=e[ct])return a;e=V0(e)}return n}e=a,a=e.parentNode}return null}function Rs(e){if(e=e[ct]||e[Ns]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function qa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Os(e){var n=e[xm];return n||(n=e[xm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Va]=!0}var Em=new Set,Sm={};function Zi(e,n){Ds(e,n),Ds(e+"Capture",n)}function Ds(e,n){for(Sm[e]=n,e=0;e<n.length;e++)Em.add(n[e])}var A1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wm={},Cm={};function R1(e){return Yc.call(Cm,e)?!0:Yc.call(wm,e)?!1:A1.test(e)?Cm[e]=!0:(wm[e]=!0,!1)}function Nl(e,n,a){if(R1(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Al(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function An(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function O1(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(_){a=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jc(e){if(!e._valueTracker){var n=Tm(e)?"checked":"value";e._valueTracker=O1(e,n,""+e[n])}}function Nm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Tm(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var D1=/[\n"\\]/g;function Yt(e){return e.replace(D1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function eu(e,n,a,l,u,h,_,y){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Gt(n)):e.value!==""+Gt(n)&&(e.value=""+Gt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?tu(e,_,Gt(n)):a!=null?tu(e,_,Gt(a)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Gt(y):e.removeAttribute("name")}function Am(e,n,a,l,u,h,_,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Jc(e);return}a=a!=null?""+Gt(a):"",n=n!=null?""+Gt(n):a,y||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Jc(e)}function tu(e,n,a){n==="number"&&Rl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ms(e,n,a,l){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Rm(e,n,a){if(n!=null&&(n=""+Gt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Gt(a):""}function Om(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(sn(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Gt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jc(e)}function Is(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var M1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dm(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||M1.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Mm(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&Dm(e,u,l)}else for(var h in n)n.hasOwnProperty(h)&&Dm(e,h,n[h])}function nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(e){return j1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var iu=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,ks=null;function Im(e){var n=Rs(e);if(n&&(e=n.stateNode)){var a=e[wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(eu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Yt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var u=l[wt]||null;if(!u)throw Error(r(90));eu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Nm(l)}break e;case"textarea":Rm(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ms(e,!!a.multiple,n,!1)}}}var au=!1;function jm(e,n,a){if(au)return e(n,a);au=!0;try{var l=e(n);return l}finally{if(au=!1,(js!==null||ks!==null)&&(vo(),js&&(n=js,e=ks,ks=js=null,Im(n),e)))for(n=0;n<e.length;n++)Im(e[n])}}function Ga(e,n){var a=e.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=!1;if(On)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){ru=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{ru=!1}var ri=null,lu=null,Dl=null;function km(){if(Dl)return Dl;var e,n=lu,a=n.length,l,u="value"in ri?ri.value:ri.textContent,h=u.length;for(e=0;e<a&&n[e]===u[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===u[h-l];l++);return Dl=u.slice(e,1<l?1-l:void 0)}function Ml(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Lm(){return!1}function Ct(e){function n(a,l,u,h,_){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Il:Lm,this.isPropagationStopped=Lm,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ct($i),Fa=b({},$i,{view:0,detail:0}),k1=Ct(Fa),ou,cu,Ka,kl=b({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(ou=e.screenX-Ka.screenX,cu=e.screenY-Ka.screenY):cu=ou=0,Ka=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),Um=Ct(kl),L1=b({},kl,{dataTransfer:0}),U1=Ct(L1),z1=b({},Fa,{relatedTarget:0}),uu=Ct(z1),H1=b({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=Ct(H1),P1=b({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V1=Ct(P1),q1=b({},$i,{data:0}),zm=Ct(q1),G1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F1[e])?!!n[e]:!1}function du(){return K1}var Q1=b({},Fa,{key:function(e){if(e.key){var n=G1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W1=Ct(Q1),X1=b({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=Ct(X1),Z1=b({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),$1=Ct(Z1),J1=b({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=Ct(J1),tx=b({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=Ct(tx),ix=b({},$i,{newState:0,oldState:0}),sx=Ct(ix),ax=[9,13,27,32],hu=On&&"CompositionEvent"in window,Qa=null;On&&"documentMode"in document&&(Qa=document.documentMode);var rx=On&&"TextEvent"in window&&!Qa,Bm=On&&(!hu||Qa&&8<Qa&&11>=Qa),Pm=" ",Vm=!1;function qm(e,n){switch(e){case"keyup":return ax.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function lx(e,n){switch(e){case"compositionend":return Gm(n);case"keypress":return n.which!==32?null:(Vm=!0,Pm);case"textInput":return e=n.data,e===Pm&&Vm?null:e;default:return null}}function ox(e,n){if(Ls)return e==="compositionend"||!hu&&qm(e,n)?(e=km(),Dl=lu=ri=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bm&&n.locale!=="ko"?null:n.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cx[e.type]:n==="textarea"}function Fm(e,n,a,l){js?ks?ks.push(l):ks=[l]:js=l,n=Co(n,"onChange"),0<n.length&&(a=new jl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Wa=null,Xa=null;function ux(e){A0(e,0)}function Ll(e){var n=qa(e);if(Nm(n))return e}function Km(e,n){if(e==="change")return n}var Qm=!1;if(On){var fu;if(On){var mu="oninput"in document;if(!mu){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),mu=typeof Wm.oninput=="function"}fu=mu}else fu=!1;Qm=fu&&(!document.documentMode||9<document.documentMode)}function Xm(){Wa&&(Wa.detachEvent("onpropertychange",Zm),Xa=Wa=null)}function Zm(e){if(e.propertyName==="value"&&Ll(Xa)){var n=[];Fm(n,Xa,e,su(e)),jm(ux,n)}}function dx(e,n,a){e==="focusin"?(Xm(),Wa=n,Xa=a,Wa.attachEvent("onpropertychange",Zm)):e==="focusout"&&Xm()}function hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ll(Xa)}function fx(e,n){if(e==="click")return Ll(n)}function mx(e,n){if(e==="input"||e==="change")return Ll(n)}function px(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kt=typeof Object.is=="function"?Object.is:px;function Za(e,n){if(kt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Yc.call(n,u)||!kt(e[u],n[u]))return!1}return!0}function $m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,n){var a=$m(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$m(a)}}function ep(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ep(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Rl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Rl(e.document)}return n}function pu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var gx=On&&"documentMode"in document&&11>=document.documentMode,Us=null,gu=null,$a=null,_u=!1;function np(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_u||Us==null||Us!==Rl(l)||(l=Us,"selectionStart"in l&&pu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$a&&Za($a,l)||($a=l,l=Co(gu,"onSelect"),0<l.length&&(n=new jl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Us)))}function Ji(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var zs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},vu={},ip={};On&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function es(e){if(vu[e])return vu[e];if(!zs[e])return e;var n=zs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ip)return vu[e]=n[a];return e}var sp=es("animationend"),ap=es("animationiteration"),rp=es("animationstart"),_x=es("transitionrun"),vx=es("transitionstart"),yx=es("transitioncancel"),lp=es("transitionend"),op=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function an(e,n){op.set(e,n),Zi(n,[e])}var Ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],Hs=0,bu=0;function zl(){for(var e=Hs,n=bu=Hs=0;n<e;){var a=Ft[n];Ft[n++]=null;var l=Ft[n];Ft[n++]=null;var u=Ft[n];Ft[n++]=null;var h=Ft[n];if(Ft[n++]=null,l!==null&&u!==null){var _=l.pending;_===null?u.next=u:(u.next=_.next,_.next=u),l.pending=u}h!==0&&cp(a,u,h)}}function Hl(e,n,a,l){Ft[Hs++]=e,Ft[Hs++]=n,Ft[Hs++]=a,Ft[Hs++]=l,bu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xu(e,n,a,l){return Hl(e,n,a,l),Bl(e)}function ts(e,n){return Hl(e,null,null,n),Bl(e)}function cp(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&n!==null&&(u=31-jt(a),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=a|536870912),h):null}function Bl(e){if(50<br)throw br=0,Od=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bs={};function bx(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,n,a,l){return new bx(e,n,a,l)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,n){var a=e.alternate;return a===null?(a=Lt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function up(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pl(e,n,a,l,u,h){var _=0;if(l=e,typeof e=="function")Eu(e)&&(_=1);else if(typeof e=="string")_=C2(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fe:return e=Lt(31,a,n,u),e.elementType=Fe,e.lanes=h,e;case L:return ns(a.children,u,h,n);case I:_=8,u|=24;break;case V:return e=Lt(12,a,n,u|2),e.elementType=V,e.lanes=h,e;case F:return e=Lt(13,a,n,u),e.elementType=F,e.lanes=h,e;case ne:return e=Lt(19,a,n,u),e.elementType=ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:_=10;break e;case B:_=9;break e;case ge:_=11;break e;case Z:_=14;break e;case Le:_=16,l=null;break e}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Lt(_,a,n,u),n.elementType=e,n.type=l,n.lanes=h,n}function ns(e,n,a,l){return e=Lt(7,e,l,n),e.lanes=a,e}function Su(e,n,a){return e=Lt(6,e,null,n),e.lanes=a,e}function dp(e){var n=Lt(18,null,null,0);return n.stateNode=e,n}function wu(e,n,a){return n=Lt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hp=new WeakMap;function Kt(e,n){if(typeof e=="object"&&e!==null){var a=hp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:dm(n)},hp.set(e,n),n)}return{value:e,source:n,stack:dm(n)}}var Ps=[],Vs=0,Vl=null,Ja=0,Qt=[],Wt=0,li=null,_n=1,vn="";function Mn(e,n){Ps[Vs++]=Ja,Ps[Vs++]=Vl,Vl=e,Ja=n}function fp(e,n,a){Qt[Wt++]=_n,Qt[Wt++]=vn,Qt[Wt++]=li,li=e;var l=_n;e=vn;var u=32-jt(l)-1;l&=~(1<<u),a+=1;var h=32-jt(n)+u;if(30<h){var _=u-u%5;h=(l&(1<<_)-1).toString(32),l>>=_,u-=_,_n=1<<32-jt(n)+u|a<<u|l,vn=h+e}else _n=1<<h|a<<u|l,vn=e}function Cu(e){e.return!==null&&(Mn(e,1),fp(e,1,0))}function Tu(e){for(;e===Vl;)Vl=Ps[--Vs],Ps[Vs]=null,Ja=Ps[--Vs],Ps[Vs]=null;for(;e===li;)li=Qt[--Wt],Qt[Wt]=null,vn=Qt[--Wt],Qt[Wt]=null,_n=Qt[--Wt],Qt[Wt]=null}function mp(e,n){Qt[Wt++]=_n,Qt[Wt++]=vn,Qt[Wt++]=li,_n=n.id,vn=n.overflow,li=e}var ut=null,Ue=null,pe=!1,oi=null,Xt=!1,Nu=Error(r(519));function ci(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw er(Kt(n,e)),Nu}function pp(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ct]=e,n[wt]=l,a){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(a=0;a<Er.length;a++)de(Er[a],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":de("invalid",n),Am(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",n);break;case"textarea":de("invalid",n),Om(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||M0(n.textContent,a)?(l.popover!=null&&(de("beforetoggle",n),de("toggle",n)),l.onScroll!=null&&de("scroll",n),l.onScrollEnd!=null&&de("scrollend",n),l.onClick!=null&&(n.onclick=Rn),n=!0):n=!1,n||ci(e,!0)}function gp(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ut=ut.return}}function qs(e){if(e!==ut)return!1;if(!pe)return gp(e),pe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yd(e.type,e.memoizedProps)),a=!a),a&&Ue&&ci(e),gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=P0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=P0(e)}else n===27?(n=Ue,Si(e.type)?(e=Xd,Xd=null,Ue=e):Ue=n):Ue=ut?$t(e.stateNode.nextSibling):null;return!0}function is(){Ue=ut=null,pe=!1}function Au(){var e=oi;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),oi=null),e}function er(e){oi===null?oi=[e]:oi.push(e)}var Ru=C(null),ss=null,In=null;function ui(e,n,a){G(Ru,n._currentValue),n._currentValue=a}function jn(e){e._currentValue=Ru.current,H(Ru)}function Ou(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Du(e,n,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var _=u.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=u;for(var S=0;S<n.length;S++)if(y.context===n[S]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),Ou(h.return,a,e),l||(_=null);break e}h=y.next}}else if(u.tag===18){if(_=u.return,_===null)throw Error(r(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),Ou(_,a,e),_=null}else _=u.child;if(_!==null)_.return=u;else for(_=u;_!==null;){if(_===e){_=null;break}if(u=_.sibling,u!==null){u.return=_.return,_=u;break}_=_.return}u=_}}function Gs(e,n,a,l){e=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var _=u.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var y=u.type;kt(u.pendingProps.value,_.value)||(e!==null?e.push(y):e=[y])}}else if(u===Se.current){if(_=u.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Nr):e=[Nr])}u=u.return}e!==null&&Du(n,e,a,l),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){ss=e,In=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return _p(ss,e)}function Gl(e,n){return ss===null&&as(e),_p(e,n)}function _p(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},In===null){if(e===null)throw Error(r(308));In=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else In=In.next=n;return a}var xx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Ex=s.unstable_scheduleCallback,Sx=s.unstable_NormalPriority,Xe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new xx,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&Ex(Sx,function(){e.controller.abort()})}var nr=null,Iu=0,Ys=0,Fs=null;function wx(e,n){if(nr===null){var a=nr=[];Iu=0,Ys=Ld(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Iu++,n.then(vp,vp),n}function vp(){if(--Iu===0&&nr!==null){Fs!==null&&(Fs.status="fulfilled");var e=nr;nr=null,Ys=0,Fs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Cx(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var yp=k.S;k.S=function(e,n){n0=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wx(e,n),yp!==null&&yp(e,n)};var rs=C(null);function ju(){var e=rs.current;return e!==null?e:Ie.pooledCache}function Yl(e,n){n===null?G(rs,rs.current):G(rs,n.pool)}function bp(){var e=ju();return e===null?null:{parent:Xe._currentValue,pool:e}}var Ks=Error(r(460)),ku=Error(r(474)),Fl=Error(r(542)),Kl={then:function(){}};function xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ep(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Rn,Rn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wp(e),e;default:if(typeof n.status=="string")n.then(Rn,Rn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wp(e),e}throw os=n,Ks}}function ls(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(os=a,Ks):a}}var os=null;function Sp(){if(os===null)throw Error(r(459));var e=os;return os=null,e}function wp(e){if(e===Ks||e===Fl)throw Error(r(483))}var Qs=null,ir=0;function Ql(e){var n=ir;return ir+=1,Qs===null&&(Qs=[]),Ep(Qs,e,n)}function sr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wl(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cp(e){function n(N,w){if(e){var R=N.deletions;R===null?(N.deletions=[w],N.flags|=16):R.push(w)}}function a(N,w){if(!e)return null;for(;w!==null;)n(N,w),w=w.sibling;return null}function l(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function u(N,w){return N=Dn(N,w),N.index=0,N.sibling=null,N}function h(N,w,R){return N.index=R,e?(R=N.alternate,R!==null?(R=R.index,R<w?(N.flags|=67108866,w):R):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function _(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,w,R,U){return w===null||w.tag!==6?(w=Su(R,N.mode,U),w.return=N,w):(w=u(w,R),w.return=N,w)}function S(N,w,R,U){var X=R.type;return X===L?j(N,w,R.props.children,U,R.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Le&&ls(X)===w.type)?(w=u(w,R.props),sr(w,R),w.return=N,w):(w=Pl(R.type,R.key,R.props,null,N.mode,U),sr(w,R),w.return=N,w)}function O(N,w,R,U){return w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation?(w=wu(R,N.mode,U),w.return=N,w):(w=u(w,R.children||[]),w.return=N,w)}function j(N,w,R,U,X){return w===null||w.tag!==7?(w=ns(R,N.mode,U,X),w.return=N,w):(w=u(w,R),w.return=N,w)}function z(N,w,R){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Su(""+w,N.mode,R),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return R=Pl(w.type,w.key,w.props,null,N.mode,R),sr(R,w),R.return=N,R;case A:return w=wu(w,N.mode,R),w.return=N,w;case Le:return w=ls(w),z(N,w,R)}if(sn(w)||St(w))return w=ns(w,N.mode,R,null),w.return=N,w;if(typeof w.then=="function")return z(N,Ql(w),R);if(w.$$typeof===Y)return z(N,Gl(N,w),R);Wl(N,w)}return null}function D(N,w,R,U){var X=w!==null?w.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return X!==null?null:y(N,w,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return R.key===X?S(N,w,R,U):null;case A:return R.key===X?O(N,w,R,U):null;case Le:return R=ls(R),D(N,w,R,U)}if(sn(R)||St(R))return X!==null?null:j(N,w,R,U,null);if(typeof R.then=="function")return D(N,w,Ql(R),U);if(R.$$typeof===Y)return D(N,w,Gl(N,R),U);Wl(N,R)}return null}function M(N,w,R,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return N=N.get(R)||null,y(w,N,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return N=N.get(U.key===null?R:U.key)||null,S(w,N,U,X);case A:return N=N.get(U.key===null?R:U.key)||null,O(w,N,U,X);case Le:return U=ls(U),M(N,w,R,U,X)}if(sn(U)||St(U))return N=N.get(R)||null,j(w,N,U,X,null);if(typeof U.then=="function")return M(N,w,R,Ql(U),X);if(U.$$typeof===Y)return M(N,w,R,Gl(w,U),X);Wl(w,U)}return null}function K(N,w,R,U){for(var X=null,_e=null,W=w,re=w=0,me=null;W!==null&&re<R.length;re++){W.index>re?(me=W,W=null):me=W.sibling;var ve=D(N,W,R[re],U);if(ve===null){W===null&&(W=me);break}e&&W&&ve.alternate===null&&n(N,W),w=h(ve,w,re),_e===null?X=ve:_e.sibling=ve,_e=ve,W=me}if(re===R.length)return a(N,W),pe&&Mn(N,re),X;if(W===null){for(;re<R.length;re++)W=z(N,R[re],U),W!==null&&(w=h(W,w,re),_e===null?X=W:_e.sibling=W,_e=W);return pe&&Mn(N,re),X}for(W=l(W);re<R.length;re++)me=M(W,N,re,R[re],U),me!==null&&(e&&me.alternate!==null&&W.delete(me.key===null?re:me.key),w=h(me,w,re),_e===null?X=me:_e.sibling=me,_e=me);return e&&W.forEach(function(Ai){return n(N,Ai)}),pe&&Mn(N,re),X}function $(N,w,R,U){if(R==null)throw Error(r(151));for(var X=null,_e=null,W=w,re=w=0,me=null,ve=R.next();W!==null&&!ve.done;re++,ve=R.next()){W.index>re?(me=W,W=null):me=W.sibling;var Ai=D(N,W,ve.value,U);if(Ai===null){W===null&&(W=me);break}e&&W&&Ai.alternate===null&&n(N,W),w=h(Ai,w,re),_e===null?X=Ai:_e.sibling=Ai,_e=Ai,W=me}if(ve.done)return a(N,W),pe&&Mn(N,re),X;if(W===null){for(;!ve.done;re++,ve=R.next())ve=z(N,ve.value,U),ve!==null&&(w=h(ve,w,re),_e===null?X=ve:_e.sibling=ve,_e=ve);return pe&&Mn(N,re),X}for(W=l(W);!ve.done;re++,ve=R.next())ve=M(W,N,re,ve.value,U),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?re:ve.key),w=h(ve,w,re),_e===null?X=ve:_e.sibling=ve,_e=ve);return e&&W.forEach(function(L2){return n(N,L2)}),pe&&Mn(N,re),X}function Re(N,w,R,U){if(typeof R=="object"&&R!==null&&R.type===L&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case E:e:{for(var X=R.key;w!==null;){if(w.key===X){if(X=R.type,X===L){if(w.tag===7){a(N,w.sibling),U=u(w,R.props.children),U.return=N,N=U;break e}}else if(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Le&&ls(X)===w.type){a(N,w.sibling),U=u(w,R.props),sr(U,R),U.return=N,N=U;break e}a(N,w);break}else n(N,w);w=w.sibling}R.type===L?(U=ns(R.props.children,N.mode,U,R.key),U.return=N,N=U):(U=Pl(R.type,R.key,R.props,null,N.mode,U),sr(U,R),U.return=N,N=U)}return _(N);case A:e:{for(X=R.key;w!==null;){if(w.key===X)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){a(N,w.sibling),U=u(w,R.children||[]),U.return=N,N=U;break e}else{a(N,w);break}else n(N,w);w=w.sibling}U=wu(R,N.mode,U),U.return=N,N=U}return _(N);case Le:return R=ls(R),Re(N,w,R,U)}if(sn(R))return K(N,w,R,U);if(St(R)){if(X=St(R),typeof X!="function")throw Error(r(150));return R=X.call(R),$(N,w,R,U)}if(typeof R.then=="function")return Re(N,w,Ql(R),U);if(R.$$typeof===Y)return Re(N,w,Gl(N,R),U);Wl(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,w!==null&&w.tag===6?(a(N,w.sibling),U=u(w,R),U.return=N,N=U):(a(N,w),U=Su(R,N.mode,U),U.return=N,N=U),_(N)):a(N,w)}return function(N,w,R,U){try{ir=0;var X=Re(N,w,R,U);return Qs=null,X}catch(W){if(W===Ks||W===Fl)throw W;var _e=Lt(29,W,null,N.mode);return _e.lanes=U,_e.return=N,_e}}}var cs=Cp(!0),Tp=Cp(!1),di=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(be&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Bl(e),cp(e,null,a),n}return Hl(e,l,n,a),Bl(e)}function ar(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,_m(e,a)}}function zu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?u=h=n:h=h.next=n}else u=h=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Hu=!1;function rr(){if(Hu){var e=Fs;if(e!==null)throw e}}function lr(e,n,a,l){Hu=!1;var u=e.updateQueue;di=!1;var h=u.firstBaseUpdate,_=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var S=y,O=S.next;S.next=null,_===null?h=O:_.next=O,_=S;var j=e.alternate;j!==null&&(j=j.updateQueue,y=j.lastBaseUpdate,y!==_&&(y===null?j.firstBaseUpdate=O:y.next=O,j.lastBaseUpdate=S))}if(h!==null){var z=u.baseState;_=0,j=O=S=null,y=h;do{var D=y.lane&-536870913,M=D!==y.lane;if(M?(fe&D)===D:(l&D)===D){D!==0&&D===Ys&&(Hu=!0),j!==null&&(j=j.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var K=e,$=y;D=n;var Re=a;switch($.tag){case 1:if(K=$.payload,typeof K=="function"){z=K.call(Re,z,D);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=$.payload,D=typeof K=="function"?K.call(Re,z,D):K,D==null)break e;z=b({},z,D);break e;case 2:di=!0}}D=y.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=u.callbacks,M===null?u.callbacks=[D]:M.push(D))}else M={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},j===null?(O=j=M,S=z):j=j.next=M,_|=D;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;M=y,y=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);j===null&&(S=z),u.baseState=S,u.firstBaseUpdate=O,u.lastBaseUpdate=j,h===null&&(u.shared.lanes=0),vi|=_,e.lanes=_,e.memoizedState=z}}function Np(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Np(a[e],n)}var Ws=C(null),Xl=C(0);function Rp(e,n){e=qn,G(Xl,e),G(Ws,n),qn=e|n.baseLanes}function Bu(){G(Xl,qn),G(Ws,Ws.current)}function Pu(){qn=Xl.current,H(Ws),H(Xl)}var Ut=C(null),Zt=null;function mi(e){var n=e.alternate;G(Qe,Qe.current&1),G(Ut,e),Zt===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Zt=e)}function Vu(e){G(Qe,Qe.current),G(Ut,e),Zt===null&&(Zt=e)}function Op(e){e.tag===22?(G(Qe,Qe.current),G(Ut,e),Zt===null&&(Zt=e)):pi()}function pi(){G(Qe,Qe.current),G(Ut,Ut.current)}function zt(e){H(Ut),Zt===e&&(Zt=null),H(Qe)}var Qe=C(0);function Zl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var kn=0,ae=null,Ne=null,Ze=null,$l=!1,Xs=!1,us=!1,Jl=0,or=0,Zs=null,Tx=0;function Ve(){throw Error(r(321))}function qu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kt(e[a],n[a]))return!1;return!0}function Gu(e,n,a,l,u,h){return kn=h,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?fg:ad,us=!1,h=a(l,u),us=!1,Xs&&(h=Mp(n,a,l,u)),Dp(e),h}function Dp(e){k.H=dr;var n=Ne!==null&&Ne.next!==null;if(kn=0,Ze=Ne=ae=null,$l=!1,or=0,Zs=null,n)throw Error(r(300));e===null||$e||(e=e.dependencies,e!==null&&ql(e)&&($e=!0))}function Mp(e,n,a,l){ae=e;var u=0;do{if(Xs&&(Zs=null),or=0,Xs=!1,25<=u)throw Error(r(301));if(u+=1,Ze=Ne=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=mg,h=n(a,l)}while(Xs);return h}function Nx(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?cr(n):n,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ae.flags|=1024),n}function Yu(){var e=Jl!==0;return Jl=0,e}function Fu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ku(e){if($l){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}$l=!1}kn=0,Ze=Ne=ae=null,Xs=!1,or=Jl=0,Zs=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ae.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function We(){if(Ne===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Ze===null?ae.memoizedState:Ze.next;if(n!==null)Ze=n,Ne=e;else{if(e===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ze===null?ae.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var n=or;return or+=1,Zs===null&&(Zs=[]),e=Ep(Zs,e,n),n=ae,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?fg:ad),e}function to(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===Y)return dt(e)}throw Error(r(438,String(e)))}function Qu(e){var n=null,a=ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eo(),ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=qt;return n.index++,a}function Ln(e,n){return typeof n=="function"?n(e):n}function no(e){var n=We();return Wu(n,Ne,e)}function Wu(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var _=u.next;u.next=h.next,h.next=_}n.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{n=u.next;var y=_=null,S=null,O=n,j=!1;do{var z=O.lane&-536870913;if(z!==O.lane?(fe&z)===z:(kn&z)===z){var D=O.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),z===Ys&&(j=!0);else if((kn&D)===D){O=O.next,D===Ys&&(j=!0);continue}else z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(y=S=z,_=h):S=S.next=z,ae.lanes|=D,vi|=D;z=O.action,us&&a(h,z),h=O.hasEagerState?O.eagerState:a(h,z)}else D={lane:z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(y=S=D,_=h):S=S.next=D,ae.lanes|=z,vi|=z;O=O.next}while(O!==null&&O!==n);if(S===null?_=h:S.next=y,!kt(h,e.memoizedState)&&($e=!0,j&&(a=Fs,a!==null)))throw a;e.memoizedState=h,e.baseState=_,e.baseQueue=S,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xu(e){var n=We(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,h=n.memoizedState;if(u!==null){a.pending=null;var _=u=u.next;do h=e(h,_.action),_=_.next;while(_!==u);kt(h,n.memoizedState)||($e=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Ip(e,n,a){var l=ae,u=We(),h=pe;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!kt((Ne||u).memoizedState,a);if(_&&(u.memoizedState=a,$e=!0),u=u.queue,Ju(Lp.bind(null,l,u,e),[e]),u.getSnapshot!==n||_||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,$s(9,{destroy:void 0},kp.bind(null,l,u,a,n),null),Ie===null)throw Error(r(349));h||(kn&127)!==0||jp(l,n,a)}return a}function jp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ae.updateQueue,n===null?(n=eo(),ae.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function kp(e,n,a,l){n.value=a,n.getSnapshot=l,Up(n)&&zp(e)}function Lp(e,n,a){return a(function(){Up(n)&&zp(e)})}function Up(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kt(e,a)}catch{return!0}}function zp(e){var n=ts(e,2);n!==null&&Ot(n,e,2)}function Zu(e){var n=yt();if(typeof e=="function"){var a=e;if(e=a(),us){si(!0);try{a()}finally{si(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},n}function Hp(e,n,a,l){return e.baseState=a,Wu(e,Ne,typeof l=="function"?l:Ln)}function Ax(e,n,a,l,u){if(ao(e))throw Error(r(485));if(e=n.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};k.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Bp(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Bp(e,n){var a=n.action,l=n.payload,u=e.state;if(n.isTransition){var h=k.T,_={};k.T=_;try{var y=a(u,l),S=k.S;S!==null&&S(_,y),Pp(e,n,y)}catch(O){$u(e,n,O)}finally{h!==null&&_.types!==null&&(h.types=_.types),k.T=h}}else try{h=a(u,l),Pp(e,n,h)}catch(O){$u(e,n,O)}}function Pp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vp(e,n,l)},function(l){return $u(e,n,l)}):Vp(e,n,a)}function Vp(e,n,a){n.status="fulfilled",n.value=a,qp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Bp(e,a)))}function $u(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,qp(n),n=n.next;while(n!==l)}e.action=null}function qp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gp(e,n){return n}function Yp(e,n){if(pe){var a=Ie.formState;if(a!==null){e:{var l=ae;if(pe){if(Ue){t:{for(var u=Ue,h=Xt;u.nodeType!==8;){if(!h){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Ue=$t(u.nextSibling),l=u.data==="F!";break e}}ci(l)}l=!1}l&&(n=a[0])}}return a=yt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:n},a.queue=l,a=ug.bind(null,ae,l),l.dispatch=a,l=Zu(!1),h=sd.bind(null,ae,!1,l.queue),l=yt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,a=Ax.bind(null,ae,u,h,a),u.dispatch=a,l.memoizedState=e,[n,a,!1]}function Fp(e){var n=We();return Kp(n,Ne,e)}function Kp(e,n,a){if(n=Wu(e,n,Gp)[0],e=no(Ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cr(n)}catch(_){throw _===Ks?Fl:_}else l=n;n=We();var u=n.queue,h=u.dispatch;return a!==n.memoizedState&&(ae.flags|=2048,$s(9,{destroy:void 0},Rx.bind(null,u,a),null)),[l,h,e]}function Rx(e,n){e.action=n}function Qp(e){var n=We(),a=Ne;if(a!==null)return Kp(n,a,e);We(),n=n.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function $s(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ae.updateQueue,n===null&&(n=eo(),ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Wp(){return We().memoizedState}function io(e,n,a,l){var u=yt();ae.flags|=e,u.memoizedState=$s(1|n,{destroy:void 0},a,l===void 0?null:l)}function so(e,n,a,l){var u=We();l=l===void 0?null:l;var h=u.memoizedState.inst;Ne!==null&&l!==null&&qu(l,Ne.memoizedState.deps)?u.memoizedState=$s(n,h,a,l):(ae.flags|=e,u.memoizedState=$s(1|n,h,a,l))}function Xp(e,n){io(8390656,8,e,n)}function Ju(e,n){so(2048,8,e,n)}function Ox(e){ae.flags|=4;var n=ae.updateQueue;if(n===null)n=eo(),ae.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Zp(e){var n=We().memoizedState;return Ox({ref:n,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function $p(e,n){return so(4,2,e,n)}function Jp(e,n){return so(4,4,e,n)}function eg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tg(e,n,a){a=a!=null?a.concat([e]):null,so(4,4,eg.bind(null,n,e),a)}function ed(){}function ng(e,n){var a=We();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&qu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function ig(e,n){var a=We();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&qu(n,l[1]))return l[0];if(l=e(),us){si(!0);try{e()}finally{si(!1)}}return a.memoizedState=[l,n],l}function td(e,n,a){return a===void 0||(kn&1073741824)!==0&&(fe&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=s0(),ae.lanes|=e,vi|=e,a)}function sg(e,n,a,l){return kt(a,n)?a:Ws.current!==null?(e=td(e,a,l),kt(e,n)||($e=!0),e):(kn&42)===0||(kn&1073741824)!==0&&(fe&261930)===0?($e=!0,e.memoizedState=a):(e=s0(),ae.lanes|=e,vi|=e,n)}function ag(e,n,a,l,u){var h=q.p;q.p=h!==0&&8>h?h:8;var _=k.T,y={};k.T=y,sd(e,!1,n,a);try{var S=u(),O=k.S;if(O!==null&&O(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var j=Cx(S,l);ur(e,n,j,Pt(e))}else ur(e,n,l,Pt(e))}catch(z){ur(e,n,{then:function(){},status:"rejected",reason:z},Pt())}finally{q.p=h,_!==null&&y.types!==null&&(_.types=y.types),k.T=_}}function Dx(){}function nd(e,n,a,l){if(e.tag!==5)throw Error(r(476));var u=rg(e).queue;ag(e,u,n,te,a===null?Dx:function(){return lg(e),a(l)})}function rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lg(e){var n=rg(e);n.next===null&&(n=e.alternate.memoizedState),ur(e,n.next.queue,{},Pt())}function id(){return dt(Nr)}function og(){return We().memoizedState}function cg(){return We().memoizedState}function Mx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pt();e=hi(a);var l=fi(n,e,a);l!==null&&(Ot(l,n,a),ar(l,n,a)),n={cache:Mu()},e.payload=n;return}n=n.return}}function Ix(e,n,a){var l=Pt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(e)?dg(n,a):(a=xu(e,n,a,l),a!==null&&(Ot(a,e,l),hg(a,n,l)))}function ug(e,n,a){var l=Pt();ur(e,n,a,l)}function ur(e,n,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ao(e))dg(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,y=h(_,a);if(u.hasEagerState=!0,u.eagerState=y,kt(y,_))return Hl(e,n,u,0),Ie===null&&zl(),!1}catch{}if(a=xu(e,n,u,l),a!==null)return Ot(a,e,l),hg(a,n,l),!0}return!1}function sd(e,n,a,l){if(l={lane:2,revertLane:Ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(e)){if(n)throw Error(r(479))}else n=xu(e,a,l,2),n!==null&&Ot(n,e,2)}function ao(e){var n=e.alternate;return e===ae||n!==null&&n===ae}function dg(e,n){Xs=$l=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function hg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,_m(e,a)}}var dr={readContext:dt,use:to,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};dr.useEffectEvent=Ve;var fg={readContext:dt,use:to,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:dt,useEffect:Xp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,io(4194308,4,eg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return io(4194308,4,e,n)},useInsertionEffect:function(e,n){io(4,2,e,n)},useMemo:function(e,n){var a=yt();n=n===void 0?null:n;var l=e();if(us){si(!0);try{e()}finally{si(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=yt();if(a!==void 0){var u=a(n);if(us){si(!0);try{a(n)}finally{si(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=Ix.bind(null,ae,e),[l.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=Zu(e);var n=e.queue,a=ug.bind(null,ae,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(e,n){var a=yt();return td(a,e,n)},useTransition:function(){var e=Zu(!1);return e=ag.bind(null,ae,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ae,u=yt();if(pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Ie===null)throw Error(r(349));(fe&127)!==0||jp(l,n,a)}u.memoizedState=a;var h={value:a,getSnapshot:n};return u.queue=h,Xp(Lp.bind(null,l,h,e),[e]),l.flags|=2048,$s(9,{destroy:void 0},kp.bind(null,l,h,a,n),null),a},useId:function(){var e=yt(),n=Ie.identifierPrefix;if(pe){var a=vn,l=_n;a=(l&~(1<<32-jt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Jl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Tx++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:id,useFormState:Yp,useActionState:Yp,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sd.bind(null,ae,!0,a),a.dispatch=n,[e,n]},useMemoCache:Qu,useCacheRefresh:function(){return yt().memoizedState=Mx.bind(null,ae)},useEffectEvent:function(e){var n=yt(),a={impl:e};return n.memoizedState=a,function(){if((be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:dt,use:to,useCallback:ng,useContext:dt,useEffect:Ju,useImperativeHandle:tg,useInsertionEffect:$p,useLayoutEffect:Jp,useMemo:ig,useReducer:no,useRef:Wp,useState:function(){return no(Ln)},useDebugValue:ed,useDeferredValue:function(e,n){var a=We();return sg(a,Ne.memoizedState,e,n)},useTransition:function(){var e=no(Ln)[0],n=We().memoizedState;return[typeof e=="boolean"?e:cr(e),n]},useSyncExternalStore:Ip,useId:og,useHostTransitionStatus:id,useFormState:Fp,useActionState:Fp,useOptimistic:function(e,n){var a=We();return Hp(a,Ne,e,n)},useMemoCache:Qu,useCacheRefresh:cg};ad.useEffectEvent=Zp;var mg={readContext:dt,use:to,useCallback:ng,useContext:dt,useEffect:Ju,useImperativeHandle:tg,useInsertionEffect:$p,useLayoutEffect:Jp,useMemo:ig,useReducer:Xu,useRef:Wp,useState:function(){return Xu(Ln)},useDebugValue:ed,useDeferredValue:function(e,n){var a=We();return Ne===null?td(a,e,n):sg(a,Ne.memoizedState,e,n)},useTransition:function(){var e=Xu(Ln)[0],n=We().memoizedState;return[typeof e=="boolean"?e:cr(e),n]},useSyncExternalStore:Ip,useId:og,useHostTransitionStatus:id,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,n){var a=We();return Ne!==null?Hp(a,Ne,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:cg};mg.useEffectEvent=Zp;function rd(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ld={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Pt(),u=hi(l);u.payload=n,a!=null&&(u.callback=a),n=fi(e,u,l),n!==null&&(Ot(n,e,l),ar(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Pt(),u=hi(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=fi(e,u,l),n!==null&&(Ot(n,e,l),ar(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Pt(),l=hi(a);l.tag=2,n!=null&&(l.callback=n),n=fi(e,l,a),n!==null&&(Ot(n,e,a),ar(n,e,a))}};function pg(e,n,a,l,u,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!Za(a,l)||!Za(u,h):!0}function gg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&ld.enqueueReplaceState(n,n.state,null)}function ds(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function _g(e){Ul(e)}function vg(e){console.error(e)}function yg(e){Ul(e)}function ro(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function od(e,n,a){return a=hi(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(e,n)},a}function xg(e){return e=hi(e),e.tag=3,e}function Eg(e,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){bg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){bg(n,a,l),typeof u!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function jx(e,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Gs(n,a,u,!0),a=Ut.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?yo():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Kl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Id(e,l,u)),!1;case 22:return a.flags|=65536,l===Kl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Id(e,l,u)),!1}throw Error(r(435,a.tag))}return Id(e,l,u),yo(),!1}if(pe)return n=Ut.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Nu&&(e=Error(r(422),{cause:l}),er(Kt(e,a)))):(l!==Nu&&(n=Error(r(423),{cause:l}),er(Kt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Kt(l,a),u=od(e.stateNode,l,u),zu(e,u),qe!==4&&(qe=2)),!1;var h=Error(r(520),{cause:l});if(h=Kt(h,a),yr===null?yr=[h]:yr.push(h),qe!==4&&(qe=2),n===null)return!0;l=Kt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=od(a.stateNode,l,e),zu(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(yi===null||!yi.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=xg(u),Eg(u,e,a,l),zu(a,u),!1}a=a.return}while(a!==null);return!1}var cd=Error(r(461)),$e=!1;function ht(e,n,a,l){n.child=e===null?Tp(n,null,a,l):cs(n,e.child,a,l)}function Sg(e,n,a,l,u){a=a.render;var h=n.ref;if("ref"in l){var _={};for(var y in l)y!=="ref"&&(_[y]=l[y])}else _=l;return as(n),l=Gu(e,n,a,_,h,u),y=Yu(),e!==null&&!$e?(Fu(e,n,u),Un(e,n,u)):(pe&&y&&Cu(n),n.flags|=1,ht(e,n,l,u),n.child)}function wg(e,n,a,l,u){if(e===null){var h=a.type;return typeof h=="function"&&!Eu(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Cg(e,n,h,l,u)):(e=Pl(a.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!_d(e,u)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:Za,a(_,l)&&e.ref===n.ref)return Un(e,n,u)}return n.flags|=1,e=Dn(h,l),e.ref=n.ref,e.return=n,n.child=e}function Cg(e,n,a,l,u){if(e!==null){var h=e.memoizedProps;if(Za(h,l)&&e.ref===n.ref)if($e=!1,n.pendingProps=l=h,_d(e,u))(e.flags&131072)!==0&&($e=!0);else return n.lanes=e.lanes,Un(e,n,u)}return ud(e,n,a,l,u)}function Tg(e,n,a,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,n.child=null;return Ng(e,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yl(n,h!==null?h.cachePool:null),h!==null?Rp(n,h):Bu(),Op(n);else return l=n.lanes=536870912,Ng(e,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Yl(n,h.cachePool),Rp(n,h),pi(),n.memoizedState=null):(e!==null&&Yl(n,null),Bu(),pi());return ht(e,n,u,a),n.child}function hr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(e,n,a,l,u){var h=ju();return h=h===null?null:{parent:Xe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Yl(n,null),Bu(),Op(n),e!==null&&Gs(e,n,l,!0),n.childLanes=u,null}function lo(e,n){return n=co({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ag(e,n,a){return cs(n,e.child,null,a),e=lo(n,n.pendingProps),e.flags|=2,zt(n),n.memoizedState=null,e}function kx(e,n,a){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(pe){if(l.mode==="hidden")return e=lo(n,l),n.lanes=536870912,hr(null,e);if(Vu(n),(e=Ue)?(e=B0(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},a=dp(e),a.return=n,n.child=a,ut=n,Ue=null)):e=null,e===null)throw ci(n);return n.lanes=536870912,null}return lo(n,l)}var h=e.memoizedState;if(h!==null){var _=h.dehydrated;if(Vu(n),u)if(n.flags&256)n.flags&=-257,n=Ag(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if($e||Gs(e,n,a,!1),u=(a&e.childLanes)!==0,$e||u){if(l=Ie,l!==null&&(_=vm(l,a),_!==0&&_!==h.retryLane))throw h.retryLane=_,ts(e,_),Ot(l,e,_),cd;yo(),n=Ag(e,n,a)}else e=h.treeContext,Ue=$t(_.nextSibling),ut=n,pe=!0,oi=null,Xt=!1,e!==null&&mp(n,e),n=lo(n,l),n.flags|=4096;return n}return e=Dn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function oo(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ud(e,n,a,l,u){return as(n),a=Gu(e,n,a,l,void 0,u),l=Yu(),e!==null&&!$e?(Fu(e,n,u),Un(e,n,u)):(pe&&l&&Cu(n),n.flags|=1,ht(e,n,a,u),n.child)}function Rg(e,n,a,l,u,h){return as(n),n.updateQueue=null,a=Mp(n,l,a,u),Dp(e),l=Yu(),e!==null&&!$e?(Fu(e,n,h),Un(e,n,h)):(pe&&l&&Cu(n),n.flags|=1,ht(e,n,a,h),n.child)}function Og(e,n,a,l,u){if(as(n),n.stateNode===null){var h=Bs,_=a.contextType;typeof _=="object"&&_!==null&&(h=dt(_)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ld,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Lu(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?dt(_):Bs,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(n,a,_,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&ld.enqueueReplaceState(h,h.state,null),lr(n,l,h,u),rr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var y=n.memoizedProps,S=ds(a,y);h.props=S;var O=h.context,j=a.contextType;_=Bs,typeof j=="object"&&j!==null&&(_=dt(j));var z=a.getDerivedStateFromProps;j=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||O!==_)&&gg(n,h,l,_),di=!1;var D=n.memoizedState;h.state=D,lr(n,l,h,u),rr(),O=n.memoizedState,y||D!==O||di?(typeof z=="function"&&(rd(n,a,z,l),O=n.memoizedState),(S=di||pg(n,a,S,l,D,O,_))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),h.props=l,h.state=O,h.context=_,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Uu(e,n),_=n.memoizedProps,j=ds(a,_),h.props=j,z=n.pendingProps,D=h.context,O=a.contextType,S=Bs,typeof O=="object"&&O!==null&&(S=dt(O)),y=a.getDerivedStateFromProps,(O=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==z||D!==S)&&gg(n,h,l,S),di=!1,D=n.memoizedState,h.state=D,lr(n,l,h,u),rr();var M=n.memoizedState;_!==z||D!==M||di||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof y=="function"&&(rd(n,a,y,l),M=n.memoizedState),(j=di||pg(n,a,j,l,D,M,S)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(O||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,M,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,M,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=M),h.props=l,h.state=M,h.context=S,l=j):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,oo(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=cs(n,e.child,null,u),n.child=cs(n,null,a,u)):ht(e,n,a,u),n.memoizedState=h.state,e=n.child):e=Un(e,n,u),e}function Dg(e,n,a,l){return is(),n.flags|=256,ht(e,n,a,l),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(e){return{baseLanes:e,cachePool:bp()}}function fd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bt),e}function Mg(e,n,a){var l=n.pendingProps,u=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),_&&(u=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(pe){if(u?mi(n):pi(),(e=Ue)?(e=B0(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},a=dp(e),a.return=n,n.child=a,ut=n,Ue=null)):e=null,e===null)throw ci(n);return Wd(e)?n.lanes=32:n.lanes=536870912,null}var y=l.children;return l=l.fallback,u?(pi(),u=n.mode,y=co({mode:"hidden",children:y},u),l=ns(l,u,a,null),y.return=n,l.return=n,y.sibling=l,n.child=y,l=n.child,l.memoizedState=hd(a),l.childLanes=fd(e,_,a),n.memoizedState=dd,hr(null,l)):(mi(n),md(n,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(h)n.flags&256?(mi(n),n.flags&=-257,n=pd(e,n,a)):n.memoizedState!==null?(pi(),n.child=e.child,n.flags|=128,n=null):(pi(),y=l.fallback,u=n.mode,l=co({mode:"visible",children:l.children},u),y=ns(y,u,a,null),y.flags|=2,l.return=n,y.return=n,l.sibling=y,n.child=l,cs(n,e.child,null,a),l=n.child,l.memoizedState=hd(a),l.childLanes=fd(e,_,a),n.memoizedState=dd,n=hr(null,l));else if(mi(n),Wd(y)){if(_=y.nextSibling&&y.nextSibling.dataset,_)var O=_.dgst;_=O,l=Error(r(419)),l.stack="",l.digest=_,er({value:l,source:null,stack:null}),n=pd(e,n,a)}else if($e||Gs(e,n,a,!1),_=(a&e.childLanes)!==0,$e||_){if(_=Ie,_!==null&&(l=vm(_,a),l!==0&&l!==S.retryLane))throw S.retryLane=l,ts(e,l),Ot(_,e,l),cd;Qd(y)||yo(),n=pd(e,n,a)}else Qd(y)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Ue=$t(y.nextSibling),ut=n,pe=!0,oi=null,Xt=!1,e!==null&&mp(n,e),n=md(n,l.children),n.flags|=4096);return n}return u?(pi(),y=l.fallback,u=n.mode,S=e.child,O=S.sibling,l=Dn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,O!==null?y=Dn(O,y):(y=ns(y,u,a,null),y.flags|=2),y.return=n,l.return=n,l.sibling=y,n.child=l,hr(null,l),l=n.child,y=e.child.memoizedState,y===null?y=hd(a):(u=y.cachePool,u!==null?(S=Xe._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=bp(),y={baseLanes:y.baseLanes|a,cachePool:u}),l.memoizedState=y,l.childLanes=fd(e,_,a),n.memoizedState=dd,hr(e.child,l)):(mi(n),a=e.child,e=a.sibling,a=Dn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function md(e,n){return n=co({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function co(e,n){return e=Lt(22,e,null,n),e.lanes=0,e}function pd(e,n,a){return cs(n,e.child,null,a),e=md(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ig(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ou(e.return,n,a)}function gd(e,n,a,l,u,h){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:h}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=u,_.treeForkCount=h)}function jg(e,n,a){var l=n.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var _=Qe.current,y=(_&2)!==0;if(y?(_=_&1|2,n.flags|=128):_&=1,G(Qe,_),ht(e,n,l,a),l=pe?Ja:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,a,n);else if(e.tag===19)Ig(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&Zl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),gd(n,!1,u,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Zl(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}gd(n,!0,a,null,h,l);break;case"together":gd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Un(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),vi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Gs(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Dn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Dn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function _d(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function Lx(e,n,a){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),ui(n,Xe,e.memoizedState.cache),is();break;case 27:case 5:za(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:ui(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(mi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Mg(e,n,a):(mi(n),e=Un(e,n,a),e!==null?e.sibling:null);mi(n);break;case 19:var u=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Gs(e,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return jg(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(Qe,Qe.current),l)break;return null;case 22:return n.lanes=0,Tg(e,n,a,n.pendingProps);case 24:ui(n,Xe,e.memoizedState.cache)}return Un(e,n,a)}function kg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)$e=!0;else{if(!_d(e,a)&&(n.flags&128)===0)return $e=!1,Lx(e,n,a);$e=(e.flags&131072)!==0}else $e=!1,pe&&(n.flags&1048576)!==0&&fp(n,Ja,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=ls(n.elementType),n.type=e,typeof e=="function")Eu(e)?(l=ds(e,l),n.tag=1,n=Og(null,n,e,l,a)):(n.tag=0,n=ud(null,n,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===ge){n.tag=11,n=Sg(null,n,e,l,a);break e}else if(u===Z){n.tag=14,n=wg(null,n,e,l,a);break e}}throw n=Nn(e)||e,Error(r(306,n,""))}}return n;case 0:return ud(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=ds(l,n.pendingProps),Og(e,n,l,u,a);case 3:e:{if(vt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;u=h.element,Uu(e,n),lr(n,l,null,a);var _=n.memoizedState;if(l=_.cache,ui(n,Xe,l),l!==h.cache&&Du(n,[Xe],a,!0),rr(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Dg(e,n,l,a);break e}else if(l!==u){u=Kt(Error(r(424)),n),er(u),n=Dg(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=$t(e.firstChild),ut=n,pe=!0,oi=null,Xt=!0,a=Tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(is(),l===u){n=Un(e,n,a);break e}ht(e,n,l,a)}n=n.child}return n;case 26:return oo(e,n),e===null?(a=F0(n.type,null,n.pendingProps,null))?n.memoizedState=a:pe||(a=n.type,e=n.pendingProps,l=To(ce.current).createElement(a),l[ct]=n,l[wt]=e,ft(l,a,e),it(l),n.stateNode=l):n.memoizedState=F0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return za(n),e===null&&pe&&(l=n.stateNode=q0(n.type,n.pendingProps,ce.current),ut=n,Xt=!0,u=Ue,Si(n.type)?(Xd=u,Ue=$t(l.firstChild)):Ue=u),ht(e,n,n.pendingProps.children,a),oo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&pe&&((u=l=Ue)&&(l=h2(l,n.type,n.pendingProps,Xt),l!==null?(n.stateNode=l,ut=n,Ue=$t(l.firstChild),Xt=!1,u=!0):u=!1),u||ci(n)),za(n),u=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,l=h.children,Yd(u,h)?l=null:_!==null&&Yd(u,_)&&(n.flags|=32),n.memoizedState!==null&&(u=Gu(e,n,Nx,null,null,a),Nr._currentValue=u),oo(e,n),ht(e,n,l,a),n.child;case 6:return e===null&&pe&&((e=a=Ue)&&(a=f2(a,n.pendingProps,Xt),a!==null?(n.stateNode=a,ut=n,Ue=null,e=!0):e=!1),e||ci(n)),null;case 13:return Mg(e,n,a);case 4:return vt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=cs(n,null,l,a):ht(e,n,l,a),n.child;case 11:return Sg(e,n,n.type,n.pendingProps,a);case 7:return ht(e,n,n.pendingProps,a),n.child;case 8:return ht(e,n,n.pendingProps.children,a),n.child;case 12:return ht(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ui(n,n.type,l.value),ht(e,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,as(n),u=dt(u),l=l(u),n.flags|=1,ht(e,n,l,a),n.child;case 14:return wg(e,n,n.type,n.pendingProps,a);case 15:return Cg(e,n,n.type,n.pendingProps,a);case 19:return jg(e,n,a);case 31:return kx(e,n,a);case 22:return Tg(e,n,a,n.pendingProps);case 24:return as(n),l=dt(Xe),e===null?(u=ju(),u===null&&(u=Ie,h=Mu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),n.memoizedState={parent:l,cache:u},Lu(n),ui(n,Xe,u)):((e.lanes&a)!==0&&(Uu(e,n),lr(n,null,null,a),rr()),u=e.memoizedState,h=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ui(n,Xe,l)):(l=h.cache,ui(n,Xe,l),l!==u.cache&&Du(n,[Xe],a,!0))),ht(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zn(e){e.flags|=4}function vd(e,n,a,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(o0())e.flags|=8192;else throw os=Kl,ku}else e.flags&=-16777217}function Lg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Z0(n))if(o0())e.flags|=8192;else throw os=Kl,ku}function uo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pm():536870912,e.lanes|=n,na|=n)}function fr(e,n){if(!pe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function Ux(e,n,a){var l=n.pendingProps;switch(Tu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),jn(Xe),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qs(n)?zn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Au())),ze(n),null;case 26:var u=n.type,h=n.memoizedState;return e===null?(zn(n),h!==null?(ze(n),Lg(n,h)):(ze(n),vd(n,u,null,l,a))):h?h!==e.memoizedState?(zn(n),ze(n),Lg(n,h)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zn(n),ze(n),vd(n,u,e,l,a)),null;case 27:if(xl(n),a=ce.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}e=Q.current,qs(n)?pp(n):(e=q0(u,l,a),n.stateNode=e,zn(n))}return ze(n),null;case 5:if(xl(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}if(h=Q.current,qs(n))pp(n);else{var _=To(ce.current);switch(h){case 1:h=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=_.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?_.createElement(u,{is:l.is}):_.createElement(u)}}h[ct]=n,h[wt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)h.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=h;e:switch(ft(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zn(n)}}return ze(n),vd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=ce.current,qs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,u=ut,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ct]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M0(e.nodeValue,a)),e||ci(n,!0)}else e=To(e).createTextNode(l),e[ct]=n,n.stateNode=e}return ze(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=qs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else a=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(zt(n),n):(zt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ze(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=qs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ct]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),u=!1}else u=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(zt(n),n):(zt(n),null)}return zt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),uo(n,n.updateQueue),ze(n),null);case 4:return Ke(),e===null&&Bd(n.stateNode.containerInfo),ze(n),null;case 10:return jn(n.type),ze(n),null;case 19:if(H(Qe),l=n.memoizedState,l===null)return ze(n),null;if(u=(n.flags&128)!==0,h=l.rendering,h===null)if(u)fr(l,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Zl(e),h!==null){for(n.flags|=128,fr(l,!1),e=h.updateQueue,n.updateQueue=e,uo(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)up(a,e),a=a.sibling;return G(Qe,Qe.current&1|2),pe&&Mn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Mt()>go&&(n.flags|=128,u=!0,fr(l,!1),n.lanes=4194304)}else{if(!u)if(e=Zl(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,uo(n,e),fr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!pe)return ze(n),null}else 2*Mt()-l.renderingStartTime>go&&a!==536870912&&(n.flags|=128,u=!0,fr(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,a=Qe.current,G(Qe,u?a&1|2:a&1),pe&&Mn(n,l.treeForkCount),e):(ze(n),null);case 22:case 23:return zt(n),Pu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&uo(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&H(rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),jn(Xe),ze(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zx(e,n){switch(Tu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return jn(Xe),Ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xl(n),null;case 31:if(n.memoizedState!==null){if(zt(n),n.alternate===null)throw Error(r(340));is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(Qe),null;case 4:return Ke(),null;case 10:return jn(n.type),null;case 22:case 23:return zt(n),Pu(),e!==null&&H(rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return jn(Xe),null;case 25:return null;default:return null}}function Ug(e,n){switch(Tu(n),n.tag){case 3:jn(Xe),Ke();break;case 26:case 27:case 5:xl(n);break;case 4:Ke();break;case 31:n.memoizedState!==null&&zt(n);break;case 13:zt(n);break;case 19:H(Qe);break;case 10:jn(n.type);break;case 22:case 23:zt(n),Pu(),e!==null&&H(rs);break;case 24:jn(Xe)}}function mr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var h=a.create,_=a.inst;l=h(),_.destroy=l}a=a.next}while(a!==u)}}catch(y){Ce(n,n.return,y)}}function gi(e,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var _=l.inst,y=_.destroy;if(y!==void 0){_.destroy=void 0,u=n;var S=a,O=y;try{O()}catch(j){Ce(u,S,j)}}}l=l.next}while(l!==h)}}catch(j){Ce(n,n.return,j)}}function zg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ap(n,a)}catch(l){Ce(e,e.return,l)}}}function Hg(e,n,a){a.props=ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ce(e,n,l)}}function pr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Ce(e,n,u)}}function yn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ce(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ce(e,n,u)}else a.current=null}function Bg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ce(e,e.return,u)}}function yd(e,n,a){try{var l=e.stateNode;r2(l,e.type,a,n),l[wt]=n}catch(u){Ce(e,e.return,u)}}function Pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Si(e.type)||e.tag===4}function bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Rn));else if(l!==4&&(l===27&&Si(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(xd(e,n,a),e=e.sibling;e!==null;)xd(e,n,a),e=e.sibling}function ho(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Si(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ho(e,n,a),e=e.sibling;e!==null;)ho(e,n,a),e=e.sibling}function Vg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ft(n,l,a),n[ct]=e,n[wt]=a}catch(h){Ce(e,e.return,h)}}var Hn=!1,Je=!1,Ed=!1,qg=typeof WeakSet=="function"?WeakSet:Set,st=null;function Hx(e,n){if(e=e.containerInfo,qd=Io,e=tp(e),pu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var _=0,y=-1,S=-1,O=0,j=0,z=e,D=null;t:for(;;){for(var M;z!==a||u!==0&&z.nodeType!==3||(y=_+u),z!==h||l!==0&&z.nodeType!==3||(S=_+l),z.nodeType===3&&(_+=z.nodeValue.length),(M=z.firstChild)!==null;)D=z,z=M;for(;;){if(z===e)break t;if(D===a&&++O===u&&(y=_),D===h&&++j===l&&(S=_),(M=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=M}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:e,selectionRange:a},Io=!1,st=n;st!==null;)if(n=st,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,st=e;else for(;st!==null;){switch(n=st,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,u=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var K=ds(a.type,u);e=l.getSnapshotBeforeUpdate(K,h),l.__reactInternalSnapshotBeforeUpdate=e}catch($){Ce(a,a.return,$)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,st=e;break}st=n.return}}function Gg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pn(e,a),l&4&&mr(5,a);break;case 1:if(Pn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Ce(a,a.return,_)}else{var u=ds(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ce(a,a.return,_)}}l&64&&zg(a),l&512&&pr(a,a.return);break;case 3:if(Pn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ap(e,n)}catch(_){Ce(a,a.return,_)}}break;case 27:n===null&&l&4&&Vg(a);case 26:case 5:Pn(e,a),n===null&&l&4&&Bg(a),l&512&&pr(a,a.return);break;case 12:Pn(e,a);break;case 31:Pn(e,a),l&4&&Kg(e,a);break;case 13:Pn(e,a),l&4&&Qg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Qx.bind(null,a),m2(e,a))));break;case 22:if(l=a.memoizedState!==null||Hn,!l){n=n!==null&&n.memoizedState!==null||Je,u=Hn;var h=Je;Hn=l,(Je=n)&&!h?Vn(e,a,(a.subtreeFlags&8772)!==0):Pn(e,a),Hn=u,Je=h}break;case 30:break;default:Pn(e,a)}}function Yg(e){var n=e.alternate;n!==null&&(e.alternate=null,Yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$c(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Tt=!1;function Bn(e,n,a){for(a=a.child;a!==null;)Fg(e,n,a),a=a.sibling}function Fg(e,n,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ha,a)}catch{}switch(a.tag){case 26:Je||yn(a,n),Bn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||yn(a,n);var l=He,u=Tt;Si(a.type)&&(He=a.stateNode,Tt=!1),Bn(e,n,a),wr(a.stateNode),He=l,Tt=u;break;case 5:Je||yn(a,n);case 6:if(l=He,u=Tt,He=null,Bn(e,n,a),He=l,Tt=u,He!==null)if(Tt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(h){Ce(a,n,h)}else try{He.removeChild(a.stateNode)}catch(h){Ce(a,n,h)}break;case 18:He!==null&&(Tt?(e=He,z0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ua(e)):z0(He,a.stateNode));break;case 4:l=He,u=Tt,He=a.stateNode.containerInfo,Tt=!0,Bn(e,n,a),He=l,Tt=u;break;case 0:case 11:case 14:case 15:gi(2,a,n),Je||gi(4,a,n),Bn(e,n,a);break;case 1:Je||(yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),Bn(e,n,a);break;case 21:Bn(e,n,a);break;case 22:Je=(l=Je)||a.memoizedState!==null,Bn(e,n,a),Je=l;break;default:Bn(e,n,a)}}function Kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ua(e)}catch(a){Ce(n,n.return,a)}}}function Qg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ua(e)}catch(a){Ce(n,n.return,a)}}function Bx(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new qg),n;default:throw Error(r(435,e.tag))}}function fo(e,n){var a=Bx(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var u=Wx.bind(null,e,l);l.then(u,u)}})}function Nt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],h=e,_=n,y=_;e:for(;y!==null;){switch(y.tag){case 27:if(Si(y.type)){He=y.stateNode,Tt=!1;break e}break;case 5:He=y.stateNode,Tt=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,Tt=!0;break e}y=y.return}if(He===null)throw Error(r(160));Fg(h,_,u),He=null,Tt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,e),n=n.sibling}var rn=null;function Wg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(n,e),At(e),l&4&&(gi(3,e,e.return),mr(3,e),gi(5,e,e.return));break;case 1:Nt(n,e),At(e),l&512&&(Je||a===null||yn(a,a.return)),l&64&&Hn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=rn;if(Nt(n,e),At(e),l&512&&(Je||a===null||yn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Va]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),ft(h,l,a),h[ct]=e,it(h),l=h;break e;case"link":var _=W0("link","href",u).get(l+(a.href||""));if(_){for(var y=0;y<_.length;y++)if(h=_[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(y,1);break t}}h=u.createElement(l),ft(h,l,a),u.head.appendChild(h);break;case"meta":if(_=W0("meta","content",u).get(l+(a.content||""))){for(y=0;y<_.length;y++)if(h=_[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(y,1);break t}}h=u.createElement(l),ft(h,l,a),u.head.appendChild(h);break;default:throw Error(r(468,l))}h[ct]=e,it(h),l=h}e.stateNode=l}else X0(u,e.type,e.stateNode);else e.stateNode=Q0(u,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?X0(u,e.type,e.stateNode):Q0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(n,e),At(e),l&512&&(Je||a===null||yn(a,a.return)),a!==null&&l&4&&yd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(n,e),At(e),l&512&&(Je||a===null||yn(a,a.return)),e.flags&32){u=e.stateNode;try{Is(u,"")}catch(K){Ce(e,e.return,K)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,yd(e,u,a!==null?a.memoizedProps:u)),l&1024&&(Ed=!0);break;case 6:if(Nt(n,e),At(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){Ce(e,e.return,K)}}break;case 3:if(Ro=null,u=rn,rn=No(n.containerInfo),Nt(n,e),rn=u,At(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ua(n.containerInfo)}catch(K){Ce(e,e.return,K)}Ed&&(Ed=!1,Xg(e));break;case 4:l=rn,rn=No(e.stateNode.containerInfo),Nt(n,e),At(e),rn=l;break;case 12:Nt(n,e),At(e);break;case 31:Nt(n,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fo(e,l)));break;case 13:Nt(n,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(po=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fo(e,l)));break;case 22:u=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,O=Hn,j=Je;if(Hn=O||u,Je=j||S,Nt(n,e),Je=j,Hn=O,At(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||S||Hn||Je||hs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(h=S.stateNode,u)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{y=S.stateNode;var z=S.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(K){Ce(S,S.return,K)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(K){Ce(S,S.return,K)}}}else if(n.tag===18){if(a===null){S=n;try{var M=S.stateNode;u?H0(M,!0):H0(S.stateNode,!1)}catch(K){Ce(S,S.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fo(e,a))));break;case 19:Nt(n,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fo(e,l)));break;case 30:break;case 21:break;default:Nt(n,e),At(e)}}function At(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Pg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,h=bd(e);ho(e,h,u);break;case 5:var _=a.stateNode;a.flags&32&&(Is(_,""),a.flags&=-33);var y=bd(e);ho(e,y,_);break;case 3:case 4:var S=a.stateNode.containerInfo,O=bd(e);xd(e,O,S);break;default:throw Error(r(161))}}catch(j){Ce(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Pn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(e,n.alternate,n),n=n.sibling}function hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gi(4,n,n.return),hs(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),hs(n);break;case 27:wr(n.stateNode);case 26:case 5:yn(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}e=e.sibling}}function Vn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:Vn(u,h,a),mr(4,h);break;case 1:if(Vn(u,h,a),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Ce(l,l.return,O)}if(l=h,u=l.updateQueue,u!==null){var y=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Np(S[u],y)}catch(O){Ce(l,l.return,O)}}a&&_&64&&zg(h),pr(h,h.return);break;case 27:Vg(h);case 26:case 5:Vn(u,h,a),a&&l===null&&_&4&&Bg(h),pr(h,h.return);break;case 12:Vn(u,h,a);break;case 31:Vn(u,h,a),a&&_&4&&Kg(u,h);break;case 13:Vn(u,h,a),a&&_&4&&Qg(u,h);break;case 22:h.memoizedState===null&&Vn(u,h,a),pr(h,h.return);break;case 30:break;default:Vn(u,h,a)}n=n.sibling}}function Sd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tr(a))}function wd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e))}function ln(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(e,n,a,l),n=n.sibling}function Zg(e,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n,a,l),u&2048&&mr(9,n);break;case 1:ln(e,n,a,l);break;case 3:ln(e,n,a,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e)));break;case 12:if(u&2048){ln(e,n,a,l),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,y=h.onPostCommit;typeof y=="function"&&y(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ce(n,n.return,S)}}else ln(e,n,a,l);break;case 31:ln(e,n,a,l);break;case 13:ln(e,n,a,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?ln(e,n,a,l):gr(e,n):h._visibility&2?ln(e,n,a,l):(h._visibility|=2,Js(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Sd(_,n);break;case 24:ln(e,n,a,l),u&2048&&wd(n.alternate,n);break;default:ln(e,n,a,l)}}function Js(e,n,a,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,_=n,y=a,S=l,O=_.flags;switch(_.tag){case 0:case 11:case 15:Js(h,_,y,S,u),mr(8,_);break;case 23:break;case 22:var j=_.stateNode;_.memoizedState!==null?j._visibility&2?Js(h,_,y,S,u):gr(h,_):(j._visibility|=2,Js(h,_,y,S,u)),u&&O&2048&&Sd(_.alternate,_);break;case 24:Js(h,_,y,S,u),u&&O&2048&&wd(_.alternate,_);break;default:Js(h,_,y,S,u)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,u=l.flags;switch(l.tag){case 22:gr(a,l),u&2048&&Sd(l.alternate,l);break;case 24:gr(a,l),u&2048&&wd(l.alternate,l);break;default:gr(a,l)}n=n.sibling}}var _r=8192;function ea(e,n,a){if(e.subtreeFlags&_r)for(e=e.child;e!==null;)$g(e,n,a),e=e.sibling}function $g(e,n,a){switch(e.tag){case 26:ea(e,n,a),e.flags&_r&&e.memoizedState!==null&&T2(a,rn,e.memoizedState,e.memoizedProps);break;case 5:ea(e,n,a);break;case 3:case 4:var l=rn;rn=No(e.stateNode.containerInfo),ea(e,n,a),rn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_r,_r=16777216,ea(e,n,a),_r=l):ea(e,n,a));break;default:ea(e,n,a)}}function Jg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];st=l,t0(l,e)}Jg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e0(e),e=e.sibling}function e0(e){switch(e.tag){case 0:case 11:case 15:vr(e),e.flags&2048&&gi(9,e,e.return);break;case 3:vr(e);break;case 12:vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,mo(e)):vr(e);break;default:vr(e)}}function mo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];st=l,t0(l,e)}Jg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gi(8,n,n.return),mo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mo(n));break;default:mo(n)}e=e.sibling}}function t0(e,n){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:gi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=e;st!==null;){l=st;var u=l.sibling,h=l.return;if(Yg(l),l===a){st=null;break e}if(u!==null){u.return=h,st=u;break e}st=h}}}var Px={getCacheForType:function(e){var n=dt(Xe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return dt(Xe).controller.signal}},Vx=typeof WeakMap=="function"?WeakMap:Map,be=0,Ie=null,ue=null,fe=0,we=0,Ht=null,_i=!1,ta=!1,Cd=!1,qn=0,qe=0,vi=0,fs=0,Td=0,Bt=0,na=0,yr=null,Rt=null,Nd=!1,po=0,n0=0,go=1/0,_o=null,yi=null,et=0,bi=null,ia=null,Gn=0,Ad=0,Rd=null,i0=null,br=0,Od=null;function Pt(){return(be&2)!==0&&fe!==0?fe&-fe:k.T!==null?Ld():ym()}function s0(){if(Bt===0)if((fe&536870912)===0||pe){var e=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function Ot(e,n,a){(e===Ie&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(sa(e,0),xi(e,fe,Bt,!1)),Pa(e,a),((be&2)===0||e!==Ie)&&(e===Ie&&((be&2)===0&&(fs|=a),qe===4&&xi(e,fe,Bt,!1)),bn(e))}function a0(e,n,a){if((be&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ba(e,n),u=l?Yx(e,n):Md(e,n,!0),h=l;do{if(u===0){ta&&!l&&xi(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!qx(a)){u=Md(e,n,!1),h=!1;continue}if(u===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var y=e;u=yr;var S=y.current.memoizedState.isDehydrated;if(S&&(sa(y,_).flags|=256),_=Md(y,_,!1),_!==2){if(Cd&&!S){y.errorRecoveryDisabledLanes|=h,fs|=h,u=4;break e}h=Rt,Rt=u,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}u=_}if(h=!1,u!==2)continue}}if(u===1){sa(e,0),xi(e,n,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:xi(l,n,Bt,!_i);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=po+300-Mt(),10<u)){if(xi(l,n,Bt,!_i),Tl(l,0,!0)!==0)break e;Gn=n,l.timeoutHandle=L0(r0.bind(null,l,a,Rt,_o,Nd,n,Bt,fs,na,_i,h,"Throttled",-0,0),u);break e}r0(l,a,Rt,_o,Nd,n,Bt,fs,na,_i,h,null,-0,0)}}break}while(!0);bn(e)}function r0(e,n,a,l,u,h,_,y,S,O,j,z,D,M){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},$g(n,h,z);var K=(h&62914560)===h?po-Mt():(h&4194048)===h?n0-Mt():0;if(K=N2(z,K),K!==null){Gn=h,e.cancelPendingCommit=K(m0.bind(null,e,n,h,a,l,u,_,y,S,j,z,null,D,M)),xi(e,h,_,!O);return}}m0(e,n,h,a,l,u,_,y,S)}function qx(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],h=u.getSnapshot;u=u.value;try{if(!kt(h(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(e,n,a,l){n&=~Td,n&=~fs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var h=31-jt(u),_=1<<h;l[h]=-1,u&=~_}a!==0&&gm(e,a,n)}function vo(){return(be&6)===0?(xr(0),!1):!0}function Dd(){if(ue!==null){if(we===0)var e=ue.return;else e=ue,In=ss=null,Ku(e),Qs=null,ir=0,e=ue;for(;e!==null;)Ug(e.alternate,e),e=e.return;ue=null}}function sa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,c2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gn=0,Dd(),Ie=e,ue=a=Dn(e.current,null),fe=n,we=0,Ht=null,_i=!1,ta=Ba(e,n),Cd=!1,na=Bt=Td=fs=vi=qe=0,Rt=yr=null,Nd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-jt(l),h=1<<u;n|=e[u],l&=~h}return qn=n,zl(),a}function l0(e,n){ae=null,k.H=dr,n===Ks||n===Fl?(n=Sp(),we=3):n===ku?(n=Sp(),we=4):we=n===cd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,ue===null&&(qe=1,ro(e,Kt(n,e.current)))}function o0(){var e=Ut.current;return e===null?!0:(fe&4194048)===fe?Zt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Zt:!1}function c0(){var e=k.H;return k.H=dr,e===null?dr:e}function u0(){var e=k.A;return k.A=Px,e}function yo(){qe=4,_i||(fe&4194048)!==fe&&Ut.current!==null||(ta=!0),(vi&134217727)===0&&(fs&134217727)===0||Ie===null||xi(Ie,fe,Bt,!1)}function Md(e,n,a){var l=be;be|=2;var u=c0(),h=u0();(Ie!==e||fe!==n)&&(_o=null,sa(e,n)),n=!1;var _=qe;e:do try{if(we!==0&&ue!==null){var y=ue,S=Ht;switch(we){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(n=!0);var O=we;if(we=0,Ht=null,aa(e,y,S,O),a&&ta){_=0;break e}break;default:O=we,we=0,Ht=null,aa(e,y,S,O)}}Gx(),_=qe;break}catch(j){l0(e,j)}while(!0);return n&&e.shellSuspendCounter++,In=ss=null,be=l,k.H=u,k.A=h,ue===null&&(Ie=null,fe=0,zl()),_}function Gx(){for(;ue!==null;)d0(ue)}function Yx(e,n){var a=be;be|=2;var l=c0(),u=u0();Ie!==e||fe!==n?(_o=null,go=Mt()+500,sa(e,n)):ta=Ba(e,n);e:do try{if(we!==0&&ue!==null){n=ue;var h=Ht;t:switch(we){case 1:we=0,Ht=null,aa(e,n,h,1);break;case 2:case 9:if(xp(h)){we=0,Ht=null,h0(n);break}n=function(){we!==2&&we!==9||Ie!==e||(we=7),bn(e)},h.then(n,n);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:xp(h)?(we=0,Ht=null,h0(n)):(we=0,Ht=null,aa(e,n,h,7));break;case 5:var _=null;switch(ue.tag){case 26:_=ue.memoizedState;case 5:case 27:var y=ue;if(_?Z0(_):y.stateNode.complete){we=0,Ht=null;var S=y.sibling;if(S!==null)ue=S;else{var O=y.return;O!==null?(ue=O,bo(O)):ue=null}break t}}we=0,Ht=null,aa(e,n,h,5);break;case 6:we=0,Ht=null,aa(e,n,h,6);break;case 8:Dd(),qe=6;break e;default:throw Error(r(462))}}Fx();break}catch(j){l0(e,j)}while(!0);return In=ss=null,k.H=l,k.A=u,be=a,ue!==null?0:(Ie=null,fe=0,zl(),qe)}function Fx(){for(;ue!==null&&!p1();)d0(ue)}function d0(e){var n=kg(e.alternate,e,qn);e.memoizedProps=e.pendingProps,n===null?bo(e):ue=n}function h0(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Rg(a,n,n.pendingProps,n.type,void 0,fe);break;case 11:n=Rg(a,n,n.pendingProps,n.type.render,n.ref,fe);break;case 5:Ku(n);default:Ug(a,n),n=ue=up(n,qn),n=kg(a,n,qn)}e.memoizedProps=e.pendingProps,n===null?bo(e):ue=n}function aa(e,n,a,l){In=ss=null,Ku(n),Qs=null,ir=0;var u=n.return;try{if(jx(e,u,n,a,fe)){qe=1,ro(e,Kt(a,e.current)),ue=null;return}}catch(h){if(u!==null)throw ue=u,h;qe=1,ro(e,Kt(a,e.current)),ue=null;return}n.flags&32768?(pe||l===1?e=!0:ta||(fe&536870912)!==0?e=!1:(_i=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),f0(n,e)):bo(n)}function bo(e){var n=e;do{if((n.flags&32768)!==0){f0(n,_i);return}e=n.return;var a=Ux(n.alternate,n,qn);if(a!==null){ue=a;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=e}while(n!==null);qe===0&&(qe=5)}function f0(e,n){do{var a=zx(e.alternate,e);if(a!==null){a.flags&=32767,ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ue=e;return}ue=e=a}while(e!==null);qe=6,ue=null}function m0(e,n,a,l,u,h,_,y,S){e.cancelPendingCommit=null;do xo();while(et!==0);if((be&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=bu,C1(e,a,h,_,y,S),e===Ie&&(ue=Ie=null,fe=0),ia=n,bi=e,Gn=a,Ad=h,Rd=u,i0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xx(El,function(){return y0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,u=q.p,q.p=2,_=be,be|=4;try{Hx(e,n,a)}finally{be=_,q.p=u,k.T=l}}et=1,p0(),g0(),_0()}}function p0(){if(et===1){et=0;var e=bi,n=ia,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=q.p;q.p=2;var u=be;be|=4;try{Wg(n,e);var h=Gd,_=tp(e.containerInfo),y=h.focusedElem,S=h.selectionRange;if(_!==y&&y&&y.ownerDocument&&ep(y.ownerDocument.documentElement,y)){if(S!==null&&pu(y)){var O=S.start,j=S.end;if(j===void 0&&(j=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(j,y.value.length);else{var z=y.ownerDocument||document,D=z&&z.defaultView||window;if(D.getSelection){var M=D.getSelection(),K=y.textContent.length,$=Math.min(S.start,K),Re=S.end===void 0?$:Math.min(S.end,K);!M.extend&&$>Re&&(_=Re,Re=$,$=_);var N=Jm(y,$),w=Jm(y,Re);if(N&&w&&(M.rangeCount!==1||M.anchorNode!==N.node||M.anchorOffset!==N.offset||M.focusNode!==w.node||M.focusOffset!==w.offset)){var R=z.createRange();R.setStart(N.node,N.offset),M.removeAllRanges(),$>Re?(M.addRange(R),M.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),M.addRange(R))}}}}for(z=[],M=y;M=M.parentNode;)M.nodeType===1&&z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var U=z[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Io=!!qd,Gd=qd=null}finally{be=u,q.p=l,k.T=a}}e.current=n,et=2}}function g0(){if(et===2){et=0;var e=bi,n=ia,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=q.p;q.p=2;var u=be;be|=4;try{Gg(e,n.alternate,n)}finally{be=u,q.p=l,k.T=a}}et=3}}function _0(){if(et===4||et===3){et=0,g1();var e=bi,n=ia,a=Gn,l=i0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?et=5:(et=0,ia=bi=null,v0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(yi=null),Xc(a),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ha,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,u=q.p,q.p=2,k.T=null;try{for(var h=e.onRecoverableError,_=0;_<l.length;_++){var y=l[_];h(y.value,{componentStack:y.stack})}}finally{k.T=n,q.p=u}}(Gn&3)!==0&&xo(),bn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Od?br++:(br=0,Od=e):br=0,xr(0)}}function v0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tr(n)))}function xo(){return p0(),g0(),_0(),y0()}function y0(){if(et!==5)return!1;var e=bi,n=Ad;Ad=0;var a=Xc(Gn),l=k.T,u=q.p;try{q.p=32>a?32:a,k.T=null,a=Rd,Rd=null;var h=bi,_=Gn;if(et=0,ia=bi=null,Gn=0,(be&6)!==0)throw Error(r(331));var y=be;if(be|=4,e0(h.current),Zg(h,h.current,_,a),be=y,xr(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ha,h)}catch{}return!0}finally{q.p=u,k.T=l,v0(e,n)}}function b0(e,n,a){n=Kt(a,n),n=od(e.stateNode,n,2),e=fi(e,n,2),e!==null&&(Pa(e,2),bn(e))}function Ce(e,n,a){if(e.tag===3)b0(e,e,a);else for(;n!==null;){if(n.tag===3){b0(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yi===null||!yi.has(l))){e=Kt(a,e),a=xg(2),l=fi(n,a,2),l!==null&&(Eg(a,l,n,e),Pa(l,2),bn(l));break}}n=n.return}}function Id(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Vx;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(Cd=!0,u.add(a),e=Kx.bind(null,e,n,a),n.then(e,e))}function Kx(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ie===e&&(fe&a)===a&&(qe===4||qe===3&&(fe&62914560)===fe&&300>Mt()-po?(be&2)===0&&sa(e,0):Td|=a,na===fe&&(na=0)),bn(e)}function x0(e,n){n===0&&(n=pm()),e=ts(e,n),e!==null&&(Pa(e,n),bn(e))}function Qx(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),x0(e,a)}function Wx(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),x0(e,a)}function Xx(e,n){return Fc(e,n)}var Eo=null,ra=null,jd=!1,So=!1,kd=!1,Ei=0;function bn(e){e!==ra&&e.next===null&&(ra===null?Eo=ra=e:ra=ra.next=e),So=!0,jd||(jd=!0,$x())}function xr(e,n){if(!kd&&So){kd=!0;do for(var a=!1,l=Eo;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var _=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-jt(42|e)+1)-1,h&=u&~(_&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,C0(l,h))}else h=fe,h=Tl(l,l===Ie?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ba(l,h)||(a=!0,C0(l,h));l=l.next}while(a);kd=!1}}function Zx(){E0()}function E0(){So=jd=!1;var e=0;Ei!==0&&o2()&&(e=Ei);for(var n=Mt(),a=null,l=Eo;l!==null;){var u=l.next,h=S0(l,n);h===0?(l.next=null,a===null?Eo=u:a.next=u,u===null&&(ra=a)):(a=l,(e!==0||(h&3)!==0)&&(So=!0)),l=u}et!==0&&et!==5||xr(e),Ei!==0&&(Ei=0)}function S0(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-jt(h),y=1<<_,S=u[_];S===-1?((y&a)===0||(y&l)!==0)&&(u[_]=w1(y,n)):S<=n&&(e.expiredLanes|=y),h&=~y}if(n=Ie,a=fe,a=Tl(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(we===2||we===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kc(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ba(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Kc(l),Xc(a)){case 2:case 8:a=fm;break;case 32:a=El;break;case 268435456:a=mm;break;default:a=El}return l=w0.bind(null,e),a=Fc(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Kc(l),e.callbackPriority=2,e.callbackNode=null,2}function w0(e,n){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xo()&&e.callbackNode!==a)return null;var l=fe;return l=Tl(e,e===Ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(a0(e,l,n),S0(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?w0.bind(null,e):null)}function C0(e,n){if(xo())return null;a0(e,n,!0)}function $x(){u2(function(){(be&6)!==0?Fc(hm,Zx):E0()})}function Ld(){if(Ei===0){var e=Ys;e===0&&(e=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),Ei=e}return Ei}function T0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ol(""+e)}function N0(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Jx(e,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var h=T0((u[wt]||null).action),_=l.submitter;_&&(n=(n=_[wt]||null)?T0(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var y=new jl("action","action",null,l,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ei!==0){var S=_?N0(u,_):new FormData(u);nd(a,{pending:!0,data:S,method:u.method,action:h},null,S)}}else typeof h=="function"&&(y.preventDefault(),S=_?N0(u,_):new FormData(u),nd(a,{pending:!0,data:S,method:u.method,action:h},h,S))},currentTarget:u}]})}}for(var Ud=0;Ud<yu.length;Ud++){var zd=yu[Ud],e2=zd.toLowerCase(),t2=zd[0].toUpperCase()+zd.slice(1);an(e2,"on"+t2)}an(sp,"onAnimationEnd"),an(ap,"onAnimationIteration"),an(rp,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(_x,"onTransitionRun"),an(vx,"onTransitionStart"),an(yx,"onTransitionCancel"),an(lp,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Er));function A0(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var y=l[_],S=y.instance,O=y.currentTarget;if(y=y.listener,S!==h&&u.isPropagationStopped())break e;h=y,u.currentTarget=O;try{h(u)}catch(j){Ul(j)}u.currentTarget=null,h=S}else for(_=0;_<l.length;_++){if(y=l[_],S=y.instance,O=y.currentTarget,y=y.listener,S!==h&&u.isPropagationStopped())break e;h=y,u.currentTarget=O;try{h(u)}catch(j){Ul(j)}u.currentTarget=null,h=S}}}}function de(e,n){var a=n[Zc];a===void 0&&(a=n[Zc]=new Set);var l=e+"__bubble";a.has(l)||(R0(n,e,2,!1),a.add(l))}function Hd(e,n,a){var l=0;n&&(l|=4),R0(a,e,l,n)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[wo]){e[wo]=!0,Em.forEach(function(a){a!=="selectionchange"&&(n2.has(a)||Hd(a,!1,e),Hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wo]||(n[wo]=!0,Hd("selectionchange",!1,n))}}function R0(e,n,a,l){switch(s_(n)){case 2:var u=O2;break;case 8:u=D2;break;default:u=th}a=u.bind(null,n,a,e),u=void 0,!ru||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Pd(e,n,a,l,u){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var y=l.stateNode.containerInfo;if(y===u)break;if(_===4)for(_=l.return;_!==null;){var S=_.tag;if((S===3||S===4)&&_.stateNode.containerInfo===u)return;_=_.return}for(;y!==null;){if(_=As(y),_===null)return;if(S=_.tag,S===5||S===6||S===26||S===27){l=h=_;continue e}y=y.parentNode}}l=l.return}jm(function(){var O=h,j=su(a),z=[];e:{var D=op.get(e);if(D!==void 0){var M=jl,K=e;switch(e){case"keypress":if(Ml(a)===0)break e;case"keydown":case"keyup":M=W1;break;case"focusin":K="focus",M=uu;break;case"focusout":K="blur",M=uu;break;case"beforeblur":case"afterblur":M=uu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=$1;break;case sp:case ap:case rp:M=B1;break;case lp:M=ex;break;case"scroll":case"scrollend":M=k1;break;case"wheel":M=nx;break;case"copy":case"cut":case"paste":M=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Hm;break;case"toggle":case"beforetoggle":M=sx}var $=(n&4)!==0,Re=!$&&(e==="scroll"||e==="scrollend"),N=$?D!==null?D+"Capture":null:D;$=[];for(var w=O,R;w!==null;){var U=w;if(R=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||R===null||N===null||(U=Ga(w,N),U!=null&&$.push(Sr(w,U,R))),Re)break;w=w.return}0<$.length&&(D=new M(D,K,null,a,j),z.push({event:D,listeners:$}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&a!==iu&&(K=a.relatedTarget||a.fromElement)&&(As(K)||K[Ns]))break e;if((M||D)&&(D=j.window===j?j:(D=j.ownerDocument)?D.defaultView||D.parentWindow:window,M?(K=a.relatedTarget||a.toElement,M=O,K=K?As(K):null,K!==null&&(Re=c(K),$=K.tag,K!==Re||$!==5&&$!==27&&$!==6)&&(K=null)):(M=null,K=O),M!==K)){if($=Um,U="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&($=Hm,U="onPointerLeave",N="onPointerEnter",w="pointer"),Re=M==null?D:qa(M),R=K==null?D:qa(K),D=new $(U,w+"leave",M,a,j),D.target=Re,D.relatedTarget=R,U=null,As(j)===O&&($=new $(N,w+"enter",K,a,j),$.target=R,$.relatedTarget=Re,U=$),Re=U,M&&K)t:{for($=i2,N=M,w=K,R=0,U=N;U;U=$(U))R++;U=0;for(var X=w;X;X=$(X))U++;for(;0<R-U;)N=$(N),R--;for(;0<U-R;)w=$(w),U--;for(;R--;){if(N===w||w!==null&&N===w.alternate){$=N;break t}N=$(N),w=$(w)}$=null}else $=null;M!==null&&O0(z,D,M,$,!1),K!==null&&Re!==null&&O0(z,Re,K,$,!0)}}e:{if(D=O?qa(O):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var _e=Km;else if(Ym(D))if(Qm)_e=mx;else{_e=hx;var W=dx}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?O&&nu(O.elementType)&&(_e=Km):_e=fx;if(_e&&(_e=_e(e,O))){Fm(z,_e,a,j);break e}W&&W(e,D,O),e==="focusout"&&O&&D.type==="number"&&O.memoizedProps.value!=null&&tu(D,"number",D.value)}switch(W=O?qa(O):window,e){case"focusin":(Ym(W)||W.contentEditable==="true")&&(Us=W,gu=O,$a=null);break;case"focusout":$a=gu=Us=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,np(z,a,j);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":np(z,a,j)}var re;if(hu)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ls?qm(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(Bm&&a.locale!=="ko"&&(Ls||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ls&&(re=km()):(ri=j,lu="value"in ri?ri.value:ri.textContent,Ls=!0)),W=Co(O,me),0<W.length&&(me=new zm(me,e,null,a,j),z.push({event:me,listeners:W}),re?me.data=re:(re=Gm(a),re!==null&&(me.data=re)))),(re=rx?lx(e,a):ox(e,a))&&(me=Co(O,"onBeforeInput"),0<me.length&&(W=new zm("onBeforeInput","beforeinput",null,a,j),z.push({event:W,listeners:me}),W.data=re)),Jx(z,e,O,a,j)}A0(z,n)})}function Sr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Co(e,n){for(var a=n+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Ga(e,a),u!=null&&l.unshift(Sr(e,u,h)),u=Ga(e,n),u!=null&&l.push(Sr(e,u,h))),e.tag===3)return l;e=e.return}return[]}function i2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O0(e,n,a,l,u){for(var h=n._reactName,_=[];a!==null&&a!==l;){var y=a,S=y.alternate,O=y.stateNode;if(y=y.tag,S!==null&&S===l)break;y!==5&&y!==26&&y!==27||O===null||(S=O,u?(O=Ga(a,h),O!=null&&_.unshift(Sr(a,O,S))):u||(O=Ga(a,h),O!=null&&_.push(Sr(a,O,S)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var s2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function D0(e){return(typeof e=="string"?e:""+e).replace(s2,`
`).replace(a2,"")}function M0(e,n){return n=D0(n),D0(e)===n}function Ae(e,n,a,l,u,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Is(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Is(e,""+l);break;case"className":Al(e,"class",l);break;case"tabIndex":Al(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,a,l);break;case"style":Mm(e,l,h);break;case"data":if(n!=="object"){Al(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ol(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ae(e,n,"name",u.name,u,null),Ae(e,n,"formEncType",u.formEncType,u,null),Ae(e,n,"formMethod",u.formMethod,u,null),Ae(e,n,"formTarget",u.formTarget,u,null)):(Ae(e,n,"encType",u.encType,u,null),Ae(e,n,"method",u.method,u,null),Ae(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ol(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Rn);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ol(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":de("beforetoggle",e),de("toggle",e),Nl(e,"popover",l);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I1.get(a)||a,Nl(e,a,l))}}function Vd(e,n,a,l,u,h){switch(a){case"style":Mm(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Is(e,l):(typeof l=="number"||typeof l=="bigint")&&Is(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),h=e[wt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Nl(e,a,l)}}}function ft(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ae(e,n,h,_,a,null)}}u&&Ae(e,n,"srcSet",a.srcSet,a,null),l&&Ae(e,n,"src",a.src,a,null);return;case"input":de("invalid",e);var y=h=_=u=null,S=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":u=j;break;case"type":_=j;break;case"checked":S=j;break;case"defaultChecked":O=j;break;case"value":h=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Ae(e,n,l,j,a,null)}}Am(e,h,y,S,O,_,u,!1);return;case"select":de("invalid",e),l=_=h=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":h=y;break;case"defaultValue":_=y;break;case"multiple":l=y;default:Ae(e,n,u,y,a,null)}n=h,a=_,e.multiple=!!l,n!=null?Ms(e,!!l,n,!1):a!=null&&Ms(e,!!l,a,!0);return;case"textarea":de("invalid",e),h=u=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(y=a[_],y!=null))switch(_){case"value":l=y;break;case"defaultValue":u=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ae(e,n,_,y,a,null)}Om(e,l,u,h);return;case"option":for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null)&&(S==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ae(e,n,S,l,a,null));return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<Er.length;l++)de(Er[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ae(e,n,O,l,a,null)}return;default:if(nu(n)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Vd(e,n,j,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Ae(e,n,y,l,a,null))}function r2(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,_=null,y=null,S=null,O=null,j=null;for(M in a){var z=a[M];if(a.hasOwnProperty(M)&&z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=z;default:l.hasOwnProperty(M)||Ae(e,n,M,null,l,z)}}for(var D in l){var M=l[D];if(z=a[D],l.hasOwnProperty(D)&&(M!=null||z!=null))switch(D){case"type":h=M;break;case"name":u=M;break;case"checked":O=M;break;case"defaultChecked":j=M;break;case"value":_=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,n));break;default:M!==z&&Ae(e,n,D,M,l,z)}}eu(e,_,y,S,O,j,h,u);return;case"select":M=_=y=D=null;for(h in a)if(S=a[h],a.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":M=S;default:l.hasOwnProperty(h)||Ae(e,n,h,null,l,S)}for(u in l)if(h=l[u],S=a[u],l.hasOwnProperty(u)&&(h!=null||S!=null))switch(u){case"value":D=h;break;case"defaultValue":y=h;break;case"multiple":_=h;default:h!==S&&Ae(e,n,u,h,l,S)}n=y,a=_,l=M,D!=null?Ms(e,!!a,D,!1):!!l!=!!a&&(n!=null?Ms(e,!!a,n,!0):Ms(e,!!a,a?[]:"",!1));return;case"textarea":M=D=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ae(e,n,y,null,l,u)}for(_ in l)if(u=l[_],h=a[_],l.hasOwnProperty(_)&&(u!=null||h!=null))switch(_){case"value":D=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&Ae(e,n,_,u,l,h)}Rm(e,D,M);return;case"option":for(var K in a)D=a[K],a.hasOwnProperty(K)&&D!=null&&!l.hasOwnProperty(K)&&(K==="selected"?e.selected=!1:Ae(e,n,K,null,l,D));for(S in l)D=l[S],M=a[S],l.hasOwnProperty(S)&&D!==M&&(D!=null||M!=null)&&(S==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":Ae(e,n,S,D,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in a)D=a[$],a.hasOwnProperty($)&&D!=null&&!l.hasOwnProperty($)&&Ae(e,n,$,null,l,D);for(O in l)if(D=l[O],M=a[O],l.hasOwnProperty(O)&&D!==M&&(D!=null||M!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Ae(e,n,O,D,l,M)}return;default:if(nu(n)){for(var Re in a)D=a[Re],a.hasOwnProperty(Re)&&D!==void 0&&!l.hasOwnProperty(Re)&&Vd(e,n,Re,void 0,l,D);for(j in l)D=l[j],M=a[j],!l.hasOwnProperty(j)||D===M||D===void 0&&M===void 0||Vd(e,n,j,D,l,M);return}}for(var N in a)D=a[N],a.hasOwnProperty(N)&&D!=null&&!l.hasOwnProperty(N)&&Ae(e,n,N,null,l,D);for(z in l)D=l[z],M=a[z],!l.hasOwnProperty(z)||D===M||D==null&&M==null||Ae(e,n,z,D,l,M)}function I0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],h=u.transferSize,_=u.initiatorType,y=u.duration;if(h&&y&&I0(_)){for(_=0,y=u.responseEnd,l+=1;l<a.length;l++){var S=a[l],O=S.startTime;if(O>y)break;var j=S.transferSize,z=S.initiatorType;j&&I0(z)&&(S=S.responseEnd,_+=j*(S<y?1:(y-O)/(S-O)))}if(--l,n+=8*(h+_)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qd=null,Gd=null;function To(e){return e.nodeType===9?e:e.ownerDocument}function j0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fd=null;function o2(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(e){return U0.resolve(null).then(e).catch(d2)}:L0;function d2(e){setTimeout(function(){throw e})}function Si(e){return e==="head"}function z0(e,n){var a=n,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),ua(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wr(a);for(var h=a.firstChild;h;){var _=h.nextSibling,y=h.nodeName;h[Va]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=_}}else a==="body"&&wr(e.ownerDocument.body);a=u}while(a);ua(n)}function H0(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Kd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),$c(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function h2(e,n,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Va])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function f2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function B0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$?"||e.data==="$~"}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function m2(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function $t(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Xd=null;function P0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return $t(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function V0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function q0(e,n,a){switch(n=To(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function wr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$c(e)}var Jt=new Map,G0=new Set;function No(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=q.d;q.d={f:p2,r:g2,D:_2,C:v2,L:y2,m:b2,X:E2,S:x2,M:S2};function p2(){var e=Yn.f(),n=vo();return e||n}function g2(e){var n=Rs(e);n!==null&&n.tag===5&&n.type==="form"?lg(n):Yn.r(e)}var la=typeof document>"u"?null:document;function Y0(e,n,a){var l=la;if(l&&typeof n=="string"&&n){var u=Yt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),G0.has(u)||(G0.add(u),e={rel:e,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ft(n,"link",e),it(n),l.head.appendChild(n)))}}function _2(e){Yn.D(e),Y0("dns-prefetch",e,null)}function v2(e,n){Yn.C(e,n),Y0("preconnect",e,n)}function y2(e,n,a){Yn.L(e,n,a);var l=la;if(l&&e&&n){var u='link[rel="preload"][as="'+Yt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Yt(a.imageSizes)+'"]')):u+='[href="'+Yt(e)+'"]';var h=u;switch(n){case"style":h=oa(e);break;case"script":h=ca(e)}Jt.has(h)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Jt.set(h,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(Cr(h))||n==="script"&&l.querySelector(Tr(h))||(n=l.createElement("link"),ft(n,"link",e),it(n),l.head.appendChild(n)))}}function b2(e,n){Yn.m(e,n);var a=la;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ca(e)}if(!Jt.has(h)&&(e=b({rel:"modulepreload",href:e},n),Jt.set(h,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tr(h)))return}l=a.createElement("link"),ft(l,"link",e),it(l),a.head.appendChild(l)}}}function x2(e,n,a){Yn.S(e,n,a);var l=la;if(l&&e){var u=Os(l).hoistableStyles,h=oa(e);n=n||"default";var _=u.get(h);if(!_){var y={loading:0,preload:null};if(_=l.querySelector(Cr(h)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Jt.get(h))&&Zd(e,a);var S=_=l.createElement("link");it(S),ft(S,"link",e),S._p=new Promise(function(O,j){S.onload=O,S.onerror=j}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ao(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:y},u.set(h,_)}}}function E2(e,n){Yn.X(e,n);var a=la;if(a&&e){var l=Os(a).hoistableScripts,u=ca(e),h=l.get(u);h||(h=a.querySelector(Tr(u)),h||(e=b({src:e,async:!0},n),(n=Jt.get(u))&&$d(e,n),h=a.createElement("script"),it(h),ft(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function S2(e,n){Yn.M(e,n);var a=la;if(a&&e){var l=Os(a).hoistableScripts,u=ca(e),h=l.get(u);h||(h=a.querySelector(Tr(u)),h||(e=b({src:e,async:!0,type:"module"},n),(n=Jt.get(u))&&$d(e,n),h=a.createElement("script"),it(h),ft(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function F0(e,n,a,l){var u=(u=ce.current)?No(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=oa(a.href),a=Os(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oa(a.href);var h=Os(u).hoistableStyles,_=h.get(e);if(_||(u=u.ownerDocument||u,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=u.querySelector(Cr(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),h||w2(u,e,a,_.state))),n&&l===null)throw Error(r(528,""));return _}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ca(a),a=Os(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function oa(e){return'href="'+Yt(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function K0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function w2(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ft(n,"link",a),it(n),e.head.appendChild(n))}function ca(e){return'[src="'+Yt(e)+'"]'}function Tr(e){return"script[async]"+e}function Q0(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(a.href)+'"]');if(l)return n.instance=l,it(l),l;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ft(l,"style",u),Ao(l,a.precedence,e),n.instance=l;case"stylesheet":u=oa(a.href);var h=e.querySelector(Cr(u));if(h)return n.state.loading|=4,n.instance=h,it(h),h;l=K0(a),(u=Jt.get(u))&&Zd(l,u),h=(e.ownerDocument||e).createElement("link"),it(h);var _=h;return _._p=new Promise(function(y,S){_.onload=y,_.onerror=S}),ft(h,"link",l),n.state.loading|=4,Ao(h,a.precedence,e),n.instance=h;case"script":return h=ca(a.src),(u=e.querySelector(Tr(h)))?(n.instance=u,it(u),u):(l=a,(u=Jt.get(h))&&(l=b({},a),$d(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),it(u),ft(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,a.precedence,e));return n.instance}function Ao(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,_=0;_<l.length;_++){var y=l[_];if(y.dataset.precedence===n)h=y;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ro=null;function W0(e,n,a){if(Ro===null){var l=new Map,u=Ro=new Map;u.set(a,l)}else u=Ro,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[Va]||h[ct]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var y=l.get(_);y?y.push(h):l.set(_,[h])}}return l}function X0(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function C2(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Z0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function T2(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=oa(l.href),h=n.querySelector(Cr(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Oo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,it(h);return}h=n.ownerDocument||n,l=K0(l),(u=Jt.get(u))&&Zd(l,u),h=h.createElement("link"),it(h);var _=h;_._p=new Promise(function(y,S){_.onload=y,_.onerror=S}),ft(h,"link",l),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Jd=0;function N2(e,n){return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Jd===0&&(Jd=62500*l2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Jd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Do=null;function Mo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Do=new Map,n.forEach(A2,e),Do=null,Oo.call(e))}function A2(e,n){if(!(n.state.loading&4)){var a=Do.get(e);if(a)var l=a.get(null);else{a=new Map,Do.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var _=u[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}u=n.instance,_=u.getAttribute("data-precedence"),h=a.get(_)||l,h===l&&a.set(null,u),a.set(_,u),this.count++,l=Oo.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Nr={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function R2(e,n,a,l,u,h,_,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function $0(e,n,a,l,u,h,_,y,S,O,j,z){return e=new R2(e,n,a,_,S,O,j,z,y),n=1,h===!0&&(n|=24),h=Lt(3,null,null,n),e.current=h,h.stateNode=e,n=Mu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Lu(h),e}function J0(e){return e?(e=Bs,e):Bs}function e_(e,n,a,l,u,h){u=J0(u),l.context===null?l.context=u:l.pendingContext=u,l=hi(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=fi(e,l,n),a!==null&&(Ot(a,e,n),ar(a,e,n))}function t_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function eh(e,n){t_(e,n),(e=e.alternate)&&t_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=ts(e,67108864);n!==null&&Ot(n,e,67108864),eh(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=Pt();n=Wc(n);var a=ts(e,n);a!==null&&Ot(a,e,n),eh(e,n)}}var Io=!0;function O2(e,n,a,l){var u=k.T;k.T=null;var h=q.p;try{q.p=2,th(e,n,a,l)}finally{q.p=h,k.T=u}}function D2(e,n,a,l){var u=k.T;k.T=null;var h=q.p;try{q.p=8,th(e,n,a,l)}finally{q.p=h,k.T=u}}function th(e,n,a,l){if(Io){var u=nh(l);if(u===null)Pd(e,n,l,jo,a),a_(e,l);else if(I2(u,e,n,a,l))l.stopPropagation();else if(a_(e,l),n&4&&-1<M2.indexOf(e)){for(;u!==null;){var h=Rs(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Xi(h.pendingLanes);if(_!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;_;){var S=1<<31-jt(_);y.entanglements[1]|=S,_&=~S}bn(h),(be&6)===0&&(go=Mt()+500,xr(0))}}break;case 31:case 13:y=ts(h,2),y!==null&&Ot(y,h,2),vo(),eh(h,2)}if(h=nh(l),h===null&&Pd(e,n,l,jo,a),h===u)break;u=h}u!==null&&l.stopPropagation()}else Pd(e,n,l,null,a)}}function nh(e){return e=su(e),ih(e)}var jo=null;function ih(e){if(jo=null,e=As(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return jo=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_1()){case hm:return 2;case fm:return 8;case El:case v1:return 32;case mm:return 268435456;default:return 32}default:return 32}}var sh=!1,wi=null,Ci=null,Ti=null,Ar=new Map,Rr=new Map,Ni=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,n){switch(e){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ar.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(n.pointerId)}}function Or(e,n,a,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},n!==null&&(n=Rs(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function I2(e,n,a,l,u){switch(n){case"focusin":return wi=Or(wi,e,n,a,l,u),!0;case"dragenter":return Ci=Or(Ci,e,n,a,l,u),!0;case"mouseover":return Ti=Or(Ti,e,n,a,l,u),!0;case"pointerover":var h=u.pointerId;return Ar.set(h,Or(Ar.get(h)||null,e,n,a,l,u)),!0;case"gotpointercapture":return h=u.pointerId,Rr.set(h,Or(Rr.get(h)||null,e,n,a,l,u)),!0}return!1}function r_(e){var n=As(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,bm(e.priority,function(){i_(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,bm(e.priority,function(){i_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=nh(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);iu=l,a.target.dispatchEvent(l),iu=null}else return n=Rs(a),n!==null&&n_(n),e.blockedOn=a,!1;n.shift()}return!0}function l_(e,n,a){ko(e)&&a.delete(n)}function j2(){sh=!1,wi!==null&&ko(wi)&&(wi=null),Ci!==null&&ko(Ci)&&(Ci=null),Ti!==null&&ko(Ti)&&(Ti=null),Ar.forEach(l_),Rr.forEach(l_)}function Lo(e,n){e.blockedOn===n&&(e.blockedOn=null,sh||(sh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j2)))}var Uo=null;function o_(e){Uo!==e&&(Uo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uo===e&&(Uo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(ih(l||a)===null)continue;break}var h=Rs(a);h!==null&&(e.splice(n,3),n-=3,nd(h,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function ua(e){function n(S){return Lo(S,e)}wi!==null&&Lo(wi,e),Ci!==null&&Lo(Ci,e),Ti!==null&&Lo(Ti,e),Ar.forEach(n),Rr.forEach(n);for(var a=0;a<Ni.length;a++){var l=Ni[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ni.length&&(a=Ni[0],a.blockedOn===null);)r_(a),a.blockedOn===null&&Ni.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],h=a[l+1],_=u[wt]||null;if(typeof h=="function")_||o_(a);else if(_){var y=null;if(h&&h.hasAttribute("formAction")){if(u=h,_=h[wt]||null)y=_.formAction;else if(ih(u)!==null)continue}else y=_.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),o_(a)}}}function c_(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(_){return u=_})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function ah(e){this._internalRoot=e}zo.prototype.render=ah.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Pt();e_(a,l,e,n,null,null)},zo.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e_(e.current,2,null,e,null,null),vo(),n[Ns]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var n=ym();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ni.length&&n!==0&&n<Ni[a].priority;a++);Ni.splice(a,0,e),a===0&&r_(e)}};var u_=t.version;if(u_!=="19.2.4")throw Error(r(527,u_,"19.2.4"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var k2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Ha=Ho.inject(k2),It=Ho}catch{}}return Mr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",u=_g,h=vg,_=yg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=$0(e,1,!1,null,null,a,l,null,u,h,_,c_),e[Ns]=n.current,Bd(e),new ah(n)},Mr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,u="",h=_g,_=vg,y=yg,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),n=$0(e,1,!0,n,a??null,l,u,S,h,_,y,c_),n.context=J0(null),a=n.current,l=Pt(),l=Wc(l),u=hi(l),u.callback=null,fi(a,u,l),a=l,n.current.lanes=a,Pa(n,a),bn(n),e[Ns]=n.current,Bd(e),new zo(n)},Mr.version="19.2.4",Mr}var b_;function K2(){if(b_)return oh.exports;b_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),oh.exports=F2(),oh.exports}var Q2=K2();var x_="popstate";function W2(s={}){function t(r,o){let{pathname:c,search:d,hash:m}=r.location;return Oh("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Kr(o)}return Z2(t,i,null,s)}function Pe(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function hn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X2(){return Math.random().toString(36).substring(2,10)}function E_(s,t){return{usr:s.state,key:s.key,idx:t}}function Oh(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Na(t):t,state:i,key:t&&t.key||r||X2()}}function Kr({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Na(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function Z2(s,t,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function b(){m="POP";let I=x(),V=I==null?null:I-g;g=I,p&&p({action:m,location:L.location,delta:V})}function v(I,V){m="PUSH";let B=Oh(L.location,I,V);g=x()+1;let Y=E_(B,g),ge=L.createHref(B);try{d.pushState(Y,"",ge)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(ge)}c&&p&&p({action:m,location:L.location,delta:1})}function E(I,V){m="REPLACE";let B=Oh(L.location,I,V);g=x();let Y=E_(B,g),ge=L.createHref(B);d.replaceState(Y,"",ge),c&&p&&p({action:m,location:L.location,delta:0})}function A(I){return $2(I)}let L={get action(){return m},get location(){return s(o,d)},listen(I){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(x_,b),p=I,()=>{o.removeEventListener(x_,b),p=null}},createHref(I){return t(o,I)},createURL:A,encodeLocation(I){let V=A(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:v,replace:E,go(I){return d.go(I)}};return L}function $2(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Kr(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function Uv(s,t,i="/"){return J2(s,t,i,!1)}function J2(s,t,i,r){let o=typeof t=="string"?Na(t):t,c=$n(o.pathname||"/",i);if(c==null)return null;let d=zv(s);eE(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=dE(c);m=cE(d[p],g,r)}return m}function zv(s,t=[],i=[],r="",o=!1){let c=(d,m,p=o,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&p)return;Pe(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let b=Wn([r,x.relativePath]),v=i.concat(x);d.children&&d.children.length>0&&(Pe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),zv(d.children,t,v,b,p)),!(d.path==null&&!d.index)&&t.push({path:b,score:lE(b,d.index),routesMeta:v})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of Hv(d.path))c(d,m,!0,p)}),t}function Hv(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=Hv(r.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function eE(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:oE(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var tE=/^:[\w-]+$/,nE=3,iE=2,sE=1,aE=10,rE=-2,S_=s=>s==="*";function lE(s,t){let i=s.split("/"),r=i.length;return i.some(S_)&&(r+=rE),t&&(r+=iE),i.filter(o=>!S_(o)).reduce((o,c)=>o+(tE.test(c)?nE:c===""?sE:aE),r)}function oE(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function cE(s,t,i=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,x=c==="/"?t:t.slice(c.length)||"/",b=Zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),v=p.route;if(!b&&g&&i&&!r[r.length-1].route.index&&(b=Zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Wn([c,b.pathname]),pathnameBase:pE(Wn([c,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(c=Wn([c,b.pathnameBase]))}return d}function Zo(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=uE(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:b},v)=>{if(x==="*"){let A=m[v]||"";d=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const E=m[v];return b&&!E?g[x]=void 0:g[x]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function uE(s,t=!1,i=!0){hn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function dE(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function $n(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fE(s,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Na(s):s,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=w_(i.substring(1),"/"):c=w_(i,t)):c=t,{pathname:c,search:gE(r),hash:_E(o)}}function w_(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function hh(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mE(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function sf(s){let t=mE(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function af(s,t,i,r=!1){let o;typeof s=="string"?o=Na(s):(o={...s},Pe(!o.pathname||!o.pathname.includes("?"),hh("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),hh("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),hh("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let b=t.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;o.pathname=v.join("/")}m=b>=0?t[b]:"/"}let p=fE(o,m),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Wn=s=>s.join("/").replace(/\/\/+/g,"/"),pE=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,_E=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,vE=class{constructor(s,t,i,r=!1){this.status=s,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function yE(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function bE(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pv(s,t){let i=s;if(typeof i!="string"||!hE.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(Bv)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),m=$n(d.pathname,t);d.origin===c.origin&&m!=null?i=m+d.search+d.hash:o=!0}catch{hn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vv=["POST","PUT","PATCH","DELETE"];new Set(Vv);var xE=["GET",...Vv];new Set(xE);var Aa=T.createContext(null);Aa.displayName="DataRouter";var bc=T.createContext(null);bc.displayName="DataRouterState";var EE=T.createContext(!1),qv=T.createContext({isTransitioning:!1});qv.displayName="ViewTransition";var SE=T.createContext(new Map);SE.displayName="Fetchers";var wE=T.createContext(null);wE.displayName="Await";var Vt=T.createContext(null);Vt.displayName="Navigation";var ll=T.createContext(null);ll.displayName="Location";var mn=T.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var rf=T.createContext(null);rf.displayName="RouteError";var Gv="REACT_ROUTER_ERROR",CE="REDIRECT",TE="ROUTE_ERROR_RESPONSE";function NE(s){if(s.startsWith(`${Gv}:${CE}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function AE(s){if(s.startsWith(`${Gv}:${TE}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new vE(t.status,t.statusText,t.data)}catch{}}function RE(s,{relative:t}={}){Pe(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=T.useContext(Vt),{hash:o,pathname:c,search:d}=ol(s,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Wn([i,c])),r.createHref({pathname:m,search:d,hash:o})}function Ra(){return T.useContext(ll)!=null}function pn(){return Pe(Ra(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ll).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fv(s){T.useContext(Vt).static||T.useLayoutEffect(s)}function lf(){let{isDataRoute:s}=T.useContext(mn);return s?GE():OE()}function OE(){Pe(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(Aa),{basename:t,navigator:i}=T.useContext(Vt),{matches:r}=T.useContext(mn),{pathname:o}=pn(),c=JSON.stringify(sf(r)),d=T.useRef(!1);return Fv(()=>{d.current=!0}),T.useCallback((p,g={})=>{if(hn(d.current,Yv),!d.current)return;if(typeof p=="number"){i.go(p);return}let x=af(p,JSON.parse(c),o,g.relative==="path");s==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Wn([t,x.pathname])),(g.replace?i.replace:i.push)(x,g.state,g)},[t,i,c,o,s])}var DE=T.createContext(null);function ME(s){let t=T.useContext(mn).outlet;return T.useMemo(()=>t&&T.createElement(DE.Provider,{value:s},t),[t,s])}function ol(s,{relative:t}={}){let{matches:i}=T.useContext(mn),{pathname:r}=pn(),o=JSON.stringify(sf(i));return T.useMemo(()=>af(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function IE(s,t){return Kv(s,t)}function Kv(s,t,i,r,o){Pe(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=T.useContext(Vt),{matches:d}=T.useContext(mn),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",b=m&&m.route;{let B=b&&b.path||"";Wv(g,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=pn(),E;if(t){let B=typeof t=="string"?Na(t):t;Pe(x==="/"||B.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=v;let A=E.pathname||"/",L=A;if(x!=="/"){let B=x.replace(/^\//,"").split("/");L="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=Uv(s,{pathname:L});hn(b||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),hn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=zE(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Wn([x,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:Wn([x,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,i,r,o);return t&&V?T.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function jE(){let s=qE(),t=yE(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),i?T.createElement("pre",{style:o},i):null,d)}var kE=T.createElement(jE,null),Qv=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=AE(s.digest);i&&(s=i)}let t=s!==void 0?T.createElement(mn.Provider,{value:this.props.routeContext},T.createElement(rf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?T.createElement(LE,{error:s},t):t}};Qv.contextType=EE;var fh=new WeakMap;function LE({children:s,error:t}){let{basename:i}=T.useContext(Vt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=NE(t.digest);if(r){let o=fh.get(t);if(o)throw o;let c=Pv(r.location,i);if(Bv&&!fh.get(t))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw fh.set(t,d),d}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function UE({routeContext:s,match:t,children:i}){let r=T.useContext(Aa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(mn.Provider,{value:s},i)}function zE(s,t=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,d=i?.errors;if(d!=null){let x=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Pe(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,p=-1;if(i)for(let x=0;x<c.length;x++){let b=c[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=x),b.route.id){let{loaderData:v,errors:E}=i,A=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||A){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=i&&r?(x,b)=>{r(x,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:bE(i.matches),errorInfo:b})}:void 0;return c.reduceRight((x,b,v)=>{let E,A=!1,L=null,I=null;i&&(E=d&&b.route.id?d[b.route.id]:void 0,L=b.route.errorElement||kE,m&&(p<0&&v===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,I=null):p===v&&(A=!0,I=b.route.hydrateFallbackElement||null)));let V=t.concat(c.slice(0,v+1)),B=()=>{let Y;return E?Y=L:A?Y=I:b.route.Component?Y=T.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=x,T.createElement(UE,{match:b,routeContext:{outlet:x,matches:V,isDataRoute:i!=null},children:Y})};return i&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?T.createElement(Qv,{location:i.location,revalidation:i.revalidation,component:L,error:E,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):B()},null)}function of(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(s){let t=T.useContext(Aa);return Pe(t,of(s)),t}function BE(s){let t=T.useContext(bc);return Pe(t,of(s)),t}function PE(s){let t=T.useContext(mn);return Pe(t,of(s)),t}function cf(s){let t=PE(s),i=t.matches[t.matches.length-1];return Pe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function VE(){return cf("useRouteId")}function qE(){let s=T.useContext(rf),t=BE("useRouteError"),i=cf("useRouteError");return s!==void 0?s:t.errors?.[i]}function GE(){let{router:s}=HE("useNavigate"),t=cf("useNavigate"),i=T.useRef(!1);return Fv(()=>{i.current=!0}),T.useCallback(async(o,c={})=>{hn(i.current,Yv),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var C_={};function Wv(s,t,i){!t&&!C_[s]&&(C_[s]=!0,hn(!1,i))}T.memo(YE);function YE({routes:s,future:t,state:i,onError:r}){return Kv(s,void 0,i,r,t)}function Sn({to:s,replace:t,state:i,relative:r}){Pe(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Vt);hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(mn),{pathname:d}=pn(),m=lf(),p=af(s,sf(c),d,r==="path"),g=JSON.stringify(p);return T.useEffect(()=>{m(JSON.parse(g),{replace:t,state:i,relative:r})},[m,g,r,t,i]),null}function uf(s){return ME(s.context)}function at(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FE({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Pe(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof i=="string"&&(i=Na(i));let{pathname:g="/",search:x="",hash:b="",state:v=null,key:E="default"}=i,A=T.useMemo(()=>{let L=$n(g,m);return L==null?null:{location:{pathname:L,search:x,hash:b,state:v,key:E},navigationType:r}},[m,g,x,b,v,E,r]);return hn(A!=null,`<Router basename="${m}"> is not able to match the URL "${g}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:T.createElement(Vt.Provider,{value:p},T.createElement(ll.Provider,{children:t,value:A}))}function KE({children:s,location:t}){return IE(Dh(s),t)}function Dh(s,t=[]){let i=[];return T.Children.forEach(s,(r,o)=>{if(!T.isValidElement(r))return;let c=[...t,o];if(r.type===T.Fragment){i.push.apply(i,Dh(r.props.children,c));return}Pe(r.type===at,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Dh(r.props.children,c)),i.push(d)}),i}var Go="get",Yo="application/x-www-form-urlencoded";function xc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function QE(s){return xc(s)&&s.tagName.toLowerCase()==="button"}function WE(s){return xc(s)&&s.tagName.toLowerCase()==="form"}function XE(s){return xc(s)&&s.tagName.toLowerCase()==="input"}function ZE(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function $E(s,t){return s.button===0&&(!t||t==="_self")&&!ZE(s)}var Bo=null;function JE(){if(Bo===null)try{new FormData(document.createElement("form"),0),Bo=!1}catch{Bo=!0}return Bo}var eS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(s){return s!=null&&!eS.has(s)?(hn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yo}"`),null):s}function tS(s,t){let i,r,o,c,d;if(WE(s)){let m=s.getAttribute("action");r=m?$n(m,t):null,i=s.getAttribute("method")||Go,o=mh(s.getAttribute("enctype"))||Yo,c=new FormData(s)}else if(QE(s)||XE(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?$n(p,t):null,i=s.getAttribute("formmethod")||m.getAttribute("method")||Go,o=mh(s.getAttribute("formenctype"))||mh(m.getAttribute("enctype"))||Yo,c=new FormData(m,s),!JE()){let{name:g,type:x,value:b}=s;if(x==="image"){let v=g?`${g}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else g&&c.append(g,b)}}else{if(xc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Go,r=null,o=Yo,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function df(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function nS(s,t,i,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&$n(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function iS(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function aS(s,t,i){let r=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await iS(c,i);return d.links?d.links():[]}return[]}));return cS(r.flat(1).filter(sS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function T_(s,t,i,r,o,c){let d=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return c==="assets"?t.filter((p,g)=>d(p,g)||m(p,g)):c==="data"?t.filter((p,g)=>{let x=r.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function rS(s,t,{includeHydrateFallback:i}={}){return lS(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function lS(s){return[...new Set(s)]}function oS(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function cS(s,t){let i=new Set;return new Set(t),s.reduce((r,o)=>{let c=JSON.stringify(oS(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function Xv(){let s=T.useContext(Aa);return df(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function uS(){let s=T.useContext(bc);return df(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var hf=T.createContext(void 0);hf.displayName="FrameworkContext";function Zv(){let s=T.useContext(hf);return df(s,"You must render this element inside a <HydratedRouter> element"),s}function dS(s,t){let i=T.useContext(hf),[r,o]=T.useState(!1),[c,d]=T.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:b}=t,v=T.useRef(null);T.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let L=V=>{V.forEach(B=>{d(B.isIntersecting)})},I=new IntersectionObserver(L,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[s]),T.useEffect(()=>{if(r){let L=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(L)}}},[r]);let E=()=>{o(!0)},A=()=>{o(!1),d(!1)};return i?s!=="intent"?[c,v,{}]:[c,v,{onFocus:Ir(m,E),onBlur:Ir(p,A),onMouseEnter:Ir(g,E),onMouseLeave:Ir(x,A),onTouchStart:Ir(b,E)}]:[!1,v,{}]}function Ir(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function hS({page:s,...t}){let{router:i}=Xv(),r=T.useMemo(()=>Uv(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?T.createElement(mS,{page:s,matches:r,...t}):null}function fS(s){let{manifest:t,routeModules:i}=Zv(),[r,o]=T.useState([]);return T.useEffect(()=>{let c=!1;return aS(s,t,i).then(d=>{c||o(d)}),()=>{c=!0}},[s,t,i]),r}function mS({page:s,matches:t,...i}){let r=pn(),{future:o,manifest:c,routeModules:d}=Zv(),{basename:m}=Xv(),{loaderData:p,matches:g}=uS(),x=T.useMemo(()=>T_(s,t,g,c,r,"data"),[s,t,g,c,r]),b=T.useMemo(()=>T_(s,t,g,c,r,"assets"),[s,t,g,c,r]),v=T.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let L=new Set,I=!1;if(t.forEach(B=>{let Y=c.routes[B.route.id];!Y||!Y.hasLoader||(!x.some(ge=>ge.route.id===B.route.id)&&B.route.id in p&&d[B.route.id]?.shouldRevalidate||Y.hasClientLoader?I=!0:L.add(B.route.id))}),L.size===0)return[];let V=nS(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return I&&L.size>0&&V.searchParams.set("_routes",t.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,c,x,t,s,d]),E=T.useMemo(()=>rS(b,c),[b,c]),A=fS(b);return T.createElement(T.Fragment,null,v.map(L=>T.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),E.map(L=>T.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),A.map(({key:L,link:I})=>T.createElement("link",{key:L,nonce:i.nonce,...I,crossOrigin:I.crossOrigin??i.crossOrigin})))}function pS(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gS&&(window.__reactRouterVersion="7.13.0")}catch{}function _S({basename:s,children:t,unstable_useTransitions:i,window:r}){let o=T.useRef();o.current==null&&(o.current=W2({window:r,v5Compat:!0}));let c=o.current,[d,m]=T.useState({action:c.action,location:c.location}),p=T.useCallback(g=>{i===!1?m(g):T.startTransition(()=>m(g))},[i]);return T.useLayoutEffect(()=>c.listen(p),[c,p]),T.createElement(FE,{basename:s,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var $v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=T.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},A){let{basename:L,unstable_useTransitions:I}=T.useContext(Vt),V=typeof g=="string"&&$v.test(g),B=Pv(g,L);g=B.to;let Y=RE(g,{relative:o}),[ge,F,ne]=dS(r,E),Z=xS(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:I});function Le(qt){t&&t(qt),qt.defaultPrevented||Z(qt)}let Fe=T.createElement("a",{...E,...ne,href:B.absoluteURL||Y,onClick:B.isExternal||c?t:Le,ref:pS(A,F),target:p,"data-discover":!V&&i==="render"?"true":void 0});return ge&&!V?T.createElement(T.Fragment,null,Fe,T.createElement(hS,{page:Y})):Fe});Be.displayName="Link";var vS=T.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...g},x){let b=ol(d,{relative:g.relative}),v=pn(),E=T.useContext(bc),{navigator:A,basename:L}=T.useContext(Vt),I=E!=null&&TS(b)&&m===!0,V=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,B=v.pathname,Y=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(B=B.toLowerCase(),Y=Y?Y.toLowerCase():null,V=V.toLowerCase()),Y&&L&&(Y=$n(Y,L)||Y);const ge=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let F=B===V||!o&&B.startsWith(V)&&B.charAt(ge)==="/",ne=Y!=null&&(Y===V||!o&&Y.startsWith(V)&&Y.charAt(V.length)==="/"),Z={isActive:F,isPending:ne,isTransitioning:I},Le=F?t:void 0,Fe;typeof r=="function"?Fe=r(Z):Fe=[r,F?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let qt=typeof c=="function"?c(Z):c;return T.createElement(Be,{...g,"aria-current":Le,className:Fe,ref:x,style:qt,to:d,viewTransition:m},typeof p=="function"?p(Z):p)});vS.displayName="NavLink";var yS=T.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:c,method:d=Go,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},A)=>{let{unstable_useTransitions:L}=T.useContext(Vt),I=wS(),V=CS(m,{relative:g}),B=d.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&$v.test(m),ge=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let ne=F.nativeEvent.submitter,Z=ne?.getAttribute("formmethod")||d,Le=()=>I(ne||F.currentTarget,{fetcherKey:t,method:Z,navigate:i,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:v});L&&i!==!1?T.startTransition(()=>Le()):Le()};return T.createElement("form",{ref:A,method:B,action:V,onSubmit:r?p:ge,...E,"data-discover":!Y&&s==="render"?"true":void 0})});yS.displayName="Form";function bS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jv(s){let t=T.useContext(Aa);return Pe(t,bS(s)),t}function xS(s,{target:t,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=lf(),x=pn(),b=ol(s,{relative:c});return T.useCallback(v=>{if($E(v,t)){v.preventDefault();let E=i!==void 0?i:Kr(x)===Kr(b),A=()=>g(s,{replace:E,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m});p?T.startTransition(()=>A()):A()}},[x,g,b,i,r,t,s,o,c,d,m,p])}var ES=0,SS=()=>`__${String(++ES)}__`;function wS(){let{router:s}=Jv("useSubmit"),{basename:t}=T.useContext(Vt),i=VE(),r=s.fetch,o=s.navigate;return T.useCallback(async(c,d={})=>{let{action:m,method:p,encType:g,formData:x,body:b}=tS(c,t);if(d.navigate===!1){let v=d.fetcherKey||SS();await r(v,i,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:b,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:b,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,t,i])}function CS(s,{relative:t}={}){let{basename:i}=T.useContext(Vt),r=T.useContext(mn);Pe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...ol(s||".",{relative:t})},d=pn();if(s==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Wn([i,c.pathname])),Kr(c)}function TS(s,{relative:t}={}){let i=T.useContext(qv);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jv("useViewTransitionState"),o=ol(s,{relative:t});if(!i.isTransitioning)return!1;let c=$n(i.currentLocation.pathname,r)||i.currentLocation.pathname,d=$n(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Zo(o.pathname,d)!=null||Zo(o.pathname,c)!=null}const NS=()=>{};var N_={};const ey={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const P=function(s,t){if(!s)throw Oa(t)},Oa=function(s){return new Error("Firebase Database ("+ey.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const ty=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},AS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],m=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},ff={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,m=d?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,x=c>>2,b=(c&3)<<4|m>>4;let v=(m&15)<<2|g>>6,E=g&63;p||(E=64,d||(v=64)),r.push(i[x],i[b],i[v],i[E])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ty(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):AS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||m==null||g==null||b==null)throw new RS;const v=c<<2|m>>4;if(r.push(v),g!==64){const E=m<<4&240|g>>2;if(r.push(E),b!==64){const A=g<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ny=function(s){const t=ty(s);return ff.encodeByteArray(t,!0)},$o=function(s){return ny(s).replace(/\./g,"")},Jo=function(s){try{return ff.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function OS(s){return iy(void 0,s)}function iy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!DS(i)||(s[i]=iy(s[i],t[i]));return s}function DS(s){return s!=="__proto__"}function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IS=()=>MS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof N_>"u")return;const s=N_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Jo(s[1]);return t&&JSON.parse(t)},mf=()=>{try{return NS()||IS()||jS()||kS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sy=s=>mf()?.emulatorHosts?.[s],LS=s=>{const t=sy(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ay=()=>mf()?.config,ry=s=>mf()?.[`_${s}`];class cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Da(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ly(s){return(await fetch(s,{credentials:"include"})).ok}function US(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$o(JSON.stringify(i)),$o(JSON.stringify(d)),""].join(".")}const Br={};function zS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Br))Br[t]?s.emulator.push(t):s.prod.push(t);return s}function HS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let A_=!1;function oy(s,t){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||Br[s]===t||Br[s]||A_)return;Br[s]=t;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",c=zS().prod.length>0;function d(){const v=document.getElementById(r);v&&v.remove()}function m(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{A_=!0,d()},v}function x(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=HS(r),E=i("text"),A=document.getElementById(E)||document.createElement("span"),L=i("learnmore"),I=document.getElementById(L)||document.createElement("a"),V=i("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const Y=v.element;m(Y),x(I,L);const ge=g();p(B,V),Y.append(B,A,I,ge),document.body.appendChild(Y)}c?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function cy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const s=Et();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return ey.NODE_ADMIN===!0}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const FS="FirebaseError";class Yi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=FS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?KS(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,m,r)}}function KS(s,t){return s.replace(QS,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const QS=/\{\$([^}]+)}/g;function Qr(s){return JSON.parse(s)}function nt(s){return JSON.stringify(s)}const uy=function(s){let t={},i={},r={},o="";try{const c=s.split(".");t=Qr(Jo(c[0])||""),i=Qr(Jo(c[1])||""),o=c[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},WS=function(s){const t=uy(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},XS=function(s){const t=uy(s).claims;return typeof t=="object"&&t.admin===!0};function Tn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ya(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Mh(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ec(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function _s(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=t[o];if(R_(c)&&R_(d)){if(!_s(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function R_(s){return s!==null&&typeof s=="object"}function Ma(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zr(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function Hr(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class ZS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)r[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)r[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const v=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,x;for(let b=0;b<80;b++){b<40?b<20?(g=m^c&(d^m),x=1518500249):(g=c^d^m,x=1859775393):b<60?(g=c&d|m&(c|d),x=2400959708):(g=c^d^m,x=3395469782);const v=(o<<5|o>>>27)+g+p+x+r[b]&4294967295;p=m,m=d,d=(c<<30|c>>>2)&4294967295,c=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<i;)if(c[d]=t[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[r]=this.chain_[o]>>c&255,++r;return t}}function $S(s,t){const i=new JS(s,t);return i.subscribe.bind(i)}class JS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ew(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=ph),o.error===void 0&&(o.error=ph),o.complete===void 0&&(o.complete=ph);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ew(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function ph(){}function Ec(s,t){return`${s} failed: ${t} argument `}const tw=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,P(r<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(r)-56320;o=65536+(c<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Sc=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function _t(s){return s&&s._delegate?s._delegate:s}class vs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ms="[DEFAULT]";class nw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new cl;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sw(t))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ms){return this.instances.has(t)}getOptions(t=ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ms){return this.component?this.component.multipleInstances?t:ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iw(s){return s===ms?void 0:s}function sw(s){return s.instantiationMode==="EAGER"}class aw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const rw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},lw=Oe.INFO,ow={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},cw=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=ow[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gf{constructor(t){this.name=t,this._logLevel=lw,this._logHandler=cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...t),this._logHandler(this,Oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...t),this._logHandler(this,Oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...t),this._logHandler(this,Oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...t),this._logHandler(this,Oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...t),this._logHandler(this,Oe.ERROR,...t)}}const uw=(s,t)=>t.some(i=>s instanceof i);let O_,D_;function dw(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hw(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dy=new WeakMap,Ih=new WeakMap,hy=new WeakMap,gh=new WeakMap,_f=new WeakMap;function fw(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Li(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&dy.set(i,s)}).catch(()=>{}),_f.set(t,s),t}function mw(s){if(Ih.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Ih.set(s,t)}let jh={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Ih.get(s);if(t==="objectStoreNames")return s.objectStoreNames||hy.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Li(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function pw(s){jh=s(jh)}function gw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(_h(this),t,...i);return hy.set(r,t.sort?t.sort():[t]),Li(r)}:hw().includes(s)?function(...t){return s.apply(_h(this),t),Li(dy.get(this))}:function(...t){return Li(s.apply(_h(this),t))}}function _w(s){return typeof s=="function"?gw(s):(s instanceof IDBTransaction&&mw(s),uw(s,dw())?new Proxy(s,jh):s)}function Li(s){if(s instanceof IDBRequest)return fw(s);if(gh.has(s))return gh.get(s);const t=_w(s);return t!==s&&(gh.set(s,t),_f.set(t,s)),t}const _h=s=>_f.get(s);function vw(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),m=Li(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Li(d.result),p.oldVersion,p.newVersion,Li(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const yw=["get","getKey","getAll","getAllKeys","count"],bw=["put","add","delete","clear"],vh=new Map;function M_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(vh.get(t))return vh.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=bw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yw.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return vh.set(t,c),c}pw(s=>({...s,get:(t,i,r)=>M_(t,i)||s.get(t,i,r),has:(t,i)=>!!M_(t,i)||s.has(t,i)}));class xw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ew(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Ew(s){return s.getComponent()?.type==="VERSION"}const kh="@firebase/app",I_="0.14.7";const Jn=new gf("@firebase/app"),Sw="@firebase/app-compat",ww="@firebase/analytics-compat",Cw="@firebase/analytics",Tw="@firebase/app-check-compat",Nw="@firebase/app-check",Aw="@firebase/auth",Rw="@firebase/auth-compat",Ow="@firebase/database",Dw="@firebase/data-connect",Mw="@firebase/database-compat",Iw="@firebase/functions",jw="@firebase/functions-compat",kw="@firebase/installations",Lw="@firebase/installations-compat",Uw="@firebase/messaging",zw="@firebase/messaging-compat",Hw="@firebase/performance",Bw="@firebase/performance-compat",Pw="@firebase/remote-config",Vw="@firebase/remote-config-compat",qw="@firebase/storage",Gw="@firebase/storage-compat",Yw="@firebase/firestore",Fw="@firebase/ai",Kw="@firebase/firestore-compat",Qw="firebase",Ww="12.8.0";const Lh="[DEFAULT]",Xw={[kh]:"fire-core",[Sw]:"fire-core-compat",[Cw]:"fire-analytics",[ww]:"fire-analytics-compat",[Nw]:"fire-app-check",[Tw]:"fire-app-check-compat",[Aw]:"fire-auth",[Rw]:"fire-auth-compat",[Ow]:"fire-rtdb",[Dw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[Iw]:"fire-fn",[jw]:"fire-fn-compat",[kw]:"fire-iid",[Lw]:"fire-iid-compat",[Uw]:"fire-fcm",[zw]:"fire-fcm-compat",[Hw]:"fire-perf",[Bw]:"fire-perf-compat",[Pw]:"fire-rc",[Vw]:"fire-rc-compat",[qw]:"fire-gcs",[Gw]:"fire-gcs-compat",[Yw]:"fire-fst",[Kw]:"fire-fst-compat",[Fw]:"fire-vertex","fire-js":"fire-js",[Qw]:"fire-js-all"};const ba=new Map,Uh=new Map,zh=new Map;function j_(s,t){try{s.container.addComponent(t)}catch(i){Jn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function xa(s){const t=s.name;if(zh.has(t))return Jn.debug(`There were multiple attempts to register component ${t}.`),!1;zh.set(t,s);for(const i of ba.values())j_(i,s);for(const i of Uh.values())j_(i,s);return!0}function vf(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function en(s){return s==null?!1:s.settings!==void 0}const Zw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new ul("app","Firebase",Zw);class $w{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const Ia=Ww;function wc(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Lh,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(i||(i=ay()),!i)throw Ui.create("no-options");const c=ba.get(o);if(c){if(_s(i,c.options)&&_s(r,c.config))return c;throw Ui.create("duplicate-app",{appName:o})}const d=new aw(o);for(const p of zh.values())d.addComponent(p);const m=new $w(i,r,d);return ba.set(o,m),m}function fy(s=Lh){const t=ba.get(s);if(!t&&s===Lh&&ay())return wc();if(!t)throw Ui.create("no-app",{appName:s});return t}async function my(s){let t=!1;const i=s.name;ba.has(i)?(t=!0,ba.delete(i)):Uh.has(i)&&s.decRefCount()<=0&&(Uh.delete(i),t=!0),t&&(await Promise.all(s.container.getProviders().map(r=>r.delete())),s.isDeleted=!0)}function zi(s,t,i){let r=Xw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jn.warn(d.join(" "));return}xa(new vs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Jw="firebase-heartbeat-database",eC=1,Wr="firebase-heartbeat-store";let yh=null;function py(){return yh||(yh=vw(Jw,eC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Wr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ui.create("idb-open",{originalErrorMessage:s.message})})),yh}async function tC(s){try{const i=(await py()).transaction(Wr),r=await i.objectStore(Wr).get(gy(s));return await i.done,r}catch(t){if(t instanceof Yi)Jn.warn(t.message);else{const i=Ui.create("idb-get",{originalErrorMessage:t?.message});Jn.warn(i.message)}}}async function k_(s,t){try{const r=(await py()).transaction(Wr,"readwrite");await r.objectStore(Wr).put(t,gy(s)),await r.done}catch(i){if(i instanceof Yi)Jn.warn(i.message);else{const r=Ui.create("idb-set",{originalErrorMessage:i?.message});Jn.warn(r.message)}}}function gy(s){return`${s.name}!${s.options.appId}`}const nC=1024,iC=30;class sC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>iC){const o=lC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Jn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:r}=aC(this._heartbeatsCache.heartbeats),o=$o(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Jn.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function aC(s,t=nC){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),U_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tC(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U_(s){return $o(JSON.stringify({version:2,heartbeats:s})).length}function lC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function oC(s){xa(new vs("platform-logger",t=>new xw(t),"PRIVATE")),xa(new vs("heartbeat",t=>new sC(t),"PRIVATE")),zi(kh,I_,s),zi(kh,I_,"esm2020"),zi("fire-js","")}oC("");var cC="firebase",uC="12.8.0";zi(cC,uC,"app");var z_={};const H_="@firebase/database",B_="1.1.0";let _y="";function dC(s){_y=s}class hC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),nt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Qr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class fC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const vy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hC(t)}}catch{}return new fC},gs=vy("localStorage"),mC=vy("sessionStorage");const ma=new gf("@firebase/database"),pC=(function(){let s=1;return function(){return s++}})(),yy=function(s){const t=tw(s),i=new ZS;i.update(t);const r=i.digest();return ff.encodeByteArray(r)},dl=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=dl.apply(null,r):typeof r=="object"?t+=nt(r):t+=r,t+=" "}return t};let Pr=null,P_=!0;const gC=function(s,t){P(!0,"Can't turn on custom loggers persistently."),ma.logLevel=Oe.VERBOSE,Pr=ma.log.bind(ma)},mt=function(...s){if(P_===!0&&(P_=!1,Pr===null&&mC.get("logging_enabled")===!0&&gC()),Pr){const t=dl.apply(null,s);Pr(t)}},hl=function(s){return function(...t){mt(s,...t)}},Hh=function(...s){const t="FIREBASE INTERNAL ERROR: "+dl(...s);ma.error(t)},ei=function(...s){const t=`FIREBASE FATAL ERROR: ${dl(...s)}`;throw ma.error(t),new Error(t)},xt=function(...s){const t="FIREBASE WARNING: "+dl(...s);ma.warn(t)},_C=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yf=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},vC=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ea="[MIN_NAME]",ys="[MAX_NAME]",ws=function(s,t){if(s===t)return 0;if(s===Ea||t===ys)return-1;if(t===Ea||s===ys)return 1;{const i=V_(s),r=V_(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},yC=function(s,t){return s===t?0:s<t?-1:1},jr=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+nt(t))},bf=function(s){if(typeof s!="object"||s===null)return nt(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=nt(t[r]),i+=":",i+=bf(s[t[r]]);return i+="}",i},by=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function pt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const xy=function(s){P(!yf(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,c,d,m,p;s===0?(c=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),c=m+r,d=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(c=0,d=Math.round(s/Math.pow(2,1-r-i))));const g=[];for(p=i;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(o?1:0),g.reverse();const x=g.join("");let b="";for(p=0;p<64;p+=8){let v=parseInt(x.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),b=b+v}return b.toLowerCase()},bC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EC(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const SC=new RegExp("^-?(0*)\\d{1,10}$"),wC=-2147483648,CC=2147483647,V_=function(s){if(SC.test(s)){const t=Number(s);if(t>=wC&&t<=CC)return t}return null},ja=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw xt("Exception was thrown by user callback.",i),t},Math.floor(0))}},TC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vr=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class NC{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,en(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class AC{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(t)}}class Fo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Fo.OWNER="owner";const xf="5",Ey="v",Sy="s",wy="r",Cy="f",Ty=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ny="ls",Ay="p",Bh="ac",Ry="websocket",Oy="long_polling";class Dy{constructor(t,i,r,o,c=!1,d="",m=!1,p=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function RC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function My(s,t,i){P(typeof t=="string","typeof type must == string"),P(typeof i=="object","typeof params must == object");let r;if(t===Ry)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Oy)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);RC(s)&&(i.ns=s.namespace);const o=[];return pt(i,(c,d)=>{o.push(c+"="+d)}),r+o.join("&")}class OC{constructor(){this.counters_={}}incrementCounter(t,i=1){Tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return OS(this.counters_)}}const bh={},xh={};function Ef(s){const t=s.toString();return bh[t]||(bh[t]=new OC),bh[t]}function DC(s,t){const i=s.toString();return xh[i]||(xh[i]=t()),xh[i]}class MC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&ja(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const q_="start",IC="close",jC="pLPCommand",kC="pRTLPCB",Iy="id",jy="pw",ky="ser",LC="cb",UC="seg",zC="ts",HC="d",BC="dframe",Ly=1870,Uy=30,PC=Ly-Uy,VC=25e3,qC=3e4;class ha{constructor(t,i,r,o,c,d,m){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hl(t),this.stats_=Ef(i),this.urlFn=p=>(this.appCheckToken&&(p[Bh]=this.appCheckToken),My(i,Oy,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new MC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qC)),vC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sf((...c)=>{const[d,m,p,g,x]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===q_)this.id=m,this.password=p;else if(d===IC)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[q_]="t",r[ky]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[LC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ey]=xf,this.transportSessionId&&(r[Sy]=this.transportSessionId),this.lastSessionId&&(r[Ny]=this.lastSessionId),this.applicationId&&(r[Ay]=this.applicationId),this.appCheckToken&&(r[Bh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ty.test(location.hostname)&&(r[wy]=Cy);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ha.forceAllow_=!0}static forceDisallow(){ha.forceDisallow_=!0}static isAvailable(){return ha.forceAllow_?!0:!ha.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bC()&&!xC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=nt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ny(i),o=by(r,PC);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[BC]="t",r[Iy]=t,r[jy]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=nt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Sf{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pC(),window[jC+this.uniqueCallbackIdentifier]=t,window[kC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Sf.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){mt("frame writing exception"),m.stack&&mt(m.stack),mt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Iy]=this.myID,t[jy]=this.myPW,t[ky]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uy+r.length<=Ly;){const d=this.pendingSegs.shift();r=r+"&"+UC+o+"="+d.seg+"&"+zC+o+"="+d.ts+"&"+HC+o+"="+d.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(VC)),c=()=>{clearTimeout(o),r()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{mt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const GC=16384,YC=45e3;let tc=null;typeof MozWebSocket<"u"?tc=MozWebSocket:typeof WebSocket<"u"&&(tc=WebSocket);class on{constructor(t,i,r,o,c,d,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hl(this.connId),this.stats_=Ef(i),this.connURL=on.connectionURL_(i,d,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,c){const d={};return d[Ey]=xf,typeof location<"u"&&location.hostname&&Ty.test(location.hostname)&&(d[wy]=Cy),i&&(d[Sy]=i),r&&(d[Ny]=r),o&&(d[Bh]=o),c&&(d[Ay]=c),My(t,Ry,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let r;qS(),this.mySock=new tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&tc!==null&&!on.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Qr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=nt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=by(i,GC);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;class Xr{static get ALL_TRANSPORTS(){return[ha,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=on&&on.isAvailable();let r=i&&!on.previouslyFailed();if(t.webSocketOnly&&(i||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[on];else{const o=this.transports_=[];for(const c of Xr.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Xr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xr.globalTransportInitialized_=!1;const FC=6e4,KC=5e3,QC=10*1024,WC=100*1024,Eh="t",G_="d",XC="s",Y_="r",ZC="e",F_="o",K_="a",Q_="n",W_="p",$C="h";class JC{constructor(t,i,r,o,c,d,m,p,g,x){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hl("c:"+this.id+":"),this.transportManager_=new Xr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Vr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Eh in t){const i=t[Eh];i===K_?this.upgradeIfSecondaryHealthy_():i===Y_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===F_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=jr("t",t),r=jr("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:W_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:K_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Q_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=jr("t",t),r=jr("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=jr(Eh,t);if(G_ in t){const r=t[G_];if(i===$C){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Q_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===XC?this.onConnectionShutdown_(r):i===Y_?this.onReset_(r):i===ZC?Hh("Server Error: "+r):i===F_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),xf!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Vr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:W_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zy{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class Hy{constructor(t){this.allowedEvents_=t,this.listeners_={},P(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(t){P(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class nc extends Hy{static getInstance(){return new nc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return P(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const X_=32,Z_=768;class De{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ye(){return new De("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Pi(s){return s.pieces_.length-s.pieceNum_}function ke(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new De(s.pieces_,t)}function wf(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function eT(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Zr(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function By(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new De(t,0)}function Ge(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof De)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new De(i,0)}function he(s){return s.pieceNum_>=s.pieces_.length}function bt(s,t){const i=le(s),r=le(t);if(i===null)return t;if(i===r)return bt(ke(s),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function tT(s,t){const i=Zr(s,0),r=Zr(t,0);for(let o=0;o<i.length&&o<r.length;o++){const c=ws(i[o],r[o]);if(c!==0)return c}return i.length===r.length?0:i.length<r.length?-1:1}function Cf(s,t){if(Pi(s)!==Pi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function tn(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(Pi(s)>Pi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class nT{constructor(t,i){this.errorPrefix_=i,this.parts_=Zr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sc(this.parts_[r]);Py(this)}}function iT(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Sc(t),Py(s)}function sT(s){const t=s.parts_.pop();s.byteLength_-=Sc(t),s.parts_.length>0&&(s.byteLength_-=1)}function Py(s){if(s.byteLength_>Z_)throw new Error(s.errorPrefix_+"has a key path longer than "+Z_+" bytes ("+s.byteLength_+").");if(s.parts_.length>X_)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+X_+") or object contains a cycle "+ps(s))}function ps(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Tf extends Hy{static getInstance(){return new Tf}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return P(t==="visible","Unknown event type: "+t),[this.visible_]}}const kr=1e3,aT=300*1e3,$_=30*1e3,rT=1.3,lT=3e4,oT="server_kill",J_=3;class Xn extends zy{constructor(t,i,r,o,c,d,m,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Xn.nextPersistentConnectionId_++,this.log_=hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kr,this.maxReconnectDelay_=aT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&nc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(nt(c)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new cl,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,o){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},d="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,m=>{const p=m.d,g=m.s;Xn.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Tn(t,"w")){const r=ya(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||XS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=WS(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},d="n";o&&(c.q=r,c.t=o),this.sendRequest(d,c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,c){this.initConnection_();const d={p:i,d:r};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+nt(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Hh("Unrecognized action received from server: "+nt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lT&&(this.reconnectDelay_=kr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Xn.nextConnectionId_++,c=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,r())},g=function(b){P(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:p,sendRequest:g};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,v]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);d?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=v&&v.token,m=new JC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,E=>{xt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(oT)},c))}catch(b){this.log_("Failed to get token: "+b),d||(this.repoInfo_.nodeAdmin&&xt(b),p())}}}interrupt(t){mt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){mt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mh(this.interruptReasons_)&&(this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(c=>bf(c)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new De(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){mt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=J_&&(this.reconnectDelay_=$_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){mt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=J_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+_y.replace(/\./g,"-")]=1,pf()?t["framework.cordova"]=1:cy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=nc.getInstance().currentlyOnline();return Mh(this.interruptReasons_)&&t}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;class oe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new oe(t,i)}}class Cc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new oe(Ea,t),o=new oe(Ea,i);return this.compare(r,o)!==0}minPost(){return oe.MIN}}let Po;class Vy extends Cc{static get __EMPTY_NODE(){return Po}static set __EMPTY_NODE(t){Po=t}compare(t,i){return ws(t.name,i.name)}isDefinedOn(t){throw Oa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(ys,Po)}makePost(t,i){return P(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,Po)}toString(){return".key"}}const pa=new Vy;class Vo{constructor(t,i,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?r(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class lt{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??lt.RED,this.left=o??Dt.EMPTY_NODE,this.right=c??Dt.EMPTY_NODE}copy(t,i,r,o,c){return new lt(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class cT{copy(t,i,r,o,c){return this}insert(t,i,r){return new lt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(t,i=Dt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Dt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(t){return new Dt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Vo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Vo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Vo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Vo(this.root_,null,this.comparator_,!0,t)}}Dt.EMPTY_NODE=new cT;function uT(s,t){return ws(s.name,t.name)}function Nf(s,t){return ws(s,t)}let Ph;function dT(s){Ph=s}const qy=function(s){return typeof s=="number"?"number:"+xy(s):"string:"+s},Gy=function(s){if(s.isLeafNode()){const t=s.val();P(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Tn(t,".sv"),"Priority must be a string or number.")}else P(s===Ph||s.isEmpty(),"priority of unexpected type.");P(s===Ph||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ev;class rt{static set __childrenNodeConstructor(t){ev=t}static get __childrenNodeConstructor(){return ev}constructor(t,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Gy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new rt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return he(t)?this:le(t)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=le(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Pi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+qy(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=xy(this.value_):t+=this.value_,this.lazyHash_=yy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===rt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof rt.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(i),c=rt.VALUE_TYPE_ORDER.indexOf(r);return P(o>=0,"Unknown leaf type: "+i),P(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Yy,Fy;function hT(s){Yy=s}function fT(s){Fy=s}class mT extends Cc{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),c=r.compareTo(o);return c===0?ws(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(ys,new rt("[PRIORITY-POST]",Fy))}makePost(t,i){const r=Yy(t);return new oe(i,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ye=new mT;const pT=Math.log(2);class gT{constructor(t){const i=c=>parseInt(Math.log(c)/pT,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ic=function(s,t,i,r){s.sort(t);const o=function(p,g){const x=g-p;let b,v;if(x===0)return null;if(x===1)return b=s[p],v=i?i(b):b,new lt(v,b.node,lt.BLACK,null,null);{const E=parseInt(x/2,10)+p,A=o(p,E),L=o(E+1,g);return b=s[E],v=i?i(b):b,new lt(v,b.node,lt.BLACK,A,L)}},c=function(p){let g=null,x=null,b=s.length;const v=function(A,L){const I=b-A,V=b;b-=A;const B=o(I+1,V),Y=s[I],ge=i?i(Y):Y;E(new lt(ge,Y.node,L,null,B))},E=function(A){g?(g.left=A,g=A):(x=A,g=A)};for(let A=0;A<p.count;++A){const L=p.nextBitIsOne(),I=Math.pow(2,p.count-(A+1));L?v(I,lt.BLACK):(v(I,lt.BLACK),v(I,lt.RED))}return x},d=new gT(s.length),m=c(d);return new Dt(r||t,m)};let Sh;const da={};class Fn{static get Default(){return P(da&&Ye,"ChildrenNode.ts has not been loaded"),Sh=Sh||new Fn({".priority":da},{".priority":Ye}),Sh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ya(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Dt?i:null}hasIndex(t){return Tn(this.indexSet_,t.toString())}addIndex(t,i){P(t!==pa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=i.getIterator(oe.Wrap);let d=c.getNext();for(;d;)o=o||t.isDefinedOn(d.node),r.push(d),d=c.getNext();let m;o?m=ic(r,t.getCompare()):m=da;const p=t.toString(),g={...this.indexSet_};g[p]=t;const x={...this.indexes_};return x[p]=m,new Fn(x,g)}addToIndexes(t,i){const r=ec(this.indexes_,(o,c)=>{const d=ya(this.indexSet_,c);if(P(d,"Missing index implementation for "+c),o===da)if(d.isDefinedOn(t.node)){const m=[],p=i.getIterator(oe.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&m.push(g),g=p.getNext();return m.push(t),ic(m,d.getCompare())}else return da;else{const m=i.get(t.name);let p=o;return m&&(p=p.remove(new oe(t.name,m))),p.insert(t,t.node)}});return new Fn(r,this.indexSet_)}removeFromIndexes(t,i){const r=ec(this.indexes_,o=>{if(o===da)return o;{const c=i.get(t.name);return c?o.remove(new oe(t.name,c)):o}});return new Fn(r,this.indexSet_)}}let Lr;class ee{static get EMPTY_NODE(){return Lr||(Lr=new ee(new Dt(Nf),null,Fn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Gy(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lr}updatePriority(t){return this.children_.isEmpty()?this:new ee(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Lr:i}}getChild(t){const i=le(t);return i===null?this:this.getImmediateChild(i).getChild(ke(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(P(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new oe(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?Lr:this.priorityNode_;return new ee(o,d,c)}}updateChild(t,i){const r=le(t);if(r===null)return i;{P(le(t)!==".priority"||Pi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ke(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Ye,(d,m)=>{i[d]=m.val(t),r++,c&&ee.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!t&&c&&o<2*r){const d=[];for(const m in i)d[m]=i[m];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+qy(this.getPriority().val())+":"),this.forEachChild(Ye,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":yy(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new oe(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oe(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,oe.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fl?-1:0}withIndex(t){if(t===pa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===pa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ye),o=i.getIterator(Ye);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===pa?null:this.indexMap_.get(t.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _T extends ee{constructor(){super(new Dt(Nf),ee.EMPTY_NODE,Fn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ee.EMPTY_NODE}isEmpty(){return!1}}const fl=new _T;Object.defineProperties(oe,{MIN:{value:new oe(Ea,ee.EMPTY_NODE)},MAX:{value:new oe(ys,fl)}});Vy.__EMPTY_NODE=ee.EMPTY_NODE;rt.__childrenNodeConstructor=ee;dT(fl);fT(fl);const vT=!0;function tt(s,t=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),P(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new rt(i,tt(t))}if(!(s instanceof Array)&&vT){const i=[];let r=!1;if(pt(s,(d,m)=>{if(d.substring(0,1)!=="."){const p=tt(m);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new oe(d,p)))}}),i.length===0)return ee.EMPTY_NODE;const c=ic(i,uT,d=>d.name,Nf);if(r){const d=ic(i,Ye.getCompare());return new ee(c,tt(t),new Fn({".priority":d},{".priority":Ye}))}else return new ee(c,tt(t),Fn.Default)}else{let i=ee.EMPTY_NODE;return pt(s,(r,o)=>{if(Tn(s,r)&&r.substring(0,1)!=="."){const c=tt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(r,c))}}),i.updatePriority(tt(t))}}hT(tt);class yT extends Cc{constructor(t){super(),this.indexPath_=t,P(!he(t)&&le(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),c=r.compareTo(o);return c===0?ws(t.name,i.name):c}makePost(t,i){const r=tt(t),o=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(i,o)}maxPost(){const t=ee.EMPTY_NODE.updateChild(this.indexPath_,fl);return new oe(ys,t)}toString(){return Zr(this.indexPath_,0).join("/")}}class bT extends Cc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ws(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,i){const r=tt(t);return new oe(i,r)}toString(){return".value"}}const xT=new bT;function Ky(s){return{type:"value",snapshotNode:s}}function Sa(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function $r(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Jr(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function ET(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Af{constructor(t){this.index_=t}updateChild(t,i,r,o,c,d){P(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?t.hasChild(i)?d.trackChildChange($r(i,m)):P(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Sa(i,r)):d.trackChildChange(Jr(i,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ye,(o,c)=>{i.hasChild(o)||r.trackChildChange($r(o,c))}),i.isLeafNode()||i.forEachChild(Ye,(o,c)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(c)||r.trackChildChange(Jr(o,c,d))}else r.trackChildChange(Sa(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class el{constructor(t){this.indexedFilter_=new Af(t.getIndex()),this.index_=t.getIndex(),this.startPost_=el.getStartPost_(t),this.endPost_=el.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,c,d){return this.matches(new oe(i,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,c,d)}updateFullNode(t,i,r){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const c=this;return i.forEachChild(Ye,(d,m)=>{c.matches(new oe(d,m))||(o=o.updateImmediateChild(d,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class ST{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new el(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,c,d){return this.rangedFilter_.matches(new oe(i,r))||(r=ee.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,c,d):this.fullLimitUpdateChild_(t,i,r,c,d)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const m=c.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,c){let d;if(this.reverse_){const b=this.index_.getCompare();d=(v,E)=>b(E,v)}else d=this.index_.getCompare();const m=t;P(m.numChildren()===this.limit_,"");const p=new oe(i,r),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),x=this.rangedFilter_.matches(p);if(m.hasChild(i)){const b=m.getImmediateChild(i);let v=o.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===i||m.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:d(v,p);if(x&&!r.isEmpty()&&E>=0)return c?.trackChildChange(Jr(i,r,b)),m.updateImmediateChild(i,r);{c?.trackChildChange($r(i,b));const L=m.updateImmediateChild(i,ee.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(c?.trackChildChange(Sa(v.name,v.node)),L.updateImmediateChild(v.name,v.node)):L}}else return r.isEmpty()?t:x&&d(g,p)>=0?(c!=null&&(c.trackChildChange($r(g.name,g.node)),c.trackChildChange(Sa(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(g.name,ee.EMPTY_NODE)):t}}class Rf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ea}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const t=new Rf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wT(s){return s.loadsAllData()?new Af(s.getIndex()):s.hasLimit()?new ST(s):new el(s)}function tv(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Ye?i="$priority":s.index_===xT?i="$value":s.index_===pa?i="$key":(P(s.index_ instanceof yT,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=nt(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=nt(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+nt(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=nt(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+nt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function nv(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Ye&&(t.i=s.index_.toString()),t}class sc extends zy{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(P(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=hl("p:rest:"),this.listens_={}}listen(t,i,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=sc.getListenId_(t,r),m={};this.listens_[d]=m;const p=tv(t._queryParams);this.restRequest_(c+".json",p,(g,x)=>{let b=x;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(c,b,!1,r),ya(this.listens_,d)===m){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",o(v,null)}})}unlisten(t,i){const r=sc.getListenId_(t,i);delete this.listens_[r]}get(t){const i=tv(t._queryParams),r=t._path.toString(),o=new cl;return this.restRequest_(r+".json",i,(c,d)=>{let m=d;c===404&&(m=null,c=null),c===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ma(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Qr(m.responseText)}catch{xt("Failed to parse JSON response for "+d+": "+m.responseText)}r(null,p)}else m.status!==401&&m.status!==404&&xt("Got unsuccessful REST response for "+d+" Status: "+m.status),r(m.status);r=null}},m.open("GET",d,!0),m.send()})}}class CT{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function ac(){return{value:null,children:new Map}}function Qy(s,t,i){if(he(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=le(t);s.children.has(r)||s.children.set(r,ac());const o=s.children.get(r);t=ke(t),Qy(o,t,i)}}function Vh(s,t,i){s.value!==null?i(t,s.value):TT(s,(r,o)=>{const c=new De(t.toString()+"/"+r);Vh(o,c,i)})}function TT(s,t){s.children.forEach((i,r)=>{t(r,i)})}class NT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&pt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}const iv=10*1e3,AT=30*1e3,RT=300*1e3;class OT{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new NT(t);const r=iv+(AT-iv)*Math.random();Vr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;pt(t,(o,c)=>{c>0&&Tn(this.statsToReport_,o)&&(i[o]=c,r=!0)}),r&&this.server_.reportStats(i),Vr(this.reportStats_.bind(this),Math.floor(Math.random()*2*RT))}}var cn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Of(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Df(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class rc{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source=Of()}operationForChild(t){if(he(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new De(t));return new rc(ye(),i,this.revert)}}else return P(le(this.path)===t,"operationForChild called for unrelated child."),new rc(ke(this.path),this.affectedTree,this.revert)}}class tl{constructor(t,i){this.source=t,this.path=i,this.type=cn.LISTEN_COMPLETE}operationForChild(t){return he(this.path)?new tl(this.source,ye()):new tl(this.source,ke(this.path))}}class bs{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=cn.OVERWRITE}operationForChild(t){return he(this.path)?new bs(this.source,ye(),this.snap.getImmediateChild(t)):new bs(this.source,ke(this.path),this.snap)}}class wa{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=cn.MERGE}operationForChild(t){if(he(this.path)){const i=this.children.subtree(new De(t));return i.isEmpty()?null:i.value?new bs(this.source,ye(),i.value):new wa(this.source,ye(),i)}else return P(le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new wa(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vi{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(he(t))return this.isFullyInitialized()&&!this.filtered_;const i=le(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class DT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function MT(s,t,i,r){const o=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(ET(d.childName,d.snapshotNode))}),Ur(s,o,"child_removed",t,r,i),Ur(s,o,"child_added",t,r,i),Ur(s,o,"child_moved",c,r,i),Ur(s,o,"child_changed",t,r,i),Ur(s,o,"value",t,r,i),o}function Ur(s,t,i,r,o,c){const d=r.filter(m=>m.type===i);d.sort((m,p)=>jT(s,m,p)),d.forEach(m=>{const p=IT(s,m,c);o.forEach(g=>{g.respondsTo(m.type)&&t.push(g.createEvent(p,s.query_))})})}function IT(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function jT(s,t,i){if(t.childName==null||i.childName==null)throw Oa("Should only compare child_ events.");const r=new oe(t.childName,t.snapshotNode),o=new oe(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function Tc(s,t){return{eventCache:s,serverCache:t}}function qr(s,t,i,r){return Tc(new Vi(t,i,r),s.serverCache)}function Wy(s,t,i,r){return Tc(s.eventCache,new Vi(t,i,r))}function lc(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function xs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let wh;const kT=()=>(wh||(wh=new Dt(yC)),wh);class je{static fromObject(t){let i=new je(null);return pt(t,(r,o)=>{i=i.set(new De(r),o)}),i}constructor(t,i=kT()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(he(t))return null;{const r=le(t),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(ke(t),i);return c!=null?{path:Ge(new De(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(he(t))return this;{const i=le(t),r=this.children.get(i);return r!==null?r.subtree(ke(t)):new je(null)}}set(t,i){if(he(t))return new je(i,this.children);{const r=le(t),c=(this.children.get(r)||new je(null)).set(ke(t),i),d=this.children.insert(r,c);return new je(this.value,d)}}remove(t){if(he(t))return this.children.isEmpty()?new je(null):new je(null,this.children);{const i=le(t),r=this.children.get(i);if(r){const o=r.remove(ke(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new je(null):new je(this.value,c)}else return this}}get(t){if(he(t))return this.value;{const i=le(t),r=this.children.get(i);return r?r.get(ke(t)):null}}setTree(t,i){if(he(t))return i;{const r=le(t),c=(this.children.get(r)||new je(null)).setTree(ke(t),i);let d;return c.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,c),new je(this.value,d)}}fold(t){return this.fold_(ye(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Ge(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,ye(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(he(t))return null;{const c=le(t),d=this.children.get(c);return d?d.findOnPath_(ke(t),Ge(i,c),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ye(),i)}foreachOnPath_(t,i,r){if(he(t))return this;{this.value&&r(i,this.value);const o=le(t),c=this.children.get(o);return c?c.foreachOnPath_(ke(t),Ge(i,o),r):new je(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Ge(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class dn{constructor(t){this.writeTree_=t}static empty(){return new dn(new je(null))}}function Gr(s,t,i){if(he(t))return new dn(new je(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let c=r.value;const d=bt(o,t);return c=c.updateChild(d,i),new dn(s.writeTree_.set(o,c))}else{const o=new je(i),c=s.writeTree_.setTree(t,o);return new dn(c)}}}function qh(s,t,i){let r=s;return pt(i,(o,c)=>{r=Gr(r,Ge(t,o),c)}),r}function sv(s,t){if(he(t))return dn.empty();{const i=s.writeTree_.setTree(t,new je(null));return new dn(i)}}function Gh(s,t){return Cs(s,t)!=null}function Cs(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(bt(i.path,t)):null}function av(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ye,(r,o)=>{t.push(new oe(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new oe(r,o.value))}),t}function Hi(s,t){if(he(t))return s;{const i=Cs(s,t);return i!=null?new dn(new je(i)):new dn(s.writeTree_.subtree(t))}}function Yh(s){return s.writeTree_.isEmpty()}function Ca(s,t){return Xy(ye(),s.writeTree_,t)}function Xy(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(P(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):i=Xy(Ge(s,o),c,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Ge(s,".priority"),r)),i}}function Nc(s,t){return eb(t,s)}function LT(s,t,i,r,o){P(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Gr(s.visibleWrites,t,i)),s.lastWriteId=r}function UT(s,t,i,r){P(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:r,visible:!0}),s.visibleWrites=qh(s.visibleWrites,t,i),s.lastWriteId=r}function zT(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function HT(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);P(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,c=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const m=s.allWrites[d];m.visible&&(d>=i&&BT(m,r.path)?o=!1:tn(r.path,m.path)&&(c=!0)),d--}if(o){if(c)return PT(s),!0;if(r.snap)s.visibleWrites=sv(s.visibleWrites,r.path);else{const m=r.children;pt(m,p=>{s.visibleWrites=sv(s.visibleWrites,Ge(r.path,p))})}return!0}else return!1}function BT(s,t){if(s.snap)return tn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&tn(Ge(s.path,i),t))return!0;return!1}function PT(s){s.visibleWrites=Zy(s.allWrites,VT,ye()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function VT(s){return s.visible}function Zy(s,t,i){let r=dn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const d=c.path;let m;if(c.snap)tn(i,d)?(m=bt(i,d),r=Gr(r,m,c.snap)):tn(d,i)&&(m=bt(d,i),r=Gr(r,ye(),c.snap.getChild(m)));else if(c.children){if(tn(i,d))m=bt(i,d),r=qh(r,m,c.children);else if(tn(d,i))if(m=bt(d,i),he(m))r=qh(r,ye(),c.children);else{const p=ya(c.children,le(m));if(p){const g=p.getChild(ke(m));r=Gr(r,ye(),g)}}}else throw Oa("WriteRecord should have .snap or .children")}}return r}function $y(s,t,i,r,o){if(!r&&!o){const c=Cs(s.visibleWrites,t);if(c!=null)return c;{const d=Hi(s.visibleWrites,t);if(Yh(d))return i;if(i==null&&!Gh(d,ye()))return null;{const m=i||ee.EMPTY_NODE;return Ca(d,m)}}}else{const c=Hi(s.visibleWrites,t);if(!o&&Yh(c))return i;if(!o&&i==null&&!Gh(c,ye()))return null;{const d=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(tn(g.path,t)||tn(t,g.path))},m=Zy(s.allWrites,d,t),p=i||ee.EMPTY_NODE;return Ca(m,p)}}}function qT(s,t,i){let r=ee.EMPTY_NODE;const o=Cs(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ye,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(i){const c=Hi(s.visibleWrites,t);return i.forEachChild(Ye,(d,m)=>{const p=Ca(Hi(c,new De(d)),m);r=r.updateImmediateChild(d,p)}),av(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const c=Hi(s.visibleWrites,t);return av(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function GT(s,t,i,r,o){P(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Ge(t,i);if(Gh(s.visibleWrites,c))return null;{const d=Hi(s.visibleWrites,c);return Yh(d)?o.getChild(i):Ca(d,o.getChild(i))}}function YT(s,t,i,r){const o=Ge(t,i),c=Cs(s.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(i)){const d=Hi(s.visibleWrites,o);return Ca(d,r.getNode().getImmediateChild(i))}else return null}function FT(s,t){return Cs(s.visibleWrites,t)}function KT(s,t,i,r,o,c,d){let m;const p=Hi(s.visibleWrites,t),g=Cs(p,ye());if(g!=null)m=g;else if(i!=null)m=Ca(p,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const x=[],b=d.getCompare(),v=c?m.getReverseIteratorFrom(r,d):m.getIteratorFrom(r,d);let E=v.getNext();for(;E&&x.length<o;)b(E,r)!==0&&x.push(E),E=v.getNext();return x}else return[]}function QT(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function oc(s,t,i,r){return $y(s.writeTree,s.treePath,t,i,r)}function If(s,t){return qT(s.writeTree,s.treePath,t)}function rv(s,t,i,r){return GT(s.writeTree,s.treePath,t,i,r)}function cc(s,t){return FT(s.writeTree,Ge(s.treePath,t))}function WT(s,t,i,r,o,c){return KT(s.writeTree,s.treePath,t,i,r,o,c)}function jf(s,t,i){return YT(s.writeTree,s.treePath,t,i)}function Jy(s,t){return eb(Ge(s.treePath,t),s.writeTree)}function eb(s,t){return{treePath:s,writeTree:t}}class XT{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;P(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(r,Jr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(r,$r(r,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(r,Sa(r,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(r,Jr(r,t.snapshotNode,o.oldSnap));else throw Oa("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class ZT{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const tb=new ZT;class kf{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jf(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xs(this.viewCache_),c=WT(this.writes_,o,i,1,r,t);return c.length===0?null:c[0]}}function $T(s){return{filter:s}}function JT(s,t){P(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),P(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function e5(s,t,i,r,o){const c=new XT;let d,m;if(i.type===cn.OVERWRITE){const g=i;g.source.fromUser?d=Fh(s,t,g.path,g.snap,r,o,c):(P(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered()&&!he(g.path),d=uc(s,t,g.path,g.snap,r,o,m,c))}else if(i.type===cn.MERGE){const g=i;g.source.fromUser?d=n5(s,t,g.path,g.children,r,o,c):(P(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered(),d=Kh(s,t,g.path,g.children,r,o,m,c))}else if(i.type===cn.ACK_USER_WRITE){const g=i;g.revert?d=a5(s,t,g.path,r,o,c):d=i5(s,t,g.path,g.affectedTree,r,o,c)}else if(i.type===cn.LISTEN_COMPLETE)d=s5(s,t,i.path,r,c);else throw Oa("Unknown operation type: "+i.type);const p=c.getChanges();return t5(t,d,p),{viewCache:d,changes:p}}function t5(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=lc(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&i.push(Ky(lc(t)))}}function nb(s,t,i,r,o,c){const d=t.eventCache;if(cc(r,i)!=null)return t;{let m,p;if(he(i))if(P(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=xs(t),x=g instanceof ee?g:ee.EMPTY_NODE,b=If(r,x);m=s.filter.updateFullNode(t.eventCache.getNode(),b,c)}else{const g=oc(r,xs(t));m=s.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=le(i);if(g===".priority"){P(Pi(i)===1,"Can't have a priority with additional path components");const x=d.getNode();p=t.serverCache.getNode();const b=rv(r,i,x,p);b!=null?m=s.filter.updatePriority(x,b):m=d.getNode()}else{const x=ke(i);let b;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const v=rv(r,i,d.getNode(),p);v!=null?b=d.getNode().getImmediateChild(g).updateChild(x,v):b=d.getNode().getImmediateChild(g)}else b=jf(r,g,t.serverCache);b!=null?m=s.filter.updateChild(d.getNode(),g,b,x,o,c):m=d.getNode()}}return qr(t,m,d.isFullyInitialized()||he(i),s.filter.filtersNodes())}}function uc(s,t,i,r,o,c,d,m){const p=t.serverCache;let g;const x=d?s.filter:s.filter.getIndexedFilter();if(he(i))g=x.updateFullNode(p.getNode(),r,null);else if(x.filtersNodes()&&!p.isFiltered()){const E=p.getNode().updateChild(i,r);g=x.updateFullNode(p.getNode(),E,null)}else{const E=le(i);if(!p.isCompleteForPath(i)&&Pi(i)>1)return t;const A=ke(i),I=p.getNode().getImmediateChild(E).updateChild(A,r);E===".priority"?g=x.updatePriority(p.getNode(),I):g=x.updateChild(p.getNode(),E,I,A,tb,null)}const b=Wy(t,g,p.isFullyInitialized()||he(i),x.filtersNodes()),v=new kf(o,b,c);return nb(s,b,i,o,v,m)}function Fh(s,t,i,r,o,c,d){const m=t.eventCache;let p,g;const x=new kf(o,t,c);if(he(i))g=s.filter.updateFullNode(t.eventCache.getNode(),r,d),p=qr(t,g,!0,s.filter.filtersNodes());else{const b=le(i);if(b===".priority")g=s.filter.updatePriority(t.eventCache.getNode(),r),p=qr(t,g,m.isFullyInitialized(),m.isFiltered());else{const v=ke(i),E=m.getNode().getImmediateChild(b);let A;if(he(v))A=r;else{const L=x.getCompleteChild(b);L!=null?wf(v)===".priority"&&L.getChild(By(v)).isEmpty()?A=L:A=L.updateChild(v,r):A=ee.EMPTY_NODE}if(E.equals(A))p=t;else{const L=s.filter.updateChild(m.getNode(),b,A,v,x,d);p=qr(t,L,m.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function lv(s,t){return s.eventCache.isCompleteForChild(t)}function n5(s,t,i,r,o,c,d){let m=t;return r.foreach((p,g)=>{const x=Ge(i,p);lv(t,le(x))&&(m=Fh(s,m,x,g,o,c,d))}),r.foreach((p,g)=>{const x=Ge(i,p);lv(t,le(x))||(m=Fh(s,m,x,g,o,c,d))}),m}function ov(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Kh(s,t,i,r,o,c,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;he(i)?g=r:g=new je(null).setTree(i,r);const x=t.serverCache.getNode();return g.children.inorderTraversal((b,v)=>{if(x.hasChild(b)){const E=t.serverCache.getNode().getImmediateChild(b),A=ov(s,E,v);p=uc(s,p,new De(b),A,o,c,d,m)}}),g.children.inorderTraversal((b,v)=>{const E=!t.serverCache.isCompleteForChild(b)&&v.value===null;if(!x.hasChild(b)&&!E){const A=t.serverCache.getNode().getImmediateChild(b),L=ov(s,A,v);p=uc(s,p,new De(b),L,o,c,d,m)}}),p}function i5(s,t,i,r,o,c,d){if(cc(o,i)!=null)return t;const m=t.serverCache.isFiltered(),p=t.serverCache;if(r.value!=null){if(he(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return uc(s,t,i,p.getNode().getChild(i),o,c,m,d);if(he(i)){let g=new je(null);return p.getNode().forEachChild(pa,(x,b)=>{g=g.set(new De(x),b)}),Kh(s,t,i,g,o,c,m,d)}else return t}else{let g=new je(null);return r.foreach((x,b)=>{const v=Ge(i,x);p.isCompleteForPath(v)&&(g=g.set(x,p.getNode().getChild(v)))}),Kh(s,t,i,g,o,c,m,d)}}function s5(s,t,i,r,o){const c=t.serverCache,d=Wy(t,c.getNode(),c.isFullyInitialized()||he(i),c.isFiltered());return nb(s,d,i,r,tb,o)}function a5(s,t,i,r,o,c){let d;if(cc(r,i)!=null)return t;{const m=new kf(r,t,o),p=t.eventCache.getNode();let g;if(he(i)||le(i)===".priority"){let x;if(t.serverCache.isFullyInitialized())x=oc(r,xs(t));else{const b=t.serverCache.getNode();P(b instanceof ee,"serverChildren would be complete if leaf node"),x=If(r,b)}x=x,g=s.filter.updateFullNode(p,x,c)}else{const x=le(i);let b=jf(r,x,t.serverCache);b==null&&t.serverCache.isCompleteForChild(x)&&(b=p.getImmediateChild(x)),b!=null?g=s.filter.updateChild(p,x,b,ke(i),m,c):t.eventCache.getNode().hasChild(x)?g=s.filter.updateChild(p,x,ee.EMPTY_NODE,ke(i),m,c):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=oc(r,xs(t)),d.isLeafNode()&&(g=s.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||cc(r,ye())!=null,qr(t,g,d,s.filter.filtersNodes())}}class r5{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Af(r.getIndex()),c=wT(r);this.processor_=$T(c);const d=i.serverCache,m=i.eventCache,p=o.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),g=c.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),x=new Vi(p,d.isFullyInitialized(),o.filtersNodes()),b=new Vi(g,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=Tc(b,x),this.eventGenerator_=new DT(this.query_)}get query(){return this.query_}}function l5(s){return s.viewCache_.serverCache.getNode()}function o5(s){return lc(s.viewCache_)}function c5(s,t){const i=xs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!he(t)&&!i.getImmediateChild(le(t)).isEmpty())?i.getChild(t):null}function cv(s){return s.eventRegistrations_.length===0}function u5(s,t){s.eventRegistrations_.push(t)}function uv(s,t,i){const r=[];if(i){P(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(i,o);d&&r.push(d)})}if(t){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const d=s.eventRegistrations_[c];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function dv(s,t,i,r){t.type===cn.MERGE&&t.source.queryId!==null&&(P(xs(s.viewCache_),"We should always have a full cache before handling merges"),P(lc(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=e5(s.processor_,o,t,i,r);return JT(s.processor_,c.viewCache),P(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,ib(s,c.changes,c.viewCache.eventCache.getNode(),null)}function d5(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ye,(c,d)=>{r.push(Sa(c,d))}),i.isFullyInitialized()&&r.push(Ky(i.getNode())),ib(s,r,i.getNode(),t)}function ib(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return MT(s.eventGenerator_,t,i,o)}let dc;class sb{constructor(){this.views=new Map}}function h5(s){P(!dc,"__referenceConstructor has already been defined"),dc=s}function f5(){return P(dc,"Reference.ts has not been loaded"),dc}function m5(s){return s.views.size===0}function Lf(s,t,i,r){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return P(c!=null,"SyncTree gave us an op for an invalid query."),dv(c,t,i,r)}else{let c=[];for(const d of s.views.values())c=c.concat(dv(d,t,i,r));return c}}function ab(s,t,i,r,o){const c=t._queryIdentifier,d=s.views.get(c);if(!d){let m=oc(i,o?r:null),p=!1;m?p=!0:r instanceof ee?(m=If(i,r),p=!1):(m=ee.EMPTY_NODE,p=!1);const g=Tc(new Vi(m,p,!1),new Vi(r,o,!1));return new r5(t,g)}return d}function p5(s,t,i,r,o,c){const d=ab(s,t,r,o,c);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,d),u5(d,i),d5(d,i)}function g5(s,t,i,r){const o=t._queryIdentifier,c=[];let d=[];const m=qi(s);if(o==="default")for(const[p,g]of s.views.entries())d=d.concat(uv(g,i,r)),cv(g)&&(s.views.delete(p),g.query._queryParams.loadsAllData()||c.push(g.query));else{const p=s.views.get(o);p&&(d=d.concat(uv(p,i,r)),cv(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return m&&!qi(s)&&c.push(new(f5())(t._repo,t._path)),{removed:c,events:d}}function rb(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Bi(s,t){let i=null;for(const r of s.views.values())i=i||c5(r,t);return i}function lb(s,t){if(t._queryParams.loadsAllData())return Ac(s);{const r=t._queryIdentifier;return s.views.get(r)}}function ob(s,t){return lb(s,t)!=null}function qi(s){return Ac(s)!=null}function Ac(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hc;function _5(s){P(!hc,"__referenceConstructor has already been defined"),hc=s}function v5(){return P(hc,"Reference.ts has not been loaded"),hc}let y5=1;class hv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new je(null),this.pendingWriteTree_=QT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cb(s,t,i,r,o){return LT(s.pendingWriteTree_,t,i,r,o),o?ka(s,new bs(Of(),t,i)):[]}function b5(s,t,i,r){UT(s.pendingWriteTree_,t,i,r);const o=je.fromObject(i);return ka(s,new wa(Of(),t,o))}function ki(s,t,i=!1){const r=zT(s.pendingWriteTree_,t);if(HT(s.pendingWriteTree_,t)){let c=new je(null);return r.snap!=null?c=c.set(ye(),!0):pt(r.children,d=>{c=c.set(new De(d),!0)}),ka(s,new rc(r.path,c,i))}else return[]}function ml(s,t,i){return ka(s,new bs(Df(),t,i))}function x5(s,t,i){const r=je.fromObject(i);return ka(s,new wa(Df(),t,r))}function E5(s,t){return ka(s,new tl(Df(),t))}function S5(s,t,i){const r=zf(s,i);if(r){const o=Hf(r),c=o.path,d=o.queryId,m=bt(c,t),p=new tl(Mf(d),m);return Bf(s,c,p)}else return[]}function fc(s,t,i,r,o=!1){const c=t._path,d=s.syncPointTree_.get(c);let m=[];if(d&&(t._queryIdentifier==="default"||ob(d,t))){const p=g5(d,t,i,r);m5(d)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const g=p.removed;if(m=p.events,!o){const x=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(c,(v,E)=>qi(E));if(x&&!b){const v=s.syncPointTree_.subtree(c);if(!v.isEmpty()){const E=T5(v);for(let A=0;A<E.length;++A){const L=E[A],I=L.query,V=fb(s,L);s.listenProvider_.startListening(Yr(I),nl(s,I),V.hashFn,V.onComplete)}}}!b&&g.length>0&&!r&&(x?s.listenProvider_.stopListening(Yr(t),null):g.forEach(v=>{const E=s.queryToTagMap.get(Rc(v));s.listenProvider_.stopListening(Yr(v),E)}))}N5(s,g)}return m}function ub(s,t,i,r){const o=zf(s,r);if(o!=null){const c=Hf(o),d=c.path,m=c.queryId,p=bt(d,t),g=new bs(Mf(m),p,i);return Bf(s,d,g)}else return[]}function w5(s,t,i,r){const o=zf(s,r);if(o){const c=Hf(o),d=c.path,m=c.queryId,p=bt(d,t),g=je.fromObject(i),x=new wa(Mf(m),p,g);return Bf(s,d,x)}else return[]}function Qh(s,t,i,r=!1){const o=t._path;let c=null,d=!1;s.syncPointTree_.foreachOnPath(o,(v,E)=>{const A=bt(v,o);c=c||Bi(E,A),d=d||qi(E)});let m=s.syncPointTree_.get(o);m?(d=d||qi(m),c=c||Bi(m,ye())):(m=new sb,s.syncPointTree_=s.syncPointTree_.set(o,m));let p;c!=null?p=!0:(p=!1,c=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((E,A)=>{const L=Bi(A,ye());L&&(c=c.updateImmediateChild(E,L))}));const g=ob(m,t);if(!g&&!t._queryParams.loadsAllData()){const v=Rc(t);P(!s.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=A5();s.queryToTagMap.set(v,E),s.tagToQueryMap.set(E,v)}const x=Nc(s.pendingWriteTree_,o);let b=p5(m,t,i,x,c,p);if(!g&&!d&&!r){const v=lb(m,t);b=b.concat(R5(s,t,v))}return b}function Uf(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(d,m)=>{const p=bt(d,t),g=Bi(m,p);if(g)return g});return $y(o,t,c,i,!0)}function C5(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(g,x)=>{const b=bt(g,i);r=r||Bi(x,b)});let o=s.syncPointTree_.get(i);o?r=r||Bi(o,ye()):(o=new sb,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=r!=null,d=c?new Vi(r,!0,!1):null,m=Nc(s.pendingWriteTree_,t._path),p=ab(o,t,m,c?d.getNode():ee.EMPTY_NODE,c);return o5(p)}function ka(s,t){return db(t,s.syncPointTree_,null,Nc(s.pendingWriteTree_,ye()))}function db(s,t,i,r){if(he(s.path))return hb(s,t,i,r);{const o=t.get(ye());i==null&&o!=null&&(i=Bi(o,ye()));let c=[];const d=le(s.path),m=s.operationForChild(d),p=t.children.get(d);if(p&&m){const g=i?i.getImmediateChild(d):null,x=Jy(r,d);c=c.concat(db(m,p,g,x))}return o&&(c=c.concat(Lf(o,s,r,i))),c}}function hb(s,t,i,r){const o=t.get(ye());i==null&&o!=null&&(i=Bi(o,ye()));let c=[];return t.children.inorderTraversal((d,m)=>{const p=i?i.getImmediateChild(d):null,g=Jy(r,d),x=s.operationForChild(d);x&&(c=c.concat(hb(x,m,p,g)))}),o&&(c=c.concat(Lf(o,s,r,i))),c}function fb(s,t){const i=t.query,r=nl(s,i);return{hashFn:()=>(l5(t)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?S5(s,i._path,r):E5(s,i._path);{const c=EC(o,i);return fc(s,i,null,c)}}}}function nl(s,t){const i=Rc(t);return s.queryToTagMap.get(i)}function Rc(s){return s._path.toString()+"$"+s._queryIdentifier}function zf(s,t){return s.tagToQueryMap.get(t)}function Hf(s){const t=s.indexOf("$");return P(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new De(s.substr(0,t))}}function Bf(s,t,i){const r=s.syncPointTree_.get(t);P(r,"Missing sync point for query tag that we're tracking");const o=Nc(s.pendingWriteTree_,t);return Lf(r,i,o,null)}function T5(s){return s.fold((t,i,r)=>{if(i&&qi(i))return[Ac(i)];{let o=[];return i&&(o=rb(i)),pt(r,(c,d)=>{o=o.concat(d)}),o}})}function Yr(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(v5())(s._repo,s._path):s}function N5(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=Rc(r),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function A5(){return y5++}function R5(s,t,i){const r=t._path,o=nl(s,t),c=fb(s,i),d=s.listenProvider_.startListening(Yr(t),o,c.hashFn,c.onComplete),m=s.syncPointTree_.subtree(r);if(o)P(!qi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,x,b)=>{if(!he(g)&&x&&qi(x))return[Ac(x).query];{let v=[];return x&&(v=v.concat(rb(x).map(E=>E.query))),pt(b,(E,A)=>{v=v.concat(A)}),v}});for(let g=0;g<p.length;++g){const x=p[g];s.listenProvider_.stopListening(Yr(x),nl(s,x))}}return d}class Pf{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Pf(i)}node(){return this.node_}}class Vf{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ge(this.path_,t);return new Vf(this.syncTree_,i)}node(){return Uf(this.syncTree_,this.path_)}}const O5=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},fv=function(s,t,i){if(!s||typeof s!="object")return s;if(P(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return D5(s[".sv"],t,i);if(typeof s[".sv"]=="object")return M5(s[".sv"],t);P(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},D5=function(s,t,i){if(s==="timestamp")return i.timestamp;P(!1,"Unexpected server value: "+s)},M5=function(s,t,i){s.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const o=t.node();if(P(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const d=o.getValue();return typeof d!="number"?r:d+r},mb=function(s,t,i,r){return qf(t,new Vf(i,s),r)},pb=function(s,t,i){return qf(s,new Pf(t),i)};function qf(s,t,i){const r=s.getPriority().val(),o=fv(r,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const d=s,m=fv(d.getValue(),t,i);return m!==d.getValue()||o!==d.getPriority().val()?new rt(m,tt(o)):s}else{const d=s;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new rt(o))),d.forEachChild(Ye,(m,p)=>{const g=qf(p,t.getImmediateChild(m),i);g!==p&&(c=c.updateImmediateChild(m,g))}),c}}class Gf{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Yf(s,t){let i=t instanceof De?t:new De(t),r=s,o=le(i);for(;o!==null;){const c=ya(r.node.children,o)||{children:{},childCount:0};r=new Gf(o,r,c),i=ke(i),o=le(i)}return r}function La(s){return s.node.value}function gb(s,t){s.node.value=t,Wh(s)}function _b(s){return s.node.childCount>0}function I5(s){return La(s)===void 0&&!_b(s)}function Oc(s,t){pt(s.node.children,(i,r)=>{t(new Gf(i,s,r))})}function vb(s,t,i,r){i&&t(s),Oc(s,o=>{vb(o,t,!0)})}function j5(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function pl(s){return new De(s.parent===null?s.name:pl(s.parent)+"/"+s.name)}function Wh(s){s.parent!==null&&k5(s.parent,s.name,s)}function k5(s,t,i){const r=I5(i),o=Tn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,Wh(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Wh(s))}const L5=/[\[\].#$\/\u0000-\u001F\u007F]/,U5=/[\[\].#$\u0000-\u001F\u007F]/,Ch=10*1024*1024,Ff=function(s){return typeof s=="string"&&s.length!==0&&!L5.test(s)},yb=function(s){return typeof s=="string"&&s.length!==0&&!U5.test(s)},z5=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),yb(s)},H5=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!yf(s)||s&&typeof s=="object"&&Tn(s,".sv")},bb=function(s,t,i,r){r&&t===void 0||Dc(Ec(s,"value"),t,i)},Dc=function(s,t,i){const r=i instanceof De?new nT(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+ps(r));if(typeof t=="function")throw new Error(s+"contains a function "+ps(r)+" with contents = "+t.toString());if(yf(t))throw new Error(s+"contains "+t.toString()+" "+ps(r));if(typeof t=="string"&&t.length>Ch/3&&Sc(t)>Ch)throw new Error(s+"contains a string greater than "+Ch+" utf8 bytes "+ps(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(pt(t,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!Ff(d)))throw new Error(s+" contains an invalid key ("+d+") "+ps(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iT(r,d),Dc(s,m,r),sT(r)}),o&&c)throw new Error(s+' contains ".value" child '+ps(r)+" in addition to actual children.")}},B5=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const c=Zr(r);for(let d=0;d<c.length;d++)if(!(c[d]===".priority"&&d===c.length-1)){if(!Ff(c[d]))throw new Error(s+"contains an invalid key ("+c[d]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(tT);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&tn(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},P5=function(s,t,i,r){const o=Ec(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];pt(t,(d,m)=>{const p=new De(d);if(Dc(o,m,Ge(i,p)),wf(p)===".priority"&&!H5(m))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(p)}),B5(o,c)},xb=function(s,t,i,r){if(!yb(i))throw new Error(Ec(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},V5=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xb(s,t,i)},Kf=function(s,t){if(le(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},q5=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Ff(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!z5(i))throw new Error(Ec(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class G5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mc(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();i!==null&&!Cf(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function Eb(s,t,i){Mc(s,i),Sb(s,r=>Cf(r,t))}function nn(s,t,i){Mc(s,i),Sb(s,r=>tn(r,t)||tn(t,r))}function Sb(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const c=o.path;t(c)?(Y5(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function Y5(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Pr&&mt("event: "+i.toString()),ja(r)}}}const F5="repo_interrupt",K5=25;class Q5{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new G5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new Gf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W5(s,t,i){if(s.stats_=Ef(s.repoInfo_),s.forceRestClient_||TC())s.server_=new sc(s.repoInfo_,(r,o,c,d)=>{mv(s,r,o,c,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>pv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Xn(s.repoInfo_,t,(r,o,c,d)=>{mv(s,r,o,c,d)},r=>{pv(s,r)},r=>{X5(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=DC(s.repoInfo_,()=>new OT(s.stats_,s.server_)),s.infoData_=new CT,s.infoSyncTree_=new hv({startListening:(r,o,c,d)=>{let m=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(m=ml(s.infoSyncTree_,r._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),Qf(s,"connected",!1),s.serverSyncTree_=new hv({startListening:(r,o,c,d)=>(s.server_.listen(r,c,o,(m,p)=>{const g=d(m,p);nn(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function wb(s){const i=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ic(s){return O5({timestamp:wb(s)})}function mv(s,t,i,r,o){s.dataUpdateCount++;const c=new De(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(r){const p=ec(i,g=>tt(g));d=w5(s.serverSyncTree_,c,p,o)}else{const p=tt(i);d=ub(s.serverSyncTree_,c,p,o)}else if(r){const p=ec(i,g=>tt(g));d=x5(s.serverSyncTree_,c,p)}else{const p=tt(i);d=ml(s.serverSyncTree_,c,p)}let m=c;d.length>0&&(m=Ta(s,c)),nn(s.eventQueue_,m,d)}function pv(s,t){Qf(s,"connected",t),t===!1&&eN(s)}function X5(s,t){pt(t,(i,r)=>{Qf(s,i,r)})}function Qf(s,t,i){const r=new De("/.info/"+t),o=tt(i);s.infoData_.updateSnapshot(r,o);const c=ml(s.infoSyncTree_,r,o);nn(s.eventQueue_,r,c)}function Wf(s){return s.nextWriteId_++}function Z5(s,t,i){const r=C5(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const c=tt(o).withIndex(t._queryParams.getIndex());Qh(s.serverSyncTree_,t,i,!0);let d;if(t._queryParams.loadsAllData())d=ml(s.serverSyncTree_,t._path,c);else{const m=nl(s.serverSyncTree_,t);d=ub(s.serverSyncTree_,t._path,c,m)}return nn(s.eventQueue_,t._path,d),fc(s.serverSyncTree_,t,i,null,!0),c},o=>(gl(s,"get for query "+nt(t)+" failed: "+o),Promise.reject(new Error(o))))}function $5(s,t,i,r,o){gl(s,"set",{path:t.toString(),value:i,priority:r});const c=Ic(s),d=tt(i,r),m=Uf(s.serverSyncTree_,t),p=pb(d,m,c),g=Wf(s),x=cb(s.serverSyncTree_,t,p,g,!0);Mc(s.eventQueue_,x),s.server_.put(t.toString(),d.val(!0),(v,E)=>{const A=v==="ok";A||xt("set at "+t+" failed: "+v);const L=ki(s.serverSyncTree_,g,!A);nn(s.eventQueue_,t,L),Xh(s,o,v,E)});const b=Zf(s,t);Ta(s,b),nn(s.eventQueue_,b,[])}function J5(s,t,i,r){gl(s,"update",{path:t.toString(),value:i});let o=!0;const c=Ic(s),d={};if(pt(i,(m,p)=>{o=!1,d[m]=mb(Ge(t,m),tt(p),s.serverSyncTree_,c)}),o)mt("update() called with empty data.  Don't do anything."),Xh(s,r,"ok",void 0);else{const m=Wf(s),p=b5(s.serverSyncTree_,t,d,m);Mc(s.eventQueue_,p),s.server_.merge(t.toString(),i,(g,x)=>{const b=g==="ok";b||xt("update at "+t+" failed: "+g);const v=ki(s.serverSyncTree_,m,!b),E=v.length>0?Ta(s,t):t;nn(s.eventQueue_,E,v),Xh(s,r,g,x)}),pt(i,g=>{const x=Zf(s,Ge(t,g));Ta(s,x)}),nn(s.eventQueue_,t,[])}}function eN(s){gl(s,"onDisconnectEvents");const t=Ic(s),i=ac();Vh(s.onDisconnect_,ye(),(o,c)=>{const d=mb(o,c,s.serverSyncTree_,t);Qy(i,o,d)});let r=[];Vh(i,ye(),(o,c)=>{r=r.concat(ml(s.serverSyncTree_,o,c));const d=Zf(s,o);Ta(s,d)}),s.onDisconnect_=ac(),nn(s.eventQueue_,ye(),r)}function tN(s,t,i){let r;le(t._path)===".info"?r=Qh(s.infoSyncTree_,t,i):r=Qh(s.serverSyncTree_,t,i),Eb(s.eventQueue_,t._path,r)}function nN(s,t,i){let r;le(t._path)===".info"?r=fc(s.infoSyncTree_,t,i):r=fc(s.serverSyncTree_,t,i),Eb(s.eventQueue_,t._path,r)}function iN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(F5)}function gl(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),mt(i,...t)}function Xh(s,t,i,r){t&&ja(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;r&&(c+=": "+r);const d=new Error(c);d.code=o,t(d)}})}function Cb(s,t,i){return Uf(s.serverSyncTree_,t,i)||ee.EMPTY_NODE}function Xf(s,t=s.transactionQueueTree_){if(t||jc(s,t),La(t)){const i=Nb(s,t);P(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&sN(s,pl(t),i)}else _b(t)&&Oc(t,i=>{Xf(s,i)})}function sN(s,t,i){const r=i.map(g=>g.currentWriteId),o=Cb(s,t,r);let c=o;const d=o.hash();for(let g=0;g<i.length;g++){const x=i[g];P(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const b=bt(t,x.path);c=c.updateChild(b,x.currentOutputSnapshotRaw)}const m=c.val(!0),p=t;s.server_.put(p.toString(),m,g=>{gl(s,"transaction put response",{path:p.toString(),status:g});let x=[];if(g==="ok"){const b=[];for(let v=0;v<i.length;v++)i[v].status=2,x=x.concat(ki(s.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&b.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();jc(s,Yf(s.transactionQueueTree_,t)),Xf(s,s.transactionQueueTree_),nn(s.eventQueue_,t,x);for(let v=0;v<b.length;v++)ja(b[v])}else{if(g==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{xt("transaction at "+p.toString()+" failed: "+g);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=g}Ta(s,t)}},d)}function Ta(s,t){const i=Tb(s,t),r=pl(i),o=Nb(s,i);return aN(s,o,r),r}function aN(s,t,i){if(t.length===0)return;const r=[];let o=[];const d=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const p=t[m],g=bt(i,p.path);let x=!1,b;if(P(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)x=!0,b=p.abortReason,o=o.concat(ki(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=K5)x=!0,b="maxretry",o=o.concat(ki(s.serverSyncTree_,p.currentWriteId,!0));else{const v=Cb(s,p.path,d);p.currentInputSnapshot=v;const E=t[m].update(v.val());if(E!==void 0){Dc("transaction failed: Data returned ",E,p.path);let A=tt(E);typeof E=="object"&&E!=null&&Tn(E,".priority")||(A=A.updatePriority(v.getPriority()));const I=p.currentWriteId,V=Ic(s),B=pb(A,v,V);p.currentOutputSnapshotRaw=A,p.currentOutputSnapshotResolved=B,p.currentWriteId=Wf(s),d.splice(d.indexOf(I),1),o=o.concat(cb(s.serverSyncTree_,p.path,B,p.currentWriteId,p.applyLocally)),o=o.concat(ki(s.serverSyncTree_,I,!0))}else x=!0,b="nodata",o=o.concat(ki(s.serverSyncTree_,p.currentWriteId,!0))}nn(s.eventQueue_,i,o),o=[],x&&(t[m].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(b==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(b),!1,null))))}jc(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)ja(r[m]);Xf(s,s.transactionQueueTree_)}function Tb(s,t){let i,r=s.transactionQueueTree_;for(i=le(t);i!==null&&La(r)===void 0;)r=Yf(r,i),t=ke(t),i=le(t);return r}function Nb(s,t){const i=[];return Ab(s,t,i),i.sort((r,o)=>r.order-o.order),i}function Ab(s,t,i){const r=La(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Oc(t,o=>{Ab(s,o,i)})}function jc(s,t){const i=La(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,gb(t,i.length>0?i:void 0)}Oc(t,r=>{jc(s,r)})}function Zf(s,t){const i=pl(Tb(s,t)),r=Yf(s.transactionQueueTree_,t);return j5(r,o=>{Th(s,o)}),Th(s,r),vb(r,o=>{Th(s,o)}),i}function Th(s,t){const i=La(t);if(i){const r=[];let o=[],c=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(P(c===d-1,"All SENT items should be at beginning of queue."),c=d,i[d].status=3,i[d].abortReason="set"):(P(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(ki(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&r.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?gb(t,void 0):i.length=c+1,nn(s.eventQueue_,pl(t),o);for(let d=0;d<r.length;d++)ja(r[d])}}function rN(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function lN(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${i}' in query '${s}'`)}return t}const gv=function(s,t){const i=oN(s),r=i.namespace;i.domain==="firebase.com"&&ei(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||_C();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Dy(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new De(i.pathString)}},oN=function(s){let t="",i="",r="",o="",c="",d=!0,m="https",p=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(m=s.substring(0,g-1),s=s.substring(g+2));let x=s.indexOf("/");x===-1&&(x=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),t=s.substring(0,Math.min(x,b)),x<b&&(o=rN(s.substring(x,b)));const v=lN(s.substring(Math.min(s.length,b)));g=t.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const E=t.slice(0,g);if(E.toLowerCase()==="localhost")i="localhost";else if(E.split(".").length<=2)i=E;else{const A=t.indexOf(".");r=t.substring(0,A).toLowerCase(),i=t.substring(A+1),c=r}"ns"in v&&(c=v.ns)}return{host:t,port:p,domain:i,subdomain:r,secure:d,scheme:m,pathString:o,namespace:c}};const _v="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cN=(function(){let s=0;const t=[];return function(i){const r=i===s;s=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=_v.charAt(i%64),i=Math.floor(i/64);P(i===0,"Cannot push at time == 0");let d=c.join("");if(r){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=_v.charAt(t[o]);return P(d.length===20,"nextPushId: Length should be 20."),d}})();class uN{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class dN{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Rb{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class $f{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return he(this._path)?null:wf(this._path)}get ref(){return new ni(this._repo,this._path)}get _queryIdentifier(){const t=nv(this._queryParams),i=bf(t);return i==="{}"?"default":i}get _queryObject(){return nv(this._queryParams)}isEqual(t){if(t=_t(t),!(t instanceof $f))return!1;const i=this._repo===t._repo,r=Cf(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+eT(this._path)}}class ni extends $f{constructor(t,i){super(t,i,new Rf,!1)}get parent(){const t=By(this._path);return t===null?null:new ni(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class il{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new De(t),r=sl(this.ref,t);return new il(this._node.getChild(i),r,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new il(o,sl(this.ref,r),Ye)))}hasChild(t){const i=new De(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xe(s,t){return s=_t(s),s._checkNotDeleted("ref"),t!==void 0?sl(s._root,t):s._root}function sl(s,t){return s=_t(s),le(s._path)===null?V5("child","path",t):xb("child","path",t),new ni(s._repo,Ge(s._path,t))}function Jf(s,t){s=_t(s),Kf("push",s._path),bb("push",t,s._path,!0);const i=wb(s._repo),r=cN(i),o=sl(s,r),c=sl(s,r);let d;return t!=null?d=kc(c,t).then(()=>c):d=Promise.resolve(c),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function em(s){return Kf("remove",s._path),kc(s,null)}function kc(s,t){s=_t(s),Kf("set",s._path),bb("set",t,s._path,!1);const i=new cl;return $5(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function Lc(s,t){P5("update",t,s._path);const i=new cl;return J5(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function hN(s){s=_t(s);const t=new Rb(()=>{}),i=new Uc(t);return Z5(s._repo,s,i).then(r=>new il(r,new ni(s._repo,s._path),s._queryParams.getIndex()))}class Uc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new uN("value",this,new il(t.snapshotNode,new ni(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new dN(this,t,i):null}matches(t){return t instanceof Uc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fN(s,t,i,r,o){const c=new Rb(i,void 0),d=new Uc(c);return tN(s._repo,s,d),()=>nN(s._repo,s,d)}function ot(s,t,i,r){return fN(s,"value",t)}h5(ni);_5(ni);const mN="FIREBASE_DATABASE_EMULATOR_HOST",Zh={};let pN=!1;function gN(s,t,i,r){const o=t.lastIndexOf(":"),c=t.substring(0,o),d=Da(c);s.repoInfo_=new Dy(t,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function _N(s,t,i,r,o){let c=r||s.options.databaseURL;c===void 0&&(s.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=gv(c,o),m=d.repoInfo,p;typeof process<"u"&&z_&&(p=z_[mN]),p?(c=`http://${p}?ns=${m.namespace}`,d=gv(c,o),m=d.repoInfo):d.repoInfo.secure;const g=new AC(s.name,s.options,t);q5("Invalid Firebase Database URL",d),he(d.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");const x=yN(m,s,g,new NC(s,i));return new bN(x,s)}function vN(s,t){const i=Zh[t];(!i||i[s.key]!==s)&&ei(`Database ${t}(${s.repoInfo_}) has already been deleted.`),iN(s),delete i[s.key]}function yN(s,t,i,r){let o=Zh[t.name];o||(o={},Zh[t.name]=o);let c=o[s.toURLString()];return c&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Q5(s,pN,i,r),o[s.toURLString()]=c,c}class bN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ni(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ei("Cannot call "+t+" on a deleted database.")}}function xN(s=fy(),t){const i=vf(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=LS("database");r&&EN(i,...r)}return i}function EN(s,t,i,r={}){s=_t(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&_s(r,c.repoInfo_.emulatorOptions))return;ei("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Fo(Fo.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:US(r.mockUserToken,s.app.options.projectId);d=new Fo(m)}Da(t)&&(ly(t),oy("Database",!0)),gN(c,o,r,d)}function SN(s){dC(Ia),xa(new vs("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return _N(r,o,c,i)},"PUBLIC").setMultipleInstances(!0)),zi(H_,B_,s),zi(H_,B_,"esm2020")}Xn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Xn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};SN();function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=Ob,Db=new ul("auth","Firebase",Ob());const mc=new gf("@firebase/auth");function CN(s,...t){mc.logLevel<=Oe.WARN&&mc.warn(`Auth (${Ia}): ${s}`,...t)}function Ko(s,...t){mc.logLevel<=Oe.ERROR&&mc.error(`Auth (${Ia}): ${s}`,...t)}function fn(s,...t){throw tm(s,...t)}function wn(s,...t){return tm(s,...t)}function Mb(s,t,i){const r={...wN(),[t]:i};return new ul("auth","Firebase",r).create(t,{appName:s.name})}function Zn(s){return Mb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Db.create(s,...t)}function J(s,t,...i){if(!s)throw tm(t,...i)}function Kn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ko(t),new Error(t)}function ti(s,t){s||Kn(t)}function $h(){return typeof self<"u"&&self.location?.href||""}function TN(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TN()||PS()||"connection"in navigator)?navigator.onLine:!0}function AN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _l{constructor(t,i){this.shortDelay=t,this.longDelay=i,ti(i>t,"Short delay should be less than long delay!"),this.isMobile=pf()||cy()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nm(s,t){ti(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Ib{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ON=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DN=new _l(3e4,6e4);function Fi(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ki(s,t,i,r,o={}){return jb(s,o,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const m=Ma({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:p,...c};return BS()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Da(s.emulatorConfig.host)&&(g.credentials="include"),Ib.fetch()(await kb(s,s.config.apiHost,i,m),g)})}async function jb(s,t,i){s._canInitEmulator=!1;const r={...RN,...t};try{const o=new IN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qo(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qo(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw qo(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw qo(s,"user-disabled",d);const x=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mb(s,x,g);fn(s,x)}}catch(o){if(o instanceof Yi)throw o;fn(s,"network-request-failed",{message:String(o)})}}async function vl(s,t,i,r,o={}){const c=await Ki(s,t,i,r,o);return"mfaPendingCredential"in c&&fn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function kb(s,t,i,r){const o=`${t}${i}?${r}`,c=s,d=c.config.emulator?nm(s.config,o):`${s.config.apiScheme}://${o}`;return ON.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function MN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),DN.get())})}}function qo(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=wn(s,t,r);return o.customData._tokenResponse=i,o}function yv(s){return s!==void 0&&s.enterprise!==void 0}class jN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return MN(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kN(s,t){return Ki(s,"GET","/v2/recaptchaConfig",Fi(s,t))}async function LN(s,t){return Ki(s,"POST","/v1/accounts:delete",t)}async function pc(s,t){return Ki(s,"POST","/v1/accounts:lookup",t)}function Fr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UN(s,t=!1){const i=_t(s),r=await i.getIdToken(t),o=im(r);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Fr(Nh(o.auth_time)),issuedAtTime:Fr(Nh(o.iat)),expirationTime:Fr(Nh(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nh(s){return Number(s)*1e3}function im(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jo(i);return o?JSON.parse(o):(Ko("Failed to decode base64 JWT payload"),null)}catch(o){return Ko("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(s){const t=im(s);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function al(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Yi&&zN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function zN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gc(s){const t=s.auth,i=await s.getIdToken(),r=await al(s,pc(t,{idToken:i}));J(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Lb(o.providerUserInfo):[],d=PN(s.providerData,c),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,g=m?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jh(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,x)}async function BN(s){const t=_t(s);await gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PN(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Lb(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VN(s,t){const i=await jb(s,{},async()=>{const r=Ma({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await kb(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&Da(s.emulatorConfig.host)&&(p.credentials="include"),Ib.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qN(s,t){return Ki(s,"POST","/v2/accounts:revokeToken",Fi(s,t))}class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=bv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await VN(t,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new ga;return r&&(J(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(J(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(J(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return Kn("not implemented")}}function Ri(s,t){J(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class un{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await al(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return UN(this,t)}reload(){return BN(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new un({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await gc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Zn(this.auth));const t=await this.getIdToken();return await al(this,LN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:E,providerData:A,stsTokenManager:L}=i;J(b&&L,t,"internal-error");const I=ga.fromJSON(this.name,L);J(typeof b=="string",t,"internal-error"),Ri(r,t.name),Ri(o,t.name),J(typeof v=="boolean",t,"internal-error"),J(typeof E=="boolean",t,"internal-error"),Ri(c,t.name),Ri(d,t.name),Ri(m,t.name),Ri(p,t.name),Ri(g,t.name),Ri(x,t.name);const V=new un({uid:b,auth:t,email:o,emailVerified:v,displayName:r,isAnonymous:E,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:I,createdAt:g,lastLoginAt:x});return A&&Array.isArray(A)&&(V.providerData=A.map(B=>({...B}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(t,i,r=!1){const o=new ga;o.updateFromServerResponse(i);const c=new un({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await gc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];J(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Lb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new ga;m.updateFromIdToken(r);const p=new un({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const xv=new Map;function Qn(s){ti(s instanceof Function,"Expected a class definition");let t=xv.get(s);return t?(ti(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,xv.set(s,t),t)}class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ub.type="NONE";const Ev=Ub;function Qo(s,t,i){return`firebase:${s}:${t}:${i}`}class _a{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qo(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await pc(this.auth,{idToken:t}).catch(()=>{});return i?un._fromGetAccountInfoResponse(this.auth,i,t):null}return un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new _a(Qn(Ev),t,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Qn(Ev);const d=Qo(r,t.config.apiKey,t.name);let m=null;for(const g of i)try{const x=await g._get(d);if(x){let b;if(typeof x=="string"){const v=await pc(t,{idToken:x}).catch(()=>{});if(!v)break;b=await un._fromGetAccountInfoResponse(t,v,x)}else b=un._fromJSON(t,x);g!==c&&(m=b),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new _a(c,t,r):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new _a(c,t,r))}}function Sv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qb(t))return"Blackberry";if(Gb(t))return"Webos";if(Hb(t))return"Safari";if((t.includes("chrome/")||Bb(t))&&!t.includes("edge/"))return"Chrome";if(Vb(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function zb(s=Et()){return/firefox\//i.test(s)}function Hb(s=Et()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bb(s=Et()){return/crios\//i.test(s)}function Pb(s=Et()){return/iemobile/i.test(s)}function Vb(s=Et()){return/android/i.test(s)}function qb(s=Et()){return/blackberry/i.test(s)}function Gb(s=Et()){return/webos/i.test(s)}function sm(s=Et()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GN(s=Et()){return sm(s)&&!!window.navigator?.standalone}function YN(){return VS()&&document.documentMode===10}function Yb(s=Et()){return sm(s)||Vb(s)||Gb(s)||qb(s)||/windows phone/i.test(s)||Pb(s)}function Fb(s,t=[]){let i;switch(s){case"Browser":i=Sv(Et());break;case"Worker":i=`${Sv(Et())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ia}/${r}`}class FN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,m)=>{try{const p=t(c);d(p)}catch(p){m(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function KN(s,t={}){return Ki(s,"GET","/v2/passwordPolicy",Fi(s,t))}const QN=6;class WN{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class XN{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new FN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Qn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await pc(this,{idToken:t}),r=await un._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(en(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(en(this.app))return Promise.reject(Zn(this));const i=t?_t(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return en(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await KN(this),i=new WN(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ul("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await qN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Qn(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[Qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,o);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ts(s){return _t(s)}class wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZN(s){zc=s}function Kb(s){return zc.loadJS(s)}function $N(){return zc.recaptchaEnterpriseScript}function JN(){return zc.gapiScript}function e3(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class t3{constructor(){this.enterprise=new n3}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class n3{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const i3="recaptcha-enterprise",Qb="NO_RECAPTCHA";class s3{constructor(t){this.type=i3,this.auth=Ts(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{kN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jN(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;yv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(g=>{d(g)}).catch(()=>{d(Qb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t3().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(m=>{if(!i&&yv(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$N();p.length!==0&&(p+=m),Kb(p).then(()=>{o(m,c,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function Cv(s,t,i,r=!1,o=!1){const c=new s3(s);let d;if(o)d=Qb;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ef(s,t,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Cv(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function a3(s,t){const i=vf(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_s(c,t??{}))return o;fn(o,"already-initialized")}return i.initialize({options:t})}function r3(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Qn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function l3(s,t,i){const r=Ts(s);J(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=Wb(t),{host:d,port:m}=o3(t),p=m===null?"":`:${m}`,g={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(_s(g,r.config.emulator)&&_s(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Da(d)?(ly(`${c}//${d}${p}`),oy("Auth",!0)):c3()}function Wb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function o3(s){const t=Wb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Tv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Tv(d)}}}function Tv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function c3(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class am{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Kn("not implemented")}_getIdTokenResponse(t){return Kn("not implemented")}_linkToIdToken(t,i){return Kn("not implemented")}_getReauthenticationResolver(t){return Kn("not implemented")}}async function u3(s,t){return Ki(s,"POST","/v1/accounts:signUp",t)}async function d3(s,t){return vl(s,"POST","/v1/accounts:signInWithPassword",Fi(s,t))}async function h3(s,t){return vl(s,"POST","/v1/accounts:signInWithEmailLink",Fi(s,t))}async function f3(s,t){return vl(s,"POST","/v1/accounts:signInWithEmailLink",Fi(s,t))}class rl extends am{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new rl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new rl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ef(t,i,"signInWithPassword",d3);case"emailLink":return h3(t,{email:this._email,oobCode:this._password});default:fn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ef(t,r,"signUpPassword",u3);case"emailLink":return f3(t,{idToken:i,email:this._email,oobCode:this._password});default:fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function va(s,t){return vl(s,"POST","/v1/accounts:signInWithIdp",Fi(s,t))}const m3="http://localhost";class Es extends am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Es(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return va(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,va(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,va(t,i)}buildRequest(){const t={requestUri:m3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ma(i)}return t}}function p3(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g3(s){const t=zr(Hr(s)).link,i=t?zr(Hr(t)).deep_link_id:null,r=zr(Hr(s)).deep_link_id;return(r?zr(Hr(r)).link:null)||r||i||t||s}class rm{constructor(t){const i=zr(Hr(t)),r=i.apiKey??null,o=i.oobCode??null,c=p3(i.mode??null);J(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=g3(t);try{return new rm(i)}catch{return null}}}class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(t,i){return rl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=rm.parseLink(i);return J(r,"argument-error"),rl._fromEmailAndCode(t,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class yl extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Di extends yl{constructor(){super("facebook.com")}static credential(t){return Es._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";class Mi extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Es._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Mi.credential(i,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";class Ii extends yl{constructor(){super("github.com")}static credential(t){return Es._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ii.credentialFromTaggedObject(t)}static credentialFromError(t){return Ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ii.credential(t.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";class ji extends yl{constructor(){super("twitter.com")}static credential(t,i){return Es._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ji.credential(i,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";async function _3(s,t){return vl(s,"POST","/v1/accounts:signUp",Fi(s,t))}class Ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const c=await un._fromIdTokenResponse(t,r,o),d=Nv(r);return new Ss({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Nv(r);return new Ss({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class _c extends Yi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new _c(t,i,r,o)}}function Zb(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?_c._fromErrorAndOperation(s,c,t,r):c})}async function v3(s,t,i=!1){const r=await al(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ss._forOperation(s,"link",r)}async function y3(s,t,i=!1){const{auth:r}=s;if(en(r.app))return Promise.reject(Zn(r));const o="reauthenticate";try{const c=await al(s,Zb(r,o,t,s),i);J(c.idToken,r,"internal-error");const d=im(c.idToken);J(d,r,"internal-error");const{sub:m}=d;return J(s.uid===m,r,"user-mismatch"),Ss._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),c}}async function $b(s,t,i=!1){if(en(s.app))return Promise.reject(Zn(s));const r="signIn",o=await Zb(s,r,t),c=await Ss._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function b3(s,t){return $b(Ts(s),t)}async function Jb(s){const t=Ts(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function e1(s,t,i){if(en(s.app))return Promise.reject(Zn(s));const r=Ts(s),d=await ef(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_3).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Jb(s),p}),m=await Ss._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function x3(s,t,i){return en(s.app)?Promise.reject(Zn(s)):b3(_t(s),Ua.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jb(s),r})}function E3(s,t,i,r){return _t(s).onIdTokenChanged(t,i,r)}function S3(s,t,i){return _t(s).beforeAuthStateChanged(t,i)}function w3(s,t,i,r){return _t(s).onAuthStateChanged(t,i,r)}function t1(s){return _t(s).signOut()}const vc="__sak";class n1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const C3=1e3,T3=10;class i1 extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);YN()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,T3):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},C3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}i1.type="LOCAL";const N3=i1;class s1 extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}s1.type="SESSION";const a1=s1;function A3(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new Hc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async g=>g(i.origin,c)),p=await A3(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];function lm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class R3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const g=lm("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const v=b;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(v.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Cn(){return window}function O3(s){Cn().location.href=s}function r1(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function D3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M3(){return navigator?.serviceWorker?.controller||null}function I3(){return r1()?self:null}const l1="firebaseLocalStorageDb",j3=1,yc="firebaseLocalStorage",o1="fbase_key";class bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Bc(s,t){return s.transaction([yc],t?"readwrite":"readonly").objectStore(yc)}function k3(){const s=indexedDB.deleteDatabase(l1);return new bl(s).toPromise()}function tf(){const s=indexedDB.open(l1,j3);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yc,{keyPath:o1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yc)?t(r):(r.close(),await k3(),t(await tf()))})})}async function Av(s,t,i){const r=Bc(s,!0).put({[o1]:t,value:i});return new bl(r).toPromise()}async function L3(s,t){const i=Bc(s,!1).get(t),r=await new bl(i).toPromise();return r===void 0?null:r.value}function Rv(s,t){const i=Bc(s,!0).delete(t);return new bl(i).toPromise()}const U3=800,z3=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>z3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(I3()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D3(),!this.activeServiceWorker)return;this.sender=new R3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tf();return await Av(t,vc,"1"),await Rv(t,vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Av(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>L3(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Bc(o,!1).getAll();return new bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const H3=c1;new _l(3e4,6e4);function B3(s,t){return t?Qn(t):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class om extends am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return va(t,this._buildIdpRequest())}_linkToIdToken(t,i){return va(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return va(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function P3(s){return $b(s.auth,new om(s),s.bypassAuthState)}function V3(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),y3(i,new om(s),s.bypassAuthState)}async function q3(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),v3(i,new om(s),s.bypassAuthState)}class u1{constructor(t,i,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return V3;default:fn(this.auth,"internal-error")}}resolve(t){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const G3=new _l(2e3,1e4);class fa extends u1{constructor(t,i,r,o,c){super(t,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const t=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,G3.get())};t()}}fa.currentPopupAction=null;const Y3="pendingRedirect",Wo=new Map;class F3 extends u1{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Wo.get(this.auth._key());if(!t){try{const r=await K3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Wo.set(this.auth._key(),t)}return this.bypassAuthState||Wo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K3(s,t){const i=X3(t),r=W3(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function Q3(s,t){Wo.set(s._key(),t)}function W3(s){return Qn(s._redirectPersistence)}function X3(s){return Qo(Y3,s.config.apiKey,s.name)}async function Z3(s,t,i=!1){if(en(s.app))return Promise.reject(Zn(s));const r=Ts(s),o=B3(r,t),d=await new F3(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const $3=600*1e3;class J3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!e6(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!d1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(t))}saveEventToCache(t){this.cachedEventUids.add(Ov(t)),this.lastProcessedEventTime=Date.now()}}function Ov(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function d1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function e6(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(s);default:return!1}}async function t6(s,t={}){return Ki(s,"GET","/v1/projects",t)}const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i6=/^https?/;async function s6(s){if(s.config.emulator)return;const{authorizedDomains:t}=await t6(s);for(const i of t)try{if(a6(i))return}catch{}fn(s,"unauthorized-domain")}function a6(s){const t=$h(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!i6.test(i))return!1;if(n6.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const r6=new _l(3e4,6e4);function Dv(){const s=Cn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function l6(s){return new Promise((t,i)=>{function r(){Dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dv(),i(wn(s,"network-request-failed"))},timeout:r6.get()})}if(Cn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Cn().gapi?.load)r();else{const o=e3("iframefcb");return Cn()[o]=()=>{gapi.load?r():i(wn(s,"network-request-failed"))},Kb(`${JN()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Xo=null,t})}let Xo=null;function o6(s){return Xo=Xo||l6(s),Xo}const c6=new _l(5e3,15e3),u6="__/auth/iframe",d6="emulator/auth/iframe",h6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m6(s){const t=s.config;J(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?nm(t,d6):`https://${s.config.authDomain}/${u6}`,r={apiKey:t.apiKey,appName:s.name,v:Ia},o=f6.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ma(r).slice(1)}`}async function p6(s){const t=await o6(s),i=Cn().gapi;return J(i,s,"internal-error"),t.open({where:document.body,url:m6(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h6,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=wn(s,"network-request-failed"),m=Cn().setTimeout(()=>{c(d)},c6.get());function p(){Cn().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(d)})}))}const g6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_6=500,v6=600,y6="_blank",b6="http://localhost";class Mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x6(s,t,i,r=_6,o=v6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...g6,width:r.toString(),height:o.toString(),top:c,left:d},g=Et().toLowerCase();i&&(m=Bb(g)?y6:i),zb(g)&&(t=t||b6,p.scrollbars="yes");const x=Object.entries(p).reduce((v,[E,A])=>`${v}${E}=${A},`,"");if(GN(g)&&m!=="_self")return E6(t||"",m),new Mv(null);const b=window.open(t||"",m,x);J(b,s,"popup-blocked");try{b.focus()}catch{}return new Mv(b)}function E6(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const S6="__/auth/handler",w6="emulator/auth/handler",C6=encodeURIComponent("fac");async function Iv(s,t,i,r,o,c){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ia,eventId:o};if(t instanceof Xb){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Mh(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[x,b]of Object.entries({}))d[x]=b}if(t instanceof yl){const x=t.getScopes().filter(b=>b!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const p=await s._getAppCheckToken(),g=p?`#${C6}=${encodeURIComponent(p)}`:"";return`${T6(s)}?${Ma(m).slice(1)}${g}`}function T6({config:s}){return s.emulator?nm(s,w6):`https://${s.authDomain}/${S6}`}const Ah="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=Z3,this._overrideRedirectResult=Q3}async _openPopup(t,i,r,o){ti(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Iv(t,i,r,$h(),o);return x6(t,c,lm())}async _openRedirect(t,i,r,o){await this._originValidation(t);const c=await Iv(t,i,r,$h(),o);return O3(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ti(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await p6(t),r=new J3(t);return i.register("authEvent",o=>(J(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ah,{type:Ah},o=>{const c=o?.[0]?.[Ah];c!==void 0&&i(!!c),fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=s6(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Yb()||Hb()||sm()}}const A6=N6;var jv="@firebase/auth",kv="1.12.0";class R6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(s){xa(new vs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;J(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(s)},g=new XN(r,o,c,p);return r3(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),xa(new vs("auth-internal",t=>{const i=Ts(t.getProvider("auth").getImmediate());return(r=>new R6(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(jv,kv,O6(s)),zi(jv,kv,"esm2020")}const M6=300,I6=ry("authIdTokenMaxAge")||M6;let Lv=null;const j6=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>I6)return;const o=i?.token;Lv!==o&&(Lv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cm(s=fy()){const t=vf(s,"auth");if(t.isInitialized())return t.getImmediate();const i=a3(s,{popupRedirectResolver:A6,persistence:[H3,N3,a1]}),r=ry("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=j6(c.toString());S3(i,d,()=>d(i.currentUser)),E3(i,m=>d(m))}}const o=sy("auth");return o&&l3(i,`http://${o}`),i}function k6(){return document.getElementsByTagName("head")?.[0]??document}ZN({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const c=wn("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",k6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");const Pc={apiKey:"AIzaSyDib-AzfVlINhKd-EiiFhZq1PQwPCMMrBw",authDomain:"beablevn-learning.firebaseapp.com",databaseURL:"https://bavn-learning-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beablevn-learning",storageBucket:"beablevn-learning.firebasestorage.app",messagingSenderId:"929043730121",appId:"1:929043730121:web:3f95e39b6bfe93d2f2c718",measurementId:"G-8TL2GYB1L8"},h1=wc(Pc),Ee=xN(h1,Pc.databaseURL),Gi=cm(h1),f1=P2.createContext();function ii(){return T.useContext(f1)}function L6({children:s}){const[t,i]=T.useState(null),[r,o]=T.useState(null),[c,d]=T.useState(null),[m,p]=T.useState(!0);T.useEffect(()=>(console.log("--- BT U THEO DI AUTH (PHIN BN CHNG TREO) ---"),w3(Gi,async b=>{if(b){console.log(" 1. Auth OK:",b.email);const v=xe(Ee,`users/${b.uid}`);try{const E=new Promise((L,I)=>setTimeout(()=>I(new Error("Ht thi gian ch Database (3s)")),3e3)),A=await Promise.race([hN(v),E]);if(A.exists()){const L=A.val();console.log(" 2. Ly c Role:",L.role),o(L.role),d(L)}else console.warn(" Khng tm thy d liu user trong DB.")}catch(E){console.error(" LI KT NI DB (B qua  vo App):",E.message)}i(b)}else console.log("zzz Cha ng nhp"),i(null),o(null),d(null);p(!1)})),[]);const g={currentUser:t,userRole:r,userData:c,loading:m};return f.jsx(f1.Provider,{value:g,children:m?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsx("div",{className:"text-blue-600 font-semibold animate-pulse",children:"ang khi ng h thng..."})}):s})}const Oi={Staff:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),Student:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.516 50.552 50.552 0 00-2.658.813m-15.482 0A50.55 50.55 0 0112 13.489a50.55 50.55 0 016.744-3.342"})}),Data:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),Logout:()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})},U6=()=>{const{currentUser:s,userData:t}=ii(),i=pn();if(!s)return f.jsx(Sn,{to:"/login"});const r=d=>i.pathname.includes(d),o=d=>`
    flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200 group text-sm font-medium
    ${r(d)?"bg-blue-50 text-[#003366]":"text-slate-500 hover:bg-slate-50 hover:text-[#003366]"}
  `,c=d=>`
    flex flex-col items-center justify-center w-full h-full space-y-1
    ${r(d)?"text-[#003366]":"text-slate-400"}
  `;return f.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-slate-50 font-sans text-slate-800",children:[f.jsxs("aside",{className:"hidden md:flex w-64 border-r border-slate-200 flex-col fixed h-full z-50 bg-white",children:[f.jsx("div",{className:"p-6 flex flex-col gap-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-8 h-8 object-contain"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-[#003366] font-bold text-base",children:"BAVN Admin"}),f.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold",children:"System Manager"})]})]})}),f.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[f.jsxs(Be,{to:"/admin/staff",className:o("staff"),children:[f.jsx(Oi.Staff,{active:r("staff")})," ",f.jsx("span",{children:"Nhn s"})]}),f.jsxs(Be,{to:"/admin/students",className:o("students"),children:[f.jsx(Oi.Student,{active:r("students")})," ",f.jsx("span",{children:"Hc vin"})]}),f.jsxs(Be,{to:"/admin/data",className:o("data"),children:[f.jsx(Oi.Data,{active:r("data")})," ",f.jsx("span",{children:"D liu"})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-100",children:f.jsxs("button",{onClick:()=>Gi.signOut(),className:"w-full flex items-center justify-center gap-2 p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[f.jsx(Oi.Logout,{})," ",f.jsx("span",{children:"ng xut"})]})})]}),f.jsxs("header",{className:"md:hidden sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-slate-200 px-4 h-14 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-7 h-7 object-contain"}),f.jsx("span",{className:"text-[#003366] font-bold text-sm",children:"BAVN Admin"})]}),f.jsx("button",{onClick:()=>Gi.signOut(),className:"p-2 text-slate-400 hover:text-red-500",children:f.jsx(Oi.Logout,{})})]}),f.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pb-24 md:pb-8 overflow-auto",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx(uf,{})})}),f.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 h-16 flex justify-around items-center z-50 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[f.jsxs(Be,{to:"/admin/staff",className:c("staff"),children:[f.jsx(Oi.Staff,{active:r("staff")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Nhn s"})]}),f.jsxs(Be,{to:"/admin/students",className:c("students"),children:[f.jsx(Oi.Student,{active:r("students")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Hc vin"})]}),f.jsxs(Be,{to:"/admin/data",className:c("data"),children:[f.jsx(Oi.Data,{active:r("data")}),f.jsx("span",{className:"text-[10px] font-medium",children:"D liu"})]})]})]})},xn={Class:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Attendance:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Scores:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"})}),Notifications:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),Logout:()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})},z6=()=>{const{userData:s,currentUser:t}=ii(),i=pn();if(!t)return f.jsx(Sn,{to:"/login"});const r=d=>i.pathname.includes(d),o=d=>`
    flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200 text-sm font-medium
    ${r(d)?"bg-blue-50 text-[#003366]":"text-slate-500 hover:bg-slate-50 hover:text-[#003366]"}
  `,c=d=>`
    flex flex-col items-center justify-center w-full h-full space-y-1
    ${r(d)?"text-[#003366]":"text-slate-400"}
  `;return f.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-slate-50 font-sans text-slate-800",children:[f.jsxs("aside",{className:"hidden md:flex w-64 border-r border-slate-200 flex-col fixed h-full z-50 bg-white",children:[f.jsxs("div",{className:"p-6 flex items-center gap-3",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-8 h-8 object-contain"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-[#003366] font-bold text-base",children:"Be Able VN"}),f.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold",children:"Staff Portal"})]})]}),f.jsx("div",{className:"px-6 pb-6",children:f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-[#003366] text-white flex items-center justify-center text-xs font-bold",children:s?.name?.charAt(0)}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("div",{className:"text-sm font-bold text-slate-700 truncate",children:s?.name}),f.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-semibold",children:s?.role})]})]})}),f.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[f.jsxs(Be,{to:"/staff/classes",className:o("classes"),children:[f.jsx(xn.Class,{active:r("classes")})," ",f.jsx("span",{children:"Lp hc"})]}),f.jsxs(Be,{to:"/staff/attendance",className:o("attendance"),children:[f.jsx(xn.Attendance,{active:r("attendance")})," ",f.jsx("span",{children:"im danh"})]}),f.jsxs(Be,{to:"/staff/scores",className:o("scores"),children:[f.jsx(xn.Scores,{active:r("scores")})," ",f.jsx("span",{children:"Kt qu"})]}),f.jsxs(Be,{to:"/staff/notifications",className:o("notifications"),children:[f.jsx(xn.Notifications,{active:r("notifications")})," ",f.jsx("span",{children:"Thng bo"})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-100",children:f.jsxs("button",{onClick:()=>Gi.signOut(),className:"w-full flex items-center justify-center gap-2 p-2.5 text-red-500 hover:bg-red-50 rounded-lg text-sm font-medium",children:[f.jsx(xn.Logout,{})," ",f.jsx("span",{children:"Thot"})]})})]}),f.jsxs("header",{className:"md:hidden sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-slate-200 px-4 h-14 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-7 h-7 object-contain"}),f.jsx("span",{className:"text-[#003366] font-bold text-sm",children:"Staff Portal"})]}),f.jsx("button",{onClick:()=>Gi.signOut(),className:"p-2 text-slate-400 hover:text-red-500",children:f.jsx(xn.Logout,{})})]}),f.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pb-24 md:pb-8 overflow-auto",children:f.jsx("div",{className:"max-w-5xl mx-auto",children:f.jsx(uf,{})})}),f.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 h-16 flex justify-around items-center z-50 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[f.jsxs(Be,{to:"/staff/classes",className:c("classes"),children:[f.jsx(xn.Class,{active:r("classes")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Lp"})]}),f.jsxs(Be,{to:"/staff/attendance",className:c("attendance"),children:[f.jsx(xn.Attendance,{active:r("attendance")}),f.jsx("span",{className:"text-[10px] font-medium",children:".Danh"})]}),f.jsxs(Be,{to:"/staff/scores",className:c("scores"),children:[f.jsx(xn.Scores,{active:r("scores")}),f.jsx("span",{className:"text-[10px] font-medium",children:"im"})]}),f.jsxs(Be,{to:"/staff/notifications",className:c("notifications"),children:[f.jsx(xn.Notifications,{active:r("notifications")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Tin"})]})]})]})},En={Dashboard:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),Attendance:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),Scores:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Notifications:({active:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:s?"#003366":"#64748b",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),Logout:()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})},H6=()=>{const{userData:s,currentUser:t}=ii(),i=pn();if(!t)return f.jsx(Sn,{to:"/login"});const r=d=>i.pathname.includes(d),o=d=>`
    flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200 text-sm font-medium
    ${r(d)?"bg-blue-50 text-[#003366]":"text-slate-500 hover:bg-slate-50 hover:text-[#003366]"}
  `,c=d=>`
    flex flex-col items-center justify-center w-full h-full space-y-1
    ${r(d)?"text-[#003366]":"text-slate-400"}
  `;return f.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-slate-50 font-sans text-slate-800",children:[f.jsxs("aside",{className:"hidden md:flex w-64 border-r border-slate-200 flex-col fixed h-full z-50 bg-white",children:[f.jsxs("div",{className:"p-6 flex items-center gap-3",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-8 h-8 object-contain"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-[#003366] font-bold text-base",children:"Be Able VN"}),f.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold",children:"Student Area"})]})]}),f.jsx("div",{className:"px-6 pb-6",children:f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-[#003366] text-white flex items-center justify-center text-xs font-bold",children:s?.name?.charAt(0)}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("div",{className:"text-sm font-bold text-slate-700 truncate",children:s?.name}),f.jsx("div",{className:"text-[10px] text-slate-400 font-mono font-medium",children:s?.studentCode})]})]})}),f.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[f.jsxs(Be,{to:"/student/dashboard",className:o("dashboard"),children:[f.jsx(En.Dashboard,{active:r("dashboard")})," ",f.jsx("span",{children:"Tng quan"})]}),f.jsxs(Be,{to:"/student/attendance",className:o("attendance"),children:[f.jsx(En.Attendance,{active:r("attendance")})," ",f.jsx("span",{children:"im danh"})]}),f.jsxs(Be,{to:"/student/scores",className:o("scores"),children:[f.jsx(En.Scores,{active:r("scores")})," ",f.jsx("span",{children:"Kt qu"})]}),f.jsxs(Be,{to:"/student/notifications",className:o("notifications"),children:[f.jsx(En.Notifications,{active:r("notifications")})," ",f.jsx("span",{children:"Bng tin"})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-100",children:f.jsxs("button",{onClick:()=>Gi.signOut(),className:"w-full flex items-center justify-center gap-2 p-2.5 text-red-500 hover:bg-red-50 rounded-lg text-sm font-medium",children:[f.jsx(En.Logout,{})," ",f.jsx("span",{children:"Thot"})]})})]}),f.jsxs("header",{className:"md:hidden sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-slate-200 px-4 h-14 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:"/BA LOGO.png",alt:"Logo",className:"w-7 h-7 object-contain"}),f.jsx("span",{className:"text-[#003366] font-bold text-sm",children:"Student Area"})]}),f.jsx("button",{onClick:()=>Gi.signOut(),className:"p-2 text-slate-400 hover:text-red-500",children:f.jsx(En.Logout,{})})]}),f.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pb-24 md:pb-8 overflow-auto",children:f.jsx("div",{className:"max-w-5xl mx-auto",children:f.jsx(uf,{})})}),f.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 h-16 flex justify-around items-center z-50 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[f.jsxs(Be,{to:"/student/dashboard",className:c("dashboard"),children:[f.jsx(En.Dashboard,{active:r("dashboard")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Tng quan"})]}),f.jsxs(Be,{to:"/student/attendance",className:c("attendance"),children:[f.jsx(En.Attendance,{active:r("attendance")}),f.jsx("span",{className:"text-[10px] font-medium",children:".Danh"})]}),f.jsxs(Be,{to:"/student/scores",className:c("scores"),children:[f.jsx(En.Scores,{active:r("scores")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Kt qu"})]}),f.jsxs(Be,{to:"/student/notifications",className:c("notifications"),children:[f.jsx(En.Notifications,{active:r("notifications")}),f.jsx("span",{className:"text-[10px] font-medium",children:"Bng tin"})]})]})]})},B6=()=>{const[s,t]=T.useState(""),[i,r]=T.useState(""),[o,c]=T.useState(""),[d,m]=T.useState(!1),p=lf(),{currentUser:g,userRole:x}=ii();T.useEffect(()=>{g&&x&&(console.log(" ng nhp, ang chuyn hng..."),p(x==="admin"?"/admin/staff":x==="staff"?"/staff/attendance":x==="student"?"/student/dashboard":"/"))},[g,x,p]);const b=async v=>{v.preventDefault(),m(!0),c("");try{await x3(Gi,s,i),p("/")}catch(E){console.error(E),c("ng nhp tht bi. Vui lng kim tra li Email/Mt khu.")}finally{m(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-800",children:"ng nhp H thng"}),o&&f.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4 text-sm",children:o}),f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:s,onChange:v=>t(v.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),f.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i,onChange:v=>r(v.target.value)})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:d?"ang x l...":"ng nhp"})]})]})})},P6=()=>{const[s,t]=T.useState({name:"",email:"",password:"",subRole:"teacher",assignedClasses:[]}),[i,r]=T.useState([]),[o,c]=T.useState([]),[d,m]=T.useState(null);T.useEffect(()=>{ot(xe(Ee,"classes"),v=>c(v.val()?Object.entries(v.val()).map(([E,A])=>({id:E,...A})):[])),ot(xe(Ee,"users"),v=>{const E=v.val();E&&r(Object.entries(E).map(([A,L])=>({id:A,...L})).filter(A=>A.role==="staff"))})},[]);const p=v=>{const E=d?d.assignedClasses||[]:s.assignedClasses,A=E.includes(v)?E.filter(L=>L!==v):[...E,v];d?m({...d,assignedClasses:A}):t({...s,assignedClasses:A})},g=async v=>{if(v.preventDefault(),!s.name||!s.email||!s.password)return alert("Thiu thng tin!");const E=wc(Pc,"StaffApp-"+Date.now());try{const A=cm(E),L=await e1(A,s.email,s.password);await kc(xe(Ee,"users/"+L.user.uid),{...s,role:"staff",createdAt:new Date().toISOString()}),await t1(A),alert(` to: ${s.email}`),t({name:"",email:"",password:"",subRole:"teacher",assignedClasses:[]})}catch(A){alert("Li: "+A.message)}finally{my(E)}},x=async v=>{window.confirm("Xa nhn s ny? (Auth vn tn ti)")&&await em(xe(Ee,`users/${v}`))},b=v=>!v||!v.length?f.jsx("span",{className:"text-slate-300 italic",children:"--"}):v.map(E=>o.find(A=>A.id===E)?.name||E).join(", ");return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-slate-100 pb-4",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM3.75 15a2.25 2.25 0 012.25-2.25h2.93a2.625 2.625 0 011.603.543c.47.372.673.855.567 1.348l-.053.25c-.29.988-1.2 1.609-2.227 1.609H6.262c-1.026 0-1.936-.621-2.226-1.61l-.054-.25a1.884 1.884 0 01.568-1.348z"})}),f.jsx("h2",{className:"text-lg font-bold text-[#003366]",children:"To Nhn s Mi"})]}),f.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366]",placeholder:"H tn",value:s.name,onChange:v=>t({...s,name:v.target.value})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg w-1/2 text-sm outline-none focus:border-[#003366]",placeholder:"Email",value:s.email,onChange:v=>t({...s,email:v.target.value})}),f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg w-1/2 text-sm outline-none focus:border-[#003366]",placeholder:"Mt khu",value:s.password,onChange:v=>t({...s,password:v.target.value})})]}),f.jsxs("select",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366] bg-white",value:s.subRole,onChange:v=>t({...s,subRole:v.target.value}),children:[f.jsx("option",{value:"teacher",children:"Gio vin"}),f.jsx("option",{value:"cco",children:"CCO"}),f.jsx("option",{value:"cca",children:"CCA"})]}),f.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg h-32 overflow-y-auto border border-slate-200",children:[f.jsx("p",{className:"text-xs font-bold text-[#003366] mb-2 uppercase tracking-wide",children:"Gn lp:"}),o.map(v=>f.jsxs("label",{className:"flex items-center gap-2 text-sm mb-1 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"accent-[#003366] w-4 h-4",checked:s.assignedClasses.includes(v.id),onChange:()=>p(v.id)})," ",v.name]},v.id))]}),f.jsx("button",{className:"md:col-span-2 bg-[#003366] text-white py-3 rounded-lg font-bold shadow-sm hover:bg-[#002244] transition-all",children:"To Ti khon"})]})]}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-md shadow-2xl animate-fade-in-up",children:[f.jsx("h3",{className:"font-bold text-lg mb-4 text-[#003366]",children:"iu chnh lp"}),f.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 mb-4 bg-slate-50 p-3 rounded border border-slate-200",children:o.map(v=>f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-sm p-1 hover:bg-slate-100 rounded",children:[f.jsx("input",{type:"checkbox",className:"accent-[#003366]",checked:(d.assignedClasses||[]).includes(v.id),onChange:()=>p(v.id)}),f.jsx("span",{children:v.name})]},v.id))}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg text-sm hover:bg-slate-50 font-medium",children:"Hy"}),f.jsx("button",{onClick:()=>{Lc(xe(Ee,`users/${d.id}`),{assignedClasses:d.assignedClasses}),m(null)},className:"px-4 py-2 bg-[#003366] text-white rounded-lg text-sm font-bold hover:bg-[#002244] shadow-sm",children:"Lu"})]})]})}),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),f.jsx("h2",{className:"text-lg font-bold text-[#003366]",children:"Danh sch Nhn s"})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200 text-xs uppercase font-bold",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4",children:"Tn"}),f.jsx("th",{className:"p-4",children:"Email"}),f.jsx("th",{className:"p-4",children:"Vai tr"}),f.jsx("th",{className:"p-4",children:"Lp"}),f.jsx("th",{className:"p-4 text-right",children:"Thao tc"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(v=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-bold text-gray-800",children:v.name}),f.jsx("td",{className:"p-4 text-slate-500",children:v.email}),f.jsx("td",{className:"p-4 uppercase text-[10px] font-bold text-slate-400",children:v.subRole}),f.jsx("td",{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"truncate max-w-[150px] text-xs text-slate-600",children:b(v.assignedClasses)}),f.jsx("button",{onClick:()=>m(v),className:"text-[#003366] border border-[#003366] text-[10px] font-bold px-2 py-0.5 rounded hover:bg-[#003366] hover:text-white transition-all",children:"Sa"})]})}),f.jsx("td",{className:"p-4 text-right",children:f.jsx("button",{onClick:()=>x(v.id),className:"text-red-500 hover:text-red-700 text-xs font-bold px-2",children:"Xa"})})]},v.id))})]})})]})]})},V6=()=>{const[s,t]=T.useState("create"),[i,r]=T.useState([]),[o,c]=T.useState([]),[d,m]=T.useState({name:"",email:"",password:"",studentCode:"",classId1:"",classId2:"",classId3:"",role:"student"}),[p,g]=T.useState(null);T.useEffect(()=>{ot(xe(Ee,"classes"),E=>r(E.val()?Object.entries(E.val()).map(([A,L])=>({id:A,...L})):[])),ot(xe(Ee,"users"),E=>{E.val()&&c(Object.entries(E.val()).map(([A,L])=>({id:A,...L})).filter(A=>A.role==="student"))})},[]);const x=async E=>{if(E.preventDefault(),!d.email||!d.password)return alert("Thiu thng tin!");const A=[d.classId1,d.classId2,d.classId3].filter(Boolean),L=wc(Pc,"StudentApp-"+Date.now());try{const I=cm(L),V=await e1(I,d.email,d.password);await kc(xe(Ee,"users/"+V.user.uid),{...d,classIds:A,createdAt:new Date().toISOString()}),await t1(I),alert(" to xong!"),m({name:"",email:"",password:"",studentCode:"",classId1:"",classId2:"",classId3:"",role:"student"})}catch(I){alert("Li: "+I.message)}finally{my(L)}},b=()=>{if(!p)return;const E=[p.classId1,p.classId2,p.classId3].filter(Boolean);Lc(xe(Ee,`users/${p.id}`),{name:p.name,studentCode:p.studentCode,classIds:E}),g(null),alert(" cp nht!")},v=E=>!E||!E.length?"---":E.map(A=>i.find(L=>L.id===A)?.name||A).join(", ");return f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex gap-6 mb-8 border-b border-slate-100",children:[f.jsx("button",{onClick:()=>t("create"),className:`pb-3 text-sm font-bold uppercase tracking-wide transition-all ${s==="create"?"text-[#003366] border-b-2 border-[#003366]":"text-slate-400 hover:text-slate-600"}`,children:"To Mi"}),f.jsx("button",{onClick:()=>t("list"),className:`pb-3 text-sm font-bold uppercase tracking-wide transition-all ${s==="list"?"text-[#003366] border-b-2 border-[#003366]":"text-slate-400 hover:text-slate-600"}`,children:"Danh Sch"})]}),s==="create"&&f.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366]",value:d.name,onChange:E=>m({...d,name:E.target.value}),placeholder:"H v Tn",required:!0}),f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366]",value:d.studentCode,onChange:E=>m({...d,studentCode:E.target.value}),placeholder:"M HV",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366]",value:d.email,onChange:E=>m({...d,email:E.target.value}),placeholder:"Email",type:"email",required:!0}),f.jsx("input",{className:"border border-slate-200 p-3 rounded-lg text-sm outline-none focus:border-[#003366]",value:d.password,onChange:E=>m({...d,password:E.target.value}),placeholder:"Mt khu",required:!0})]}),f.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-100",children:[f.jsx("p",{className:"text-xs font-bold text-[#003366] mb-3 uppercase tracking-wide",children:"Phn lp (Max 3):"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[1,2,3].map(E=>f.jsxs("select",{className:"border border-slate-200 p-2.5 rounded-lg text-sm bg-white outline-none focus:border-[#003366]",value:d[`classId${E}`],onChange:A=>m({...d,[`classId${E}`]:A.target.value}),children:[f.jsxs("option",{value:"",children:["-- Chn Lp ",E," --"]}),i.map(A=>f.jsx("option",{value:A.id,children:A.name},A.id))]},E))})]}),f.jsx("button",{className:"w-full bg-[#003366] text-white py-3.5 rounded-lg font-bold shadow-md hover:bg-[#002244] transition-all",children:"Khi to Ti khon"})]}),s==="list"&&f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4",children:"M HV"}),f.jsx("th",{className:"p-4",children:"Tn"}),f.jsx("th",{className:"p-4",children:"Email"}),f.jsx("th",{className:"p-4",children:"Lp"}),f.jsx("th",{className:"p-4 text-right",children:"Thao tc"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(E=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-mono font-bold text-slate-500",children:E.studentCode}),f.jsx("td",{className:"p-4 font-semibold text-gray-800",children:E.name}),f.jsx("td",{className:"p-4 text-slate-500",children:E.email}),f.jsx("td",{className:"p-4 text-xs font-medium text-slate-600",children:v(E.classIds)}),f.jsxs("td",{className:"p-4 text-right space-x-2",children:[f.jsx("button",{onClick:()=>g({...E,classId1:E.classIds?.[0]||"",classId2:E.classIds?.[1]||"",classId3:E.classIds?.[2]||""}),className:"text-[#003366] font-bold text-xs border border-[#003366] px-2 py-1 rounded hover:bg-[#003366] hover:text-white transition-all",children:"Sa"}),f.jsx("button",{onClick:()=>{window.confirm("Xa d liu?")&&em(xe(Ee,`users/${E.id}`))},className:"text-red-500 hover:text-red-700 text-xs font-bold px-2",children:"Xa"})]})]},E.id))})]})}),p&&f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-lg shadow-2xl animate-fade-in-up",children:[f.jsx("h3",{className:"font-bold text-lg mb-6 text-[#003366] border-b border-slate-100 pb-2",children:"Sa thng tin"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{className:"w-full border p-2.5 rounded-lg outline-none focus:border-[#003366]",value:p.name,onChange:E=>g({...p,name:E.target.value}),placeholder:"Tn"}),f.jsx("input",{className:"w-full border p-2.5 rounded-lg outline-none focus:border-[#003366]",value:p.studentCode,onChange:E=>g({...p,studentCode:E.target.value}),placeholder:"M"}),f.jsx("div",{className:"grid grid-cols-1 gap-2 bg-slate-50 p-3 rounded-lg border border-slate-100",children:[1,2,3].map(E=>f.jsxs("select",{className:"border p-2 rounded text-sm w-full bg-white outline-none focus:border-[#003366]",value:p[`classId${E}`],onChange:A=>g({...p,[`classId${E}`]:A.target.value}),children:[f.jsxs("option",{value:"",children:["Lp ",E]}),i.map(A=>f.jsx("option",{value:A.id,children:A.name},A.id))]},E))})]}),f.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[f.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm hover:bg-slate-50 font-medium",children:"Hy"}),f.jsx("button",{onClick:b,className:"px-5 py-2 bg-[#003366] text-white rounded-lg text-sm font-bold shadow-sm hover:bg-[#002244]",children:"Lu"})]})]})})]})},q6=()=>{const[s,t]=T.useState([]),[i,r]=T.useState([]),[o,c]=T.useState({name:"",room:"",subject:"",schedule:"",startTime:"",endTime:""}),[d,m]=T.useState(null),[p,g]=T.useState({room:"",schedule:""});T.useEffect(()=>{ot(xe(Ee,"classes"),v=>{const E=v.val();let A=E?Object.entries(E).map(([L,I])=>({id:L,...I})):[];A.sort((L,I)=>L.name.localeCompare(I.name)),t(A),r(A)})},[]),T.useEffect(()=>{let v=s;p.room&&(v=v.filter(E=>E.room.toLowerCase().includes(p.room.toLowerCase()))),p.schedule&&(v=v.filter(E=>E.schedule.toLowerCase().includes(p.schedule.toLowerCase()))),r(v)},[p,s]);const x=()=>{if(!o.name)return alert("Vui lng nhp tn lp");d?(Lc(xe(Ee,`classes/${d}`),o),m(null),alert(" cp nht!")):(Jf(xe(Ee,"classes"),o),alert(" thm mi!")),c({name:"",room:"",subject:"",schedule:"",startTime:"",endTime:""})},b=v=>{m(v.id),c({name:v.name,room:v.room,subject:v.subject,schedule:v.schedule,startTime:v.startTime||"",endTime:v.endTime||""})};return f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-slate-100 pb-4",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),f.jsx("h2",{className:"text-lg font-bold text-[#003366]",children:"D liu Lp hc"})]}),f.jsxs("div",{className:"bg-slate-50 p-5 rounded-lg border border-slate-100 mb-6",children:[f.jsx("h3",{className:"font-bold text-[#003366] text-xs uppercase mb-3 tracking-wide",children:d?"Chnh sa thng tin":"To lp mi"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm focus:border-[#003366] outline-none",placeholder:"Tn lp",value:o.name,onChange:v=>c({...o,name:v.target.value})}),f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm focus:border-[#003366] outline-none",placeholder:"Phng",value:o.room,onChange:v=>c({...o,room:v.target.value})}),f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm focus:border-[#003366] outline-none md:col-span-2",placeholder:"Mn hc",value:o.subject,onChange:v=>c({...o,subject:v.target.value})}),f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm focus:border-[#003366] outline-none",placeholder:"Lch (T2-T4)",value:o.schedule,onChange:v=>c({...o,schedule:v.target.value})}),f.jsxs("div",{className:"flex gap-1 md:col-span-1",children:[f.jsx("input",{type:"time",className:"border border-slate-200 p-2 rounded-lg text-xs w-1/2 focus:border-[#003366] outline-none",value:o.startTime,onChange:v=>c({...o,startTime:v.target.value})}),f.jsx("input",{type:"time",className:"border border-slate-200 p-2 rounded-lg text-xs w-1/2 focus:border-[#003366] outline-none",value:o.endTime,onChange:v=>c({...o,endTime:v.target.value})})]})]}),f.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[d&&f.jsx("button",{onClick:()=>{m(null),c({name:"",room:"",subject:"",schedule:"",startTime:"",endTime:""})},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg text-sm font-medium hover:bg-slate-50 transition-all",children:"Hy"}),f.jsx("button",{onClick:x,className:"px-5 py-2 bg-[#003366] text-white rounded-lg text-sm font-bold hover:bg-[#002244] shadow-sm transition-all",children:d?"Lu thay i":"Thm lp"})]})]}),f.jsxs("div",{className:"flex gap-3 mb-4",children:[f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm w-40 focus:border-[#003366] outline-none",placeholder:"Lc theo Phng...",value:p.room,onChange:v=>g({...p,room:v.target.value})}),f.jsx("input",{className:"border border-slate-200 p-2.5 rounded-lg text-sm w-40 focus:border-[#003366] outline-none",placeholder:"Lc theo Lch...",value:p.schedule,onChange:v=>g({...p,schedule:v.target.value})})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-200 text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4",children:"Tn lp"}),f.jsx("th",{className:"p-4",children:"Phng"}),f.jsx("th",{className:"p-4",children:"Mn hc"}),f.jsx("th",{className:"p-4",children:"Lch"}),f.jsx("th",{className:"p-4",children:"Gi"}),f.jsx("th",{className:"p-4 text-right",children:"Thao tc"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(v=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-bold text-[#003366]",children:v.name}),f.jsx("td",{className:"p-4",children:v.room}),f.jsx("td",{className:"p-4 text-slate-600",children:v.subject}),f.jsx("td",{className:"p-4",children:f.jsx("span",{className:"text-[10px] font-bold bg-blue-50 text-[#003366] px-2 py-1 rounded border border-blue-100",children:v.schedule})}),f.jsxs("td",{className:"p-4 text-xs text-slate-500",children:[v.startTime," - ",v.endTime]}),f.jsxs("td",{className:"p-4 text-right space-x-2",children:[f.jsx("button",{onClick:()=>b(v),className:"text-[#003366] text-xs font-bold border border-[#003366] px-3 py-1 rounded-lg hover:bg-[#003366] hover:text-white transition-all",children:"Sa"}),f.jsx("button",{onClick:()=>{window.confirm("Xa lp ny?")&&em(xe(Ee,`classes/${v.id}`))},className:"text-red-500 text-xs font-bold hover:underline px-2",children:"Xa"})]})]},v.id))})]})})]})},G6=()=>{const[s,t]=T.useState([]),[i,r]=T.useState([]),[o,c]=T.useState("class"),[d,m]=T.useState("");T.useEffect(()=>{ot(xe(Ee,"classes"),x=>{const b=x.val();b&&r(Object.entries(b).map(([v,E])=>({id:v,...E})))}),ot(xe(Ee,"users"),x=>{const b=x.val();if(b){const v=Object.values(b).filter(E=>E.role==="student");t(v)}})},[]);const p=(x,b)=>!x.classIds||!Array.isArray(x.classIds)?[]:x.classIds.map(v=>{const E=i.find(A=>A.id===v);return E?b==="name"?E.name:`${E.schedule} (${E.startTime}-${E.endTime})`:null}).filter(Boolean),g=s.filter(x=>{const b=p(x,"name").join(" ").toLowerCase(),v=p(x,"time").join(" ").toLowerCase(),E=d.toLowerCase();return o==="time"?v.includes(E):b.includes(E)});return f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b border-slate-100 pb-4 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),f.jsx("h2",{className:"text-xl font-bold text-[#003366]",children:"Danh sch Hc vin"})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[f.jsxs("select",{className:"border border-slate-200 p-2 rounded-lg text-sm outline-none focus:border-[#003366] bg-slate-50 font-medium text-[#003366]",value:o,onChange:x=>c(x.target.value),children:[f.jsx("option",{value:"class",children:"Xem theo Lp"}),f.jsx("option",{value:"time",children:"Xem theo Thi gian"})]}),f.jsx("input",{className:"border border-slate-200 p-2 rounded-lg text-sm outline-none focus:border-[#003366] w-full",placeholder:o==="class"?"Lc theo tn lp...":"Lc theo gi hc...",value:d,onChange:x=>m(x.target.value)})]})]}),f.jsxs("div",{className:"grid gap-3",children:[g.length===0&&f.jsx("p",{className:"text-slate-400 text-center py-8 italic",children:"Khng tm thy kt qu ph hp."}),g.map((x,b)=>{const v=p(x,o==="class"?"name":"time");return f.jsxs("div",{className:"flex justify-between items-center p-4 border border-slate-100 rounded-xl hover:shadow-md hover:border-blue-100 transition-all bg-white group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center font-bold text-[#003366]",children:x.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-gray-800",children:x.name}),f.jsx("div",{className:"text-xs text-slate-500 font-mono",children:x.studentCode})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:o==="class"?"Lp ang hc":"Lch hc"}),f.jsx("div",{className:"flex flex-col items-end gap-1",children:v.length>0?v.map((E,A)=>f.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium border ${o==="class"?"bg-blue-50 text-[#003366] border-blue-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:E},A)):f.jsx("span",{className:"text-xs text-slate-300 italic",children:"Cha xp lp"})})]})]},b)})]})]})},Y6=()=>{const[s,t]=T.useState("take"),[i,r]=T.useState([]),[o,c]=T.useState([]),[d,m]=T.useState(""),[p,g]=T.useState(new Date().toISOString().split("T")[0]),[x,b]=T.useState({}),[v,E]=T.useState({}),[A,L]=T.useState(""),[I,V]=T.useState("");T.useEffect(()=>{ot(xe(Ee,"classes"),F=>c(F.val()?Object.entries(F.val()).map(([ne,Z])=>({id:ne,...Z})):[])),ot(xe(Ee,"users"),F=>{F.val()&&r(Object.entries(F.val()).map(([ne,Z])=>({id:ne,...Z})).filter(ne=>ne.role==="student"))}),ot(xe(Ee,"attendance"),F=>E(F.val()||{}))},[]);const B=d?i.filter(F=>(F.classIds||[]).includes(d)||F.classId===d):[],Y=()=>{const F={};B.forEach(ne=>{x[ne.id]&&(F[`attendance/${d}/${p}/${ne.id}`]=x[ne.id])}),Lc(xe(Ee),F),alert(" lu!")},ge=F=>{const ne=v[d]||{};let Z={present:0,late:0,absent:0,excused:0};return Object.keys(ne).forEach(Le=>{if((!A||Le>=A)&&(!I||Le<=I)){const Fe=ne[Le][F];Fe&&(Z[Fe]=(Z[Fe]||0)+1)}}),Z};return f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex gap-6 mb-6 border-b border-slate-100",children:[f.jsx("button",{onClick:()=>t("take"),className:`pb-3 text-sm font-bold uppercase tracking-wide transition-all ${s==="take"?"text-[#003366] border-b-2 border-[#003366]":"text-slate-400 hover:text-slate-600"}`,children:"im danh"}),f.jsx("button",{onClick:()=>t("summary"),className:`pb-3 text-sm font-bold uppercase tracking-wide transition-all ${s==="summary"?"text-[#003366] border-b-2 border-[#003366]":"text-slate-400 hover:text-slate-600"}`,children:"Tng kt"})]}),f.jsxs("select",{className:"border border-slate-200 p-2.5 rounded-lg w-full md:w-1/3 text-sm outline-none focus:border-[#003366] mb-6 font-medium",value:d,onChange:F=>m(F.target.value),children:[f.jsx("option",{value:"",children:"-- Chn Lp --"}),o.map(F=>f.jsx("option",{value:F.id,children:F.name},F.id))]}),s==="take"&&d&&f.jsxs("div",{className:"animate-fade-in-up",children:[f.jsx("input",{type:"date",className:"border border-slate-200 p-2.5 rounded-lg mb-4 text-sm font-medium outline-none focus:border-[#003366]",value:p,onChange:F=>g(F.target.value)}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4",children:"Hc vin"}),f.jsx("th",{className:"p-4 text-center text-green-600",children:"C mt"}),f.jsx("th",{className:"p-4 text-center text-orange-500",children:"Tr"}),f.jsx("th",{className:"p-4 text-center text-red-500",children:"K.Php"}),f.jsx("th",{className:"p-4 text-center text-blue-500",children:"C Php"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:B.map(F=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsxs("td",{className:"p-4 font-medium text-gray-800",children:[F.name,f.jsx("br",{}),f.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:F.studentCode})]}),["present","late","absent","excused"].map(ne=>f.jsx("td",{className:"p-4 text-center",children:f.jsx("input",{type:"radio",className:"w-5 h-5 accent-[#003366] cursor-pointer",name:`att-${F.id}`,checked:x[F.id]===ne,onChange:()=>b({...x,[F.id]:ne})})},ne))]},F.id))})]})}),f.jsx("button",{onClick:Y,className:"mt-6 w-full bg-[#003366] text-white py-3 rounded-lg font-bold shadow-md hover:bg-[#002244] transition-all",children:"Lu D Liu"})]}),s==="summary"&&d&&f.jsxs("div",{className:"animate-fade-in-up",children:[f.jsxs("div",{className:"flex gap-3 mb-6 items-end bg-slate-50 p-4 rounded-xl border border-slate-100",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-[10px] font-bold text-[#003366] uppercase mb-1 block tracking-wide",children:"T ngy"}),f.jsx("input",{type:"date",className:"w-full border border-slate-200 p-2 rounded-lg text-sm bg-white outline-none focus:border-[#003366]",value:A,onChange:F=>L(F.target.value)})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-[10px] font-bold text-[#003366] uppercase mb-1 block tracking-wide",children:"n ngy"}),f.jsx("input",{type:"date",className:"w-full border border-slate-200 p-2 rounded-lg text-sm bg-white outline-none focus:border-[#003366]",value:I,onChange:F=>V(F.target.value)})]})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4",children:"Hc vin"}),f.jsx("th",{className:"p-4 text-center",children:""}),f.jsx("th",{className:"p-4 text-center",children:""}),f.jsx("th",{className:"p-4 text-center",children:""}),f.jsx("th",{className:"p-4 text-center",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:B.map(F=>{const ne=ge(F.id);return f.jsxs("tr",{className:"hover:bg-slate-50",children:[f.jsx("td",{className:"p-4 font-medium text-[#003366]",children:F.name}),f.jsx("td",{className:"p-4 text-center font-bold text-green-600 bg-green-50/50",children:ne.present}),f.jsx("td",{className:"p-4 text-center font-bold text-orange-500 bg-orange-50/50",children:ne.late}),f.jsx("td",{className:"p-4 text-center font-bold text-red-500 bg-red-50/50",children:ne.absent}),f.jsx("td",{className:"p-4 text-center font-bold text-blue-500 bg-blue-50/50",children:ne.excused})]},F.id)})})]})})]})]})},F6=()=>{const[s,t]=T.useState([]),[i,r]=T.useState(""),[o,c]=T.useState([]),[d,m]=T.useState("bonus"),[p,g]=T.useState({content:"",score:""}),[x,b]=T.useState({});T.useEffect(()=>{ot(xe(Ee,"classes"),I=>c(I.val()?Object.entries(I.val()).map(([V,B])=>({id:V,...B})):[])),ot(xe(Ee,"users"),I=>{I.val()&&t(Object.entries(I.val()).map(([V,B])=>({id:V,...B})).filter(V=>V.role==="student"))}),ot(xe(Ee,"scores"),I=>b(I.val()||{}))},[]);const v=i?s.filter(I=>(I.classIds||[]).includes(i)||I.classId===i):[],E=I=>{if(!p.score||!p.content)return alert("Nhp  thng tin!");Jf(xe(Ee,`scores/${I}/${d}`),{value:Number(p.score),content:p.content,date:new Date().toLocaleDateString("vi-VN")+" "+new Date().toLocaleTimeString("vi-VN")}),alert(" lu!"),g({content:"",score:""})},A=I=>Object.entries(x[I]?.[d]||{}).map(([V,B])=>({id:V,...B})),L=I=>{if(!I.length)return 0;const V=I.reduce((B,Y)=>B+(Y.value||0),0);return d==="bonus"?V:(V/I.length).toFixed(1)};return f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),f.jsx("h2",{className:"text-xl font-bold text-[#003366]",children:"Nhp Kt qu Hc tp"})]}),f.jsxs("select",{className:"border border-slate-200 p-2.5 rounded-lg w-full md:w-1/3 text-sm outline-none focus:border-[#003366] mb-6 font-medium",value:i,onChange:I=>r(I.target.value),children:[f.jsx("option",{value:"",children:"-- Chn Lp --"}),o.map(I=>f.jsx("option",{value:I.id,children:I.name},I.id))]}),f.jsx("div",{className:"flex gap-1 mb-6 overflow-x-auto pb-2 border-b border-slate-100",children:[{id:"bonus",l:"im Cng"},{id:"homework",l:"BTVN"},{id:"test",l:"Kim tra"}].map(I=>f.jsx("button",{onClick:()=>m(I.id),className:`px-5 py-2 rounded-t-lg text-sm font-bold whitespace-nowrap transition-all ${d===I.id?"bg-[#003366] text-white shadow-sm":"bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:I.l},I.id))}),i&&f.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl mb-8 border border-slate-100 flex flex-col md:flex-row gap-4 items-end shadow-inner",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"text-[10px] font-bold text-[#003366] uppercase mb-1 block tracking-wide",children:"Ni dung nh gi"}),f.jsx("input",{className:"w-full border border-slate-200 p-2.5 rounded-lg text-sm outline-none focus:border-[#003366] bg-white shadow-sm",placeholder:"...",value:p.content,onChange:I=>g({...p,content:I.target.value})})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"text-[10px] font-bold text-[#003366] uppercase mb-1 block tracking-wide",children:"im"}),f.jsx("input",{type:"number",className:"w-full border border-slate-200 p-2.5 rounded-lg text-sm outline-none focus:border-[#003366] bg-white text-center font-bold shadow-sm",placeholder:"10",value:p.score,onChange:I=>g({...p,score:I.target.value})})]})]}),f.jsx("div",{className:"space-y-4",children:v.map((I,V)=>{const B=A(I.id);return f.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"bg-white p-4 flex justify-between items-center border-b border-slate-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 text-[#003366] flex items-center justify-center font-bold text-xs",children:V+1}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-[#003366] text-sm",children:I.name}),f.jsx("div",{className:"text-xs text-slate-400 font-mono",children:I.studentCode})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 block uppercase tracking-wide",children:d==="bonus"?"Tng":"TB"}),f.jsx("span",{className:"text-xl font-extrabold text-emerald-600",children:L(B)})]}),f.jsxs("button",{onClick:()=>E(I.id),className:"bg-[#003366] text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-[#002244] transition-all shadow-sm flex items-center gap-1",children:[f.jsx("span",{children:""})," Lu"]})]})]}),B.length>0&&f.jsxs("table",{className:"w-full text-xs text-left bg-slate-50/50",children:[f.jsx("thead",{className:"text-slate-500 font-semibold border-b border-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-center w-12",children:"#"}),f.jsx("th",{className:"p-3",children:"Ni dung"}),f.jsx("th",{className:"p-3",children:"Ngy"}),f.jsx("th",{className:"p-3 text-center",children:"im"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:B.map((Y,ge)=>f.jsxs("tr",{className:"hover:bg-blue-50/30",children:[f.jsx("td",{className:"p-3 text-center text-slate-400",children:ge+1}),f.jsx("td",{className:"p-3 font-medium text-slate-700",children:Y.content}),f.jsx("td",{className:"p-3 text-slate-500",children:Y.date}),f.jsx("td",{className:"p-3 text-center font-bold text-[#003366]",children:Y.value})]},Y.id))})]})]},I.id)})})]})},K6=()=>{const[s,t]=T.useState("text"),[i,r]=T.useState(""),[o,c]=T.useState(""),[d,m]=T.useState("homework"),p=()=>{if(s==="text"&&!i)return alert("Vui lng nhp ni dung!");if(s==="link"&&!o)return alert("Vui lng nhp ng dn!");Jf(xe(Ee,"notifications"),{mode:s,content:s==="text"?i:o,label:s==="text"?d:"link",date:new Date().toLocaleDateString("vi-VN"),author:"Gio vin/CCO",timestamp:Date.now()}),r(""),c(""),alert(" ng thng bo!")};return f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.996.912 2.164 1.661 2.868C12.72 18.261 13.9 18 14.5 18c.6 0 1.78-.261 2.5-.952.749-.704 1.408-1.872 1.661-2.868m-7.821-7.42a6 6 0 00-1.2-.533m8.91 9.963a6.002 6.002 0 01-1.2.533m-7.71-10.496a3.504 3.504 0 011.05-1.928m6.72 1.928a3.504 3.504 0 00-1.05-1.928"})}),f.jsx("h2",{className:"text-xl font-bold text-[#003366]",children:"ng Thng Bo Mi"})]}),f.jsxs("div",{className:"flex gap-4 mb-6",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"postMode",className:"accent-[#003366]",checked:s==="text",onChange:()=>t("text")}),f.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Ni dung & Nhn"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"postMode",className:"accent-[#003366]",checked:s==="link",onChange:()=>t("link")}),f.jsx("span",{className:"text-sm font-bold text-slate-700",children:"ng Hyperlink"})]})]}),s==="text"&&f.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-2",children:"Chn Nhn dn:"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>m("homework"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${d==="homework"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-100 hover:bg-blue-50"}`,children:"Bo bi"}),f.jsx("button",{onClick:()=>m("important"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${d==="important"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-100 hover:bg-red-50"}`,children:"Quan trng"}),f.jsx("button",{onClick:()=>m("event"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${d==="event"?"bg-yellow-500 text-white border-yellow-500":"bg-white text-yellow-600 border-yellow-100 hover:bg-yellow-50"}`,children:"S kin"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("textarea",{className:"w-full border border-slate-200 p-4 rounded-xl h-40 focus:ring-2 focus:ring-blue-50 focus:border-[#003366] outline-none resize-none text-sm leading-relaxed",placeholder:"Nhp ni dung thng bo...",value:i,onChange:g=>r(g.target.value)}),f.jsxs("div",{className:"absolute bottom-4 right-4 text-xs text-slate-400",children:[i.length," k t"]})]})]}),s==="link"&&f.jsxs("div",{className:"animate-fade-in-up mb-6",children:[f.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-2",children:"ng dn Website:"}),f.jsxs("div",{className:"flex items-center border border-slate-200 rounded-xl px-3 py-2 focus-within:ring-2 focus-within:ring-blue-50 focus-within:border-[#003366]",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#94a3b8",className:"w-5 h-5 mr-2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),f.jsx("input",{className:"w-full outline-none text-sm text-[#003366]",placeholder:"https://example.com",value:o,onChange:g=>c(g.target.value)})]}),f.jsx("p",{className:"text-xs text-slate-400 mt-2 italic",children:"*Hc vin s thy nt bm  m trc tip trang web ny."})]}),f.jsx("div",{className:"flex justify-end mt-4",children:f.jsxs("button",{onClick:p,className:"bg-[#003366] text-white px-8 py-3 rounded-xl font-bold shadow-md hover:bg-[#002244] hover:shadow-lg transition-all flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),"ng bi"]})})]})},Q6=()=>{const{userData:s}=ii(),[t,i]=T.useState([]);return T.useEffect(()=>{ot(xe(Ee,"classes"),r=>{const o=r.val();if(o){const d=Object.entries(o).map(([m,p])=>({id:m,...p})).filter(m=>s.classIds&&s.classIds.includes(m.id)||s.classId===m.id);i(d)}})},[s]),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-5 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-slate-50 rounded-full translate-x-10 -translate-y-10"}),f.jsx("div",{className:"w-16 h-16 bg-[#003366] rounded-full flex items-center justify-center text-white shadow-md z-10",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.516 50.552 50.552 0 00-2.658.813m-15.482 0A50.55 50.55 0 0112 13.489a50.55 50.55 0 016.744-3.342"})})}),f.jsxs("div",{className:"z-10",children:[f.jsxs("h1",{className:"text-2xl font-bold text-[#003366]",children:["Cho, ",s?.name]}),f.jsxs("p",{className:"text-slate-500 mt-1 text-sm",children:["M Hc vin: ",f.jsx("span",{className:"font-mono font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded",children:s?.studentCode})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-[#003366]",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),"Lch hc ca bn"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length>0?t.map(r=>f.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-100 hover:border-[#003366] transition-colors group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-lg font-bold text-[#003366] group-hover:text-blue-700 transition-colors",children:r.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider mt-1",children:r.subject})]}),f.jsx("span",{className:"text-xs bg-white border border-slate-200 text-slate-600 px-2 py-1 rounded font-medium",children:r.room})]}),f.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-[#003366]",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),f.jsx("span",{className:"font-medium",children:r.schedule})]}),f.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-bold",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{children:[r.startTime," - ",r.endTime]})]})]})]},r.id)):f.jsx("p",{className:"text-slate-400 italic text-center col-span-2 py-8",children:"Bn cha c xp lp."})})]})]})},W6=()=>{const{userData:s}=ii(),[t,i]=T.useState({}),[r,o]=T.useState({});return T.useEffect(()=>{ot(xe(Ee,"classes"),c=>{const d=c.val();d&&o(d)}),ot(xe(Ee,"attendance"),c=>{const d=c.val();if(d&&s){let m={};Object.keys(d).forEach(p=>{m[p]||(m[p]={present:0,late:0,excused:0,absent:0}),Object.keys(d[p]).forEach(g=>{const x=d[p][g][s.uid];x&&m[p][x]!==void 0&&m[p][x]++})}),i(m)}})},[s]),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[f.jsxs("h2",{className:"text-xl font-bold mb-6 text-[#003366] flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),"Mc  Chuyn cn"]}),Object.keys(t).length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-4xl mb-2 grayscale opacity-30",children:""}),f.jsx("p",{className:"text-slate-400 italic text-sm",children:"Cha c d liu im danh."})]}):f.jsx("div",{className:"space-y-8",children:Object.entries(t).map(([c,d])=>f.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[f.jsxs("h3",{className:"font-bold text-[#003366] mb-4 text-sm flex items-center gap-2 border-b border-slate-200 pb-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-[#003366]"}),"Lp: ",r[c]?.name||"ang ti..."]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center hover:border-green-200 transition-colors",children:[f.jsx("span",{className:"text-3xl font-extrabold text-green-600 mb-1",children:d.present}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-green-700 bg-green-50 px-2 py-0.5 rounded-full uppercase",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"ng gi"]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center hover:border-orange-200 transition-colors",children:[f.jsx("span",{className:"text-3xl font-extrabold text-orange-500 mb-1",children:d.late}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-orange-700 bg-orange-50 px-2 py-0.5 rounded-full uppercase",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"i tr"]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center hover:border-blue-200 transition-colors",children:[f.jsx("span",{className:"text-3xl font-extrabold text-blue-600 mb-1",children:d.excused}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-blue-700 bg-blue-50 px-2 py-0.5 rounded-full uppercase",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"C php"]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center hover:border-red-200 transition-colors",children:[f.jsx("span",{className:"text-3xl font-extrabold text-red-600 mb-1",children:d.absent}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-red-700 bg-red-50 px-2 py-0.5 rounded-full uppercase",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Khng php"]})]})]})]},c))})]})},X6=()=>{const{currentUser:s}=ii(),[t,i]=T.useState(null);if(T.useEffect(()=>{s&&ot(xe(Ee,`scores/${s.uid}`),o=>{i(o.val())})},[s]),!t)return f.jsx("div",{className:"bg-white p-8 rounded-xl border border-slate-100 shadow-sm text-center text-slate-400 italic",children:"Cha c d liu im."});const r=({title:o,value:c,icon:d,bgClass:m,textClass:p,borderClass:g})=>f.jsxs("div",{className:`p-6 rounded-xl border ${m} ${g} flex items-center justify-between`,children:[f.jsxs("div",{children:[f.jsx("div",{className:`text-3xl font-extrabold mb-1 ${p}`,children:c}),f.jsx("div",{className:`text-sm font-bold opacity-80 ${p}`,children:o})]}),f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center bg-white/80 shadow-sm ${p}`,children:d})]});return f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[f.jsxs("h2",{className:"text-xl font-bold mb-6 text-[#003366] flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),"Bng Tng hp im"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(r,{title:"im Cng",value:`+${t.bonus||0}`,bgClass:"bg-green-50",borderClass:"border-green-100",textClass:"text-green-700",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),f.jsx(r,{title:"Bi Tp",value:t.homework||0,bgClass:"bg-blue-50",borderClass:"border-blue-100",textClass:"text-[#003366]",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),f.jsx(r,{title:"Kim Tra",value:t.test||0,bgClass:"bg-purple-50",borderClass:"border-purple-100",textClass:"text-purple-700",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]})},Z6=()=>{const[s,t]=T.useState([]);T.useEffect(()=>{ot(xe(Ee,"notifications"),r=>{const o=r.val();t(o?Object.values(o).sort((c,d)=>(d.timestamp||0)-(c.timestamp||0)):[])})},[]);const i=r=>{switch(r){case"homework":return f.jsx("span",{className:"bg-blue-100 text-blue-700 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide border border-blue-200",children:"Bo bi"});case"important":return f.jsx("span",{className:"bg-red-100 text-red-700 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide border border-red-200",children:"Quan trng"});case"event":return f.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide border border-yellow-200",children:"S kin"});case"link":return f.jsx("span",{className:"bg-slate-100 text-slate-600 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide border border-slate-200",children:" Lin kt"});default:return f.jsx("span",{className:"bg-gray-100 text-gray-600 text-[10px] font-bold px-2 py-1 rounded uppercase",children:"Thng bo"})}};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h2",{className:"text-xl font-bold text-[#003366] mb-6 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),"Bng Tin & S Kin"]}),s.map((r,o)=>f.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[f.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 group-hover:w-2 transition-all ${r.label==="important"?"bg-red-500":r.label==="event"?"bg-yellow-500":r.label==="homework"?"bg-blue-500":"bg-slate-400"}`}),f.jsxs("div",{className:"flex justify-between items-start mb-3 pl-3",children:[i(r.label),f.jsx("span",{className:"text-xs text-slate-400 font-medium",children:r.date})]}),f.jsx("div",{className:"pl-3",children:r.mode==="link"?f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-sm text-slate-600 mb-3 italic",children:"Gio vin  chia s mt lin kt:"}),f.jsxs("a",{href:r.content,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-[#003366] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-[#002244] transition-colors shadow-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),"M Trang Web"]})]}):f.jsx("p",{className:"text-slate-800 font-medium leading-relaxed text-sm whitespace-pre-line",children:r.content})}),f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-xs text-slate-500 pl-3 flex items-center gap-1",children:[f.jsx("span",{className:"font-bold text-[#003366]",children:"ng bi:"})," ",r.author||"Ban qun l"]})]},o)),s.length===0&&f.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-100 text-slate-300",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-12 h-12",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),"Khng c thng bo mi."]})]})},$6=()=>{const{currentUser:s,userRole:t,loading:i}=ii();return i?f.jsx("div",{className:"h-screen flex items-center justify-center",children:"ang ti..."}):s?t==="admin"?f.jsx(Sn,{to:"/admin/staff"}):t==="staff"?f.jsx(Sn,{to:"/staff/classes"}):t==="student"?f.jsx(Sn,{to:"/student/dashboard"}):f.jsx("div",{className:"p-10 text-center",children:"Ti khon cha c phn quyn."}):f.jsx(Sn,{to:"/login"})},Rh=({children:s,allowedRoles:t})=>{const{currentUser:i,userRole:r,loading:o}=ii();return o?f.jsx("div",{children:"ang kim tra quyn..."}):i?t&&!t.includes(r)?f.jsx(Sn,{to:"/"}):s:f.jsx(Sn,{to:"/login"})};function J6(){return f.jsx(L6,{children:f.jsx(_S,{children:f.jsxs(KE,{children:[f.jsx(at,{path:"/login",element:f.jsx(B6,{})}),f.jsxs(at,{path:"/admin",element:f.jsx(Rh,{allowedRoles:["admin"],children:f.jsx(U6,{})}),children:[f.jsx(at,{path:"staff",element:f.jsx(P6,{})}),f.jsx(at,{path:"students",element:f.jsx(V6,{})}),f.jsx(at,{path:"data",element:f.jsx(q6,{})})]}),f.jsxs(at,{path:"/staff",element:f.jsx(Rh,{allowedRoles:["staff","admin"],children:f.jsx(z6,{})}),children:[f.jsx(at,{path:"classes",element:f.jsx(G6,{})}),f.jsx(at,{path:"attendance",element:f.jsx(Y6,{})}),f.jsx(at,{path:"scores",element:f.jsx(F6,{})}),f.jsx(at,{path:"notifications",element:f.jsx(K6,{})})]}),f.jsxs(at,{path:"/student",element:f.jsx(Rh,{allowedRoles:["student"],children:f.jsx(H6,{})}),children:[f.jsx(at,{path:"dashboard",element:f.jsx(Q6,{})}),f.jsx(at,{path:"attendance",element:f.jsx(W6,{})}),f.jsx(at,{path:"scores",element:f.jsx(X6,{})}),f.jsx(at,{path:"notifications",element:f.jsx(Z6,{})})]}),f.jsx(at,{path:"/",element:f.jsx($6,{})}),f.jsx(at,{path:"*",element:f.jsx(Sn,{to:"/"})})]})})})}Q2.createRoot(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(J6,{})}));
